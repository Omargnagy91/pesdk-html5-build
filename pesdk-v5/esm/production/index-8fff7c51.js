import e,{keyframes as t,css as n,ThemeProvider as r}from"styled-components";import{isRGBAArray as i,isRGBAObject as o,isRGBArray as a,isRGBObject as s,LegacyEngineAdapter as l,ConversionUtils as c,measureTextDimensions as u,EngineEvent as d}from"./engine.production.min.js";import p,{forwardRef as f,Component as h,PureComponent as m,createElement as g,Children as y}from"react";import v,{unstable_batchedUpdates as b,findDOMNode as _}from"react-dom";import{renderToStaticMarkup as x}from"react-dom/server";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var w=function(e,t){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function S(e,t){function n(){this.constructor=e}w(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var E=function(){return(E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function k(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function C(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function T(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function O(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function I(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function R(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function M(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(R(arguments[t]));return e}function A(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var P=function(){function e(e,t,n){void 0===t&&(t={x:1,y:1}),void 0===n&&(n=0),this.position=e,this.scale=t,this.rotation=n}return Object.defineProperty(e,"IDENTITY",{get:function(){return new e({x:0,y:0})},enumerable:!0,configurable:!0}),e}(),z=function(){function e(e,t){"number"==typeof e?(this.x=e,this.y=t):(this.x=e.x,this.y=e.y)}return e.fromSize=function(t){return new e(t.width,t.height)},e.distance=function(e,t){var n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)},e.dot=function(e,t){return e.x*t.x+e.y*t.y},e.lerp=function(t,n,r){var i=Math.min(Math.max(r,0),1);return new e(t.x*i+n.x*(1-i),t.y*i+n.y*(1-i))},e.lerpUnclamped=function(t,n,r){return new e(t.x*r+n.x*(1-r),t.y*r+n.y*(1-r))},e.proportionalFit=function(e,t){return e.x/e.y>t.x/t.y?t.multiply(e.y/t.y):t.multiply(e.x/t.x)},Object.defineProperty(e.prototype,"magnitude",{get:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"normalized",{get:function(){var t=this.magnitude;return new e(this.x/t,this.y/t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"floored",{get:function(){return new e(Math.floor(this.x),Math.floor(this.y))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rounded",{get:function(){return new e(Math.round(this.x),Math.round(this.y))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return Math.min(this.x,this.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return Math.max(this.x,this.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"abs",{get:function(){return new e(Math.abs(this.x),Math.abs(this.y))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"swapped",{get:function(){return new e(this.y,this.x)},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.add=function(t,n){return"number"==typeof t?new e(this.x+t,this.y+n):new e(this.x+t.x,this.y+t.y)},e.prototype.subtract=function(t,n){return"number"==typeof t?new e(this.x-t,this.y-n):new e(this.x-t.x,this.y-t.y)},e.prototype.multiply=function(t,n){return"number"==typeof t?new e(this.x*t,this.y*(void 0===n?t:n)):new e(this.x*t.x,this.y*t.y)},e.prototype.divide=function(t,n){return"number"==typeof t?new e(this.x/t,this.y/(void 0===n?t:n)):new e(this.x/t.x,this.y/t.y)},e.prototype.equals=function(e){return this.x===e.x&&this.y===e.y},e.prototype.clamp=function(t,n){return new e(Math.max(t.x,Math.min(n.x,this.x)),Math.max(t.y,Math.min(n.y,this.y)))},e.ZERO=new e(0,0),e.ONE=new e(1,1),e.UP=new e(0,1),e.DOWN=new e(0,-1),e.RIGHT=new e(1,0),e.LEFT=new e(-1,0),e}();(function(){function e(e,t,n,r){if("number"==typeof e){if("number"!=typeof t||void 0===n||void 0===r)throw new Error("Invalid arguments passed to Rect. Expected (number, number, number, number)");this.origin={x:e,y:t},this.size={width:n||0,height:r||0}}else{if(this.origin=e,"number"==typeof t)throw new Error("Invalid arguments passed to Rect. Expected (Float2, Size)");this.size=t}}e.contains=function(e,t){return t.x>=e.minX&&t.x<=e.maxX&&t.y>=e.minY&&t.y<=e.maxY},Object.defineProperty(e.prototype,"minX",{get:function(){return this.origin.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minY",{get:function(){return this.origin.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"midX",{get:function(){return this.origin.x+.5*this.size.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"midY",{get:function(){return this.origin.y+.5*this.size.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxX",{get:function(){return this.origin.x+this.size.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxY",{get:function(){return this.origin.y+this.size.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.size.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.size.height},enumerable:!0,configurable:!0}),e.ZERO=new e({x:0,y:0},{width:0,height:0})})(),function(){function e(e,t,n,r,i,o){this.a=e,this.b=t,this.c=n,this.d=r,this.tx=i,this.ty=o}e.fromScale=function(t,n){return new e(t,0,0,n,0,0)},e.fromRotation=function(t){var n=Math.cos(t),r=Math.sin(t);return new e(n,-r,r,n,0,0)},e.fromRotationDeg=function(e){var t=Math.PI*e/180;return this.fromRotation(t)},e.fromTranslation=function(t,n){return new e(1,0,0,1,t,n)},e.fromTRS=function(t,n,r,i,o){var a=Math.cos(r),s=Math.sin(r);return new e(i*a,-o*s,i*s,o*a,t,n)},e.multiply=function(t,n){return new e(t.a*n.a+t.b*n.c,t.a*n.b+t.b*n.d,t.c*n.a+t.d*n.c,t.c*n.b+t.d*n.d,t.a*n.tx+t.b*n.ty+t.tx,t.c*n.tx+t.d*n.ty+t.ty)},e.transformPoint=function(e,t){return{x:e.a*t.x+e.b*t.y+e.tx,y:e.c*t.x+e.d*t.y+e.ty}},e.getInverted=function(t){var n=t.a*t.d-t.b*t.c;if(0===n)return t;var r=1/n;return new e(r*t.d,-r*t.b,-r*t.c,r*t.a,r*(t.b*t.ty-t.d*t.tx),r*(t.c*t.tx-t.a*t.ty))},e.IDENTITY=e.fromScale(1,1)}();function D(e){return"number"==typeof e}function L(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}window.performance.now.bind(window.performance);var F,j,B,U=function(){function e(e){this.text=e,this.lastOffsetWidth=-1;var t="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.element=document.createElement("div"),this.element.setAttribute("aria-hidden","true"),this.element.appendChild(document.createTextNode(e)),this.collapsible=document.createElement("span"),this.expandable=document.createElement("span"),this.collapsibleInner=document.createElement("span"),this.expandableInner=document.createElement("span"),this.collapsible.style.cssText=t,this.expandable.style.cssText=t,this.expandableInner.style.cssText=t,this.collapsibleInner.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.collapsible.appendChild(this.collapsibleInner),this.expandable.appendChild(this.expandableInner),this.element.appendChild(this.collapsible),this.element.appendChild(this.expandable)}return e.prototype.getElement=function(){return this.element},e.prototype.setFont=function(e){this.element.style.cssText="max-width:none;\n      min-width:20px;\n      min-height:20px;\n      display:inline-block;\n      overflow:hidden;\n      position:absolute;\n      width:auto;\n      margin:0;\n      padding:0;\n      top:-999px;\n      white-space:nowrap;\n      font-synthesis:none;\n      font:"+e+";"},e.prototype.getWidth=function(){return this.element.offsetWidth},e.prototype.setWidth=function(e){this.element.style.width=e+"px"},e.prototype.onResize=function(e){var t=this,n=function(){t.onScroll(e)};this.collapsible.addEventListener("scroll",n),this.expandable.addEventListener("scroll",n),this.reset()},e.prototype.reset=function(){var e=this.getWidth(),t=e+100;return this.expandableInner.style.width=t+"px",this.expandable.scrollLeft=t,this.collapsible.scrollLeft=this.collapsible.scrollWidth+100,this.lastOffsetWidth!==e&&(this.lastOffsetWidth=e,!0)},e.prototype.onScroll=function(e){this.reset()&&null!==this.element.parentNode&&e(this.lastOffsetWidth)},e}(),N=function(){function e(e){this.font=E({fontFamily:"normal",fontStyle:"normal",fontWeight:"normal",fontStretch:"normal"},e)}return e.getUserAgent=function(){return window.navigator.userAgent},e.getNavigatorVendor=function(){return window.navigator.vendor},e.hasWebKitFallbackBug=function(){if(null===e.HAS_WEBKIT_FALLBACK_BUG){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(e.getUserAgent());e.HAS_WEBKIT_FALLBACK_BUG=!!t&&(parseInt(t[1],10)<536||536===parseInt(t[1],10)&&parseInt(t[2],10)<=11)}return e.HAS_WEBKIT_FALLBACK_BUG},e.hasSafari10Bug=function(){if(null===e.HAS_SAFARI_10_BUG)if(e.supportsNativeFontLoading()&&/Apple/.test(e.getNavigatorVendor())){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(e.getUserAgent());e.HAS_SAFARI_10_BUG=!!t&&parseInt(t[1],10)<603}else e.HAS_SAFARI_10_BUG=!1;return e.HAS_SAFARI_10_BUG},e.supportsNativeFontLoading=function(){return null===e.SUPPORTS_NATIVE_FONT_LOADING&&(e.SUPPORTS_NATIVE_FONT_LOADING=!!document.fonts),e.SUPPORTS_NATIVE_FONT_LOADING},e.supportsStretch=function(){if(null===e.SUPPORTS_STRETCH){var t=document.createElement("div");try{t.style.font="condensend 100px sans-serif"}catch(t){e.SUPPORTS_STRETCH=!1}e.SUPPORTS_STRETCH=""!==t.style.font}return e.SUPPORTS_STRETCH},e.prototype.load=function(t,n){var r=this,i=null,o=n||e.DEFAULT_TIMEOUT,a=this.getTime();return new Promise((function(t,n){if(e.supportsNativeFontLoading()&&!e.hasSafari10Bug()){var s=new Promise((function(e,t){var i=function(){r.getTime()-a>=o?t(new Error(o+"ms timeout exceeded")):document.fonts.load(r.getStyle('"'+r.font.fontFamily+'"'),"BESbswy").then((function(t){t.length>=1?e():setTimeout(i,25)}),n)};i()})),l=new Promise((function(e,t){i=setTimeout((function(){t(new Error(o+" ms timeout exceeded"))}),o)}));Promise.race([l,s]).then((function(){clearTimeout(i),t(r)}),n)}else{var c=new U("BESbswy"),u=new U("BESbswy"),d=new U("BESbswy"),p=-1,f=-1,h=-1,m=-1,g=-1,y=-1,v=document.createElement("div"),b=function(){null!==v.parentNode&&v.parentNode.removeChild(v)},_=function(){if((-1!==p&&-1!==f||-1!==p&&-1!==h||-1!==f&&-1!==h)&&(p===f||p===h||f===h)){if(e.hasWebKitFallbackBug()&&(p===m&&f===m&&h===m||p===g&&f===g&&h===g||p===y&&f===y&&h===y))return;b(),clearTimeout(i),t(r)}};v.dir="ltr",c.setFont(r.getStyle("sans-serif")),u.setFont(r.getStyle("serif")),d.setFont(r.getStyle("monospace")),v.appendChild(c.getElement()),v.appendChild(u.getElement()),v.appendChild(d.getElement()),document.body.appendChild(v),m=c.getWidth(),g=u.getWidth(),y=d.getWidth();var x=function(){if(r.getTime()-a>=o)b(),n(new Error(o+" ms timeout exceeded"));else{var e=document.hidden;!0!==e&&void 0!==e||(p=c.getWidth(),f=u.getWidth(),h=d.getWidth(),_()),i=setTimeout(x,50)}};x(),c.onResize((function(e){p=e,_()})),c.setFont(r.getStyle('"'+r.font.fontFamily+'",sans-serif')),u.onResize((function(e){f=e,_()})),u.setFont(r.getStyle('"'+r.font.fontFamily+'",serif')),d.onResize((function(e){h=e,_()})),d.setFont(r.getStyle('"'+r.font.fontFamily+'",monospace'))}}))},e.prototype.getStyle=function(t){return[this.font.fontStyle,this.font.fontWeight,e.supportsStretch()?this.font.fontStretch:"","100px",t].join(" ")},e.prototype.getTime=function(){return(new Date).getTime()},e.HAS_WEBKIT_FALLBACK_BUG=null,e.HAS_SAFARI_10_BUG=null,e.SUPPORTS_STRETCH=null,e.SUPPORTS_NATIVE_FONT_LOADING=null,e.DEFAULT_TIMEOUT=3e3,e}();function H(e){return!Object.prototype.hasOwnProperty.call(e,"name")}function W(e){return!Object.prototype.hasOwnProperty.call(e,"name")}!function(e){e.UNDO="undo",e.REDO="redo",e.DELETE="delete",e.BRING_TO_FRONT="bringtofront",e.EDIT="edit",e.DUPLICATE="duplicate",e.ADD="add",e.FLIP="flip",e.INVERT="invert",e.CLOSE="close",e.EXPORT="export"}(F||(F={})),function(e){e.LIBRARY="library",e.ART_FILTER="artFilter",e.TRANSFORM="transform",e.FILTER="filter",e.ADJUSTMENT="adjustment",e.FOCUS="focus",e.STICKER="sticker",e.TEXT="text",e.TEXT_DESIGN="textdesign",e.OVERLAY="overlay",e.FRAME="frame",e.BRUSH="brush"}(j||(j={})),function(e){e.LARGE="large",e.MEDIUM="medium",e.SMALL="small"}(B||(B={}));var V,G,X,Y=function(){this.enabled=!0,this.threshold=20,this.snapToHorizontalCenter=!0,this.snapToVerticalCenter=!0,this.snapToLeft=.1,this.snapToRight=.1,this.snapToTop=.1,this.snapToBottom=.1},K=function(){this.enabled=!0,this.threshold=20,this.angles=[0,45,90,135,180,225,270,315]},q=function(){this.position=new Y,this.rotation=new K};!function(e){e.MP4="video/mp4",e.MOV="video/quicktime"}(V||(V={})),function(e){e.H264="h264",e.HEVC="hevc"}(G||(G={})),function(e){e.OBJECT="object"}(X||(X={}));var $,Z,J=function(){};!function(e){e.IMAGE="image",e.DATA_URL="data-url",e.BLOB="blob",e.MSBLOB="ms-blob"}($||($={})),function(e){e.PNG="image/png",e.JPEG="image/jpeg",e.RAW="raw"}(Z||(Z={}));var Q,ee=function(){this.order="default",this.language="en",this.theme="dark",this.assetBaseUrl="assets/",this.displayResizeWarning=!0,this.displayCloseWarning=!0,this.displayToolControlBarTitle=!0,this.forceCrop=!1,this.enableZoom=!0,this.defaultTool=j.FILTER};j.FILTER,j.FOCUS,j.ADJUSTMENT,j.LIBRARY,j.OVERLAY,j.STICKER,j.TEXT,j.TEXT_DESIGN,j.FRAME,j.BRUSH,j.TRANSFORM,function(e){e.BRIGHTNESS="brightness",e.CONTRAST="contrast",e.SATURATION="saturation",e.CLARITY="clarity",e.SHADOWS="shadows",e.HIGHLIGHTS="highlights",e.EXPOSURE="exposure",e.GAMMA="gamma",e.BLACKS="blacks",e.WHITES="whites",e.TEMPERATURE="temperature",e.SHARPNESS="sharpness"}(Q||(Q={}));var te=function(){this.categories=[]},ne=function(){this.categories=[],this.flattenCategories=!1,this.enablePreviewThumbnails=!1};function re(e){return void 0!==e.lightColor}function ie(e){return void 0!==e.lutURI}var oe,ae=function(){this.items=[]};!function(e){e.RADIAL="radial",e.LINEAR="linear",e.MIRRORED="mirrored",e.GAUSSIAN="gaussian"}(oe||(oe={}));var se,le=function(){this.items=[]},ce=function(){function e(e){this.name=e.name,this.coverImageUrl=e.coverImageUrl}return e.prototype.loadCoverImage=function(e){var t=this;return void 0===e&&(e="anonymous"),new Promise((function(n,r){var i=new Image;i.addEventListener("load",(function(){n(i)})),i.addEventListener("error",(function(){r(new Error("Failed to load image at "+t.coverImage))})),i.crossOrigin=e,i.src=t.coverImageUrl,t.coverImage=i}))},e}(),ue=function(){function e(e){this.category=e.title,this.thumbUrl=e.thumbUrl,this.rawUrl=e.rawUrl}return e.prototype.loadThumbImage=function(e){var t=this;return void 0===e&&(e="anonymous"),new Promise((function(n,r){var i=new Image;i.addEventListener("load",(function(){n(i)})),i.addEventListener("error",(function(){r(new Error("Failed to load image at "+t.thumbUrl))})),i.crossOrigin=e,i.src=t.thumbUrl,t.thumbImage=i}))},e.prototype.getThumbImage=function(){return this.thumbUrl},e}(),de=function(){this.enableWebcam=!1,this.enableUpload=!1},pe=function(){function e(){}return e.prototype.getData=function(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="json",r.onload=function(){var e=r.status;200===e?t(r.response):n(new Error("HTTP Status "+e))},r.send()}))},e}(),fe=function(){function e(e){this.data={},this.data=e}return e.prototype.loadJSON=function(e){return(new pe).getData(e)},e.prototype.getCategories=function(){return Promise.resolve([])},e.prototype.searchImages=function(e){return Promise.resolve([])},e}(),he=function(){this.items=[]};!function(e){e.NORMAL="normal",e.OVERLAY="overlay",e.SOFT_LIGHT="softLight",e.HARD_LIGHT="hardLight",e.MULTIPLY="multiply",e.DARKEN="darken",e.COLOR_BURN="colorBurn",e.SCREEN="screen",e.LIGHTEN="lighten"}(se||(se={}));var me=function(){this.categories=[],this.canvasActions=[F.BRING_TO_FRONT,F.FLIP,F.DUPLICATE,F.DELETE],this.enableCustomUpload=!0,this.customStickerTintMode="none"};function ge(e){return void 0!==e.sticker}function ye(e){return void 0!==e.thumbnail}var ve=function(){this.fonts=[],this.canvasActions=[F.EDIT,F.BRING_TO_FRONT,F.DUPLICATE,F.DELETE],this.disableAutoScaling=!1};function be(e){return void 0===e.provider||"file"===e.provider}function _e(e){return"google"===e.provider}var xe,we,Se=function(){},Ee=function(){this.items=[],this.canvasActions=[F.EDIT,F.BRING_TO_FRONT,F.INVERT,F.DUPLICATE,F.DELETE]},ke=function(){this.categories=[],this.enableRotation=!0,this.enableFlip=!0};!function(e){e.CommonCategory="imgly_transforms_common",e.FacebookCategory="imgly_transforms_facebook",e.TwitterCategory="imgly_transforms_twitter",e.InstagramCategory="imgly_transforms_instagram",e.Custom="imgly_transform_common_custom",e.Square="imgly_transform_common_square",e.ThreeByFour="imgly_transform_common_3",e.FourByThree="imgly_transform_common_4",e.NineBySixteen="imgly_transform_common_9",e.SixteenByNine="imgly_transform_common_16",e.FacebookPost="imgly_transform_facebook_post",e.FacebookProfile="imgly_transform_facebook_profile",e.FacebookTitle="imgly_transform_facebook_title",e.InstagramLandscape="imgly_transform_instagram_landscape",e.InstagramPortrait="imgly_transform_instagram_portrait",e.InstagramSquare="imgly_transform_instagram_square",e.InstagramStory="imgly_transform_instagram_story",e.TwitterPost="imgly_transform_twitter_post",e.TwitterProfile="imgly_transform_twitter_profile",e.TwitterTitle="imgly_transform_twitter_title"}(xe||(xe={})),function(e){e.EXPORT="export",e.CLOSE="close",e.HISTORY_CHANGE="historyChange",e.EDITOR_READY="editorReady"}(we||(we={}));var Ce,Te=function(){function e(){this.events={}}return e.prototype.addListener=function(e,t){return(this.events[e]||(this.events[e]=[])).push(t),this},e.prototype.removeListener=function(e,t){var n=this.events[e];if(!n)return this;var r=n.lastIndexOf(t);return-1===r||n.splice(r,1),this},e.prototype.removeAllListeners=function(e){return this.events[e]=void 0,this},e.prototype.on=function(e,t){return this.addListener(e,t)},e.prototype.off=function(e,t){return this.removeListener(e,t)},e.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this.events[e];return!(!r||!r.length)&&(r.slice(0).forEach((function(e){return e.apply(null,t)})),!0)},e}();!function(e){e.BEGAN_IMAGE_DOWNSCALING="beganImageDownscaling",e.IMAGE_DOWNSCALED="imageDownscaled"}(Ce||(Ce={}));!function(e){function t(t,n){var r=e.call(this)||this;return r.image=t,r.options=n,r}S(t,e),t.prototype.needsResize=function(){var e=this.resizedDimensions();return e.x<this.image.width||e.y<this.image.height},t.prototype.resizedDimensions=function(){var e=this.options,t={width:this.image.width,height:this.image.height},n=z.fromSize(t),r=z.fromSize(t),i=e.maxMegaPixels;if(i){var o=1e6*(function(){if("undefined"==typeof navigator)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}()?i.mobile:i.desktop),a=t.width/t.height,s=t.height/t.width,l=new z(Math.floor(Math.sqrt(o*a)),Math.floor(Math.sqrt(o*s)));l.x<=t.width&&l.y<=t.height&&(n=l)}var c=e.maxDimensions;c&&(c.height<t.height||c.width<t.width)&&(r=new z(c.width,c.height));var u=new z(Math.min(n.x,r.x),Math.min(n.y,r.y));return z.proportionalFit(u,z.fromSize(t)).floored},t.prototype.downscaleIfNecessary=function(){var e=this.resizedDimensions();if(!(e.x<this.image.width||e.y<this.image.height))return this.image;this.emit(Ce.BEGAN_IMAGE_DOWNSCALING,this.image);var t=document.createElement("canvas");t.width=e.x,t.height=e.y;var n=t.getContext("2d"),r=this.image;return n.drawImage(r,0,0,r.width,r.height,0,0,e.x,e.y),this.emit(Ce.IMAGE_DOWNSCALED),t},t.prototype.downscaleImageIfNecessary=function(){var e=this.image,t=this.resizedDimensions();if(!(t.x<this.image.width||t.y<this.image.height))return e;this.emit(Ce.BEGAN_IMAGE_DOWNSCALING,e);var n=new Image;return n.width=t.x,n.height=t.y,n.src=e.src,this.emit(Ce.IMAGE_DOWNSCALED),n}}(Te);function Oe(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var Ie=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,Re=function(e){return Ie.exec(e).slice(1)};function Me(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?arguments[n]:"/";if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(e=r+"/"+e,t="/"===r.charAt(0))}return(t?"/":"")+(e=Oe(De(e.split("/"),(function(e){return!!e})),!t).join("/"))||"."}function Ae(e){var t=Pe(e),n="/"===je(e,-1);return(e=Oe(De(e.split("/"),(function(e){return!!e})),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e}function Pe(e){return"/"===e.charAt(0)}var ze={extname:function(e){return Re(e)[3]},basename:function(e,t){var n=Re(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},dirname:function(e){var t=Re(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},sep:"/",delimiter:":",relative:function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=Me(e).substr(1),t=Me(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),o=Math.min(r.length,i.length),a=o,s=0;s<o;s++)if(r[s]!==i[s]){a=s;break}var l=[];for(s=a;s<r.length;s++)l.push("..");return(l=l.concat(i.slice(a))).join("/")},join:function(){var e=Array.prototype.slice.call(arguments,0);return Ae(De(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},isAbsolute:Pe,normalize:Ae,resolve:Me};function De(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var Le,Fe,je="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)},Be=[{identifier:"imgly_overlay_golden",name:"Golden",defaultBlendMode:se.LIGHTEN,overlayURI:"./items/imgly_overlay_golden.jpg",thumbnailURI:"./items/imgly_overlay_golden_thumb.jpg"},{identifier:"imgly_overlay_lightleak1",name:"Lightleak",defaultBlendMode:se.SCREEN,overlayURI:"./items/imgly_overlay_lightleak1.jpg",thumbnailURI:"./items/imgly_overlay_lightleak1_thumb.jpg"},{identifier:"imgly_overlay_rain",name:"Rain",defaultBlendMode:se.OVERLAY,overlayURI:"./items/imgly_overlay_rain.jpg",thumbnailURI:"./items/imgly_overlay_rain_thumb.jpg"},{identifier:"imgly_overlay_mosaic",name:"Mosaic",defaultBlendMode:se.MULTIPLY,overlayURI:"./items/imgly_overlay_mosaic.jpg",thumbnailURI:"./items/imgly_overlay_mosaic_thumb.jpg"},{identifier:"imgly_overlay_vintage",name:"Vintage",defaultBlendMode:se.DARKEN,overlayURI:"./items/imgly_overlay_vintage.jpg",thumbnailURI:"./items/imgly_overlay_vintage_thumb.jpg"},{identifier:"imgly_overlay_paper",name:"Paper",defaultBlendMode:se.MULTIPLY,overlayURI:"./items/imgly_overlay_paper.jpg",thumbnailURI:"./items/imgly_overlay_paper_thumb.jpg"},{identifier:"imgly_overlay_bokeh",name:"Bokeh",defaultBlendMode:se.LIGHTEN,overlayURI:"./items/imgly_overlay_bokeh.jpg",thumbnailURI:"./items/imgly_overlay_bokeh_thumb.jpg"},{identifier:"imgly_overlay_hearts",name:"Hearts",defaultBlendMode:se.SCREEN,overlayURI:"./items/imgly_overlay_hearts.jpg",thumbnailURI:"./items/imgly_overlay_hearts_thumb.jpg"},{identifier:"imgly_overlay_lightleak2",name:"Lightleak 2",defaultBlendMode:se.LIGHTEN,overlayURI:"./items/imgly_overlay_lightleak2.jpg",thumbnailURI:"./items/imgly_overlay_lightleak2_thumb.jpg"},{identifier:"imgly_overlay_wood",name:"Wood",defaultBlendMode:se.MULTIPLY,overlayURI:"./items/imgly_overlay_wood.jpg",thumbnailURI:"./items/imgly_overlay_wood_thumb.jpg"},{identifier:"imgly_overlay_chop",name:"Chop",defaultBlendMode:se.MULTIPLY,overlayURI:"./items/imgly_overlay_chop.jpg",thumbnailURI:"./items/imgly_overlay_chop_thumb.jpg"},{identifier:"imgly_overlay_metal",name:"Metal",defaultBlendMode:se.OVERLAY,overlayURI:"./items/imgly_overlay_metal.jpg",thumbnailURI:"./items/imgly_overlay_metal_thumb.jpg"},{identifier:"imgly_overlay_painting",name:"Painting",defaultBlendMode:se.OVERLAY,overlayURI:"./items/imgly_overlay_painting.jpg",thumbnailURI:"./items/imgly_overlay_painting_thumb.jpg"},{identifier:"imgly_overlay_grain",name:"Grain",defaultBlendMode:se.OVERLAY,overlayURI:"./items/imgly_overlay_grain.jpg",thumbnailURI:"./items/imgly_overlay_grain_thumb.jpg"},{identifier:"imgly_overlay_clouds",name:"Clouds",defaultBlendMode:se.SOFT_LIGHT,overlayURI:"./items/imgly_overlay_clouds.jpg",thumbnailURI:"./items/imgly_overlay_clouds_thumb.jpg"},{identifier:"imgly_overlay_wall1",name:"Wall",defaultBlendMode:se.LIGHTEN,overlayURI:"./items/imgly_overlay_wall1.jpg",thumbnailURI:"./items/imgly_overlay_wall1_thumb.jpg"},{identifier:"imgly_overlay_wall2",name:"Wall 2",defaultBlendMode:se.OVERLAY,overlayURI:"./items/imgly_overlay_wall2.jpg",thumbnailURI:"./items/imgly_overlay_wall2_thumb.jpg"}],Ue=[{identifier:"imgly_filter_category_duotone",name:"DuoTone",thumbnailURI:"./categories/duotone.jpg",items:[{identifier:"imgly_duotone_desert",name:"Desert",thumbnailURI:"./items/imgly_duotone_desert.jpg",lightColor:"#e1de9a",darkColor:"#cb2129",defaultIntensity:.5},{identifier:"imgly_duotone_peach",name:"Peach",thumbnailURI:"./items/imgly_duotone_peach.jpg",lightColor:"#e9abb8",darkColor:"#0040ff",defaultIntensity:.5},{identifier:"imgly_duotone_clash",name:"Clash",thumbnailURI:"./items/imgly_duotone_clash.jpg",lightColor:"#f41a0f",darkColor:"#23007c",defaultIntensity:.5},{identifier:"imgly_duotone_plum",name:"Plum",thumbnailURI:"./items/imgly_duotone_plum.jpg",lightColor:"#74d7ff",darkColor:"#23007c",defaultIntensity:.5},{identifier:"imgly_duotone_breezy",name:"Breezy",thumbnailURI:"./items/imgly_duotone_breezy.jpg",lightColor:"#68fdff",darkColor:"#c20000",defaultIntensity:.5},{identifier:"imgly_duotone_deepblue",name:"Deep Blue",thumbnailURI:"./items/imgly_duotone_deepblue.jpg",lightColor:"#2de9eb",darkColor:"#58007c",defaultIntensity:.5},{identifier:"imgly_duotone_frog",name:"Frog",thumbnailURI:"./items/imgly_duotone_frog.jpg",lightColor:"#5bff60",darkColor:"#7f23a9",defaultIntensity:.5},{identifier:"imgly_duotone_sunset",name:"Sunset",thumbnailURI:"./items/imgly_duotone_sunset.jpg",lightColor:"#f8ea46",darkColor:"#c400be",defaultIntensity:.5}]},{identifier:"imgly_filter_category_bw",name:"B & W",thumbnailURI:"./categories/b&w.jpg",items:[{identifier:"imgly_lut_ad1920",name:"1920 A.D.",thumbnailURI:"./items/imgly_lut_ad1920.jpg",lutURI:"./items/imgly_lut_ad1920_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_bw",name:"Greyed",thumbnailURI:"./items/imgly_lut_bw.jpg",lutURI:"./items/imgly_lut_bw_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_x400",name:"Dusty",thumbnailURI:"./items/imgly_lut_x400.jpg",lutURI:"./items/imgly_lut_dusty_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_litho",name:"Litho",thumbnailURI:"./items/imgly_lut_litho.jpg",lutURI:"./items/imgly_lut_litho_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_sepiahigh",name:"Sepia",thumbnailURI:"./items/imgly_lut_sepiahigh.jpg",lutURI:"./items/imgly_lut_sepia_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_plate",name:"Weathered",thumbnailURI:"./items/imgly_lut_plate.jpg",lutURI:"./items/imgly_lut_weathered_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_sin",name:"Hard Stuff",thumbnailURI:"./items/imgly_lut_sin.jpg",lutURI:"./items/imgly_lut_hard_stuff_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8}]},{identifier:"imgly_filter_category_vintage",name:"Vintage",thumbnailURI:"./categories/vintage.jpg",items:[{identifier:"imgly_lut_blues",name:"Polaroid",thumbnailURI:"./items/imgly_lut_blues.jpg",lutURI:"./items/imgly_lut_polaroid_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_front",name:"Sunny 70s",thumbnailURI:"./items/imgly_lut_front.jpg",lutURI:"./items/imgly_lut_sunny_70s_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_texas",name:"Oldtimer",thumbnailURI:"./items/imgly_lut_texas.jpg",lutURI:"./items/imgly_lut_oldtimer_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_celsius",name:"Inferno",thumbnailURI:"./items/imgly_lut_celsius.jpg",lutURI:"./items/imgly_lut_inferno_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_cool",name:"Snappy",thumbnailURI:"./items/imgly_lut_cool.jpg",lutURI:"./items/imgly_lut_snappy_5_5_128.png",defaultIntensity:1}]},{identifier:"imgly_filter_category_smooth",name:"Smooth",thumbnailURI:"./categories/smooth.jpg",items:[{identifier:"imgly_lut_chest",name:"Chestnut",thumbnailURI:"./items/imgly_lut_chest.jpg",lutURI:"./items/imgly_lut_chestnut_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_winter",name:"Softy",thumbnailURI:"./items/imgly_lut_winter.jpg",lutURI:"./items/imgly_lut_softly_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_kdynamic",name:"Pebble",thumbnailURI:"./items/imgly_lut_kdynamic.jpg",lutURI:"./items/imgly_lut_pebble_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_fall",name:"Moss",thumbnailURI:"./items/imgly_lut_fall.jpg",lutURI:"./items/imgly_lut_moss_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_lenin",name:"Lemon",thumbnailURI:"./items/imgly_lut_lenin.jpg",lutURI:"./items/imgly_lut_lemon_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_pola669",name:"Green Gap",thumbnailURI:"./items/imgly_lut_pola669.jpg",lutURI:"./items/imgly_lut_green_gap_5_5_128.png",defaultIntensity:1}]},{identifier:"imgly_filter_category_cold",name:"Cold",thumbnailURI:"./categories/cold.jpg",items:[{identifier:"imgly_lut_elder",name:"Colla",thumbnailURI:"./items/imgly_lut_elder.jpg",lutURI:"./items/imgly_lut_colla_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_orchid",name:"Solanus",thumbnailURI:"./items/imgly_lut_orchid.jpg",lutURI:"./items/imgly_lut_solanus_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_bleached",name:"Kalmen",thumbnailURI:"./items/imgly_lut_bleached.jpg",lutURI:"./items/imgly_lut_kalmen_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_bleachedblue",name:"Joran",thumbnailURI:"./items/imgly_lut_bleachedblue.jpg",lutURI:"./items/imgly_lut_joran_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_breeze",name:"Levante",thumbnailURI:"./items/imgly_lut_breeze.jpg",lutURI:"./items/imgly_lut_levante_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_blueshadows",name:"Zephyr",thumbnailURI:"./items/imgly_lut_blueshadows.jpg",lutURI:"./items/imgly_lut_zephyr_5_5_128.png",defaultIntensity:1}]},{identifier:"imgly_filter_category_warm",name:"Warm",thumbnailURI:"./categories/warm.jpg",items:[{identifier:"imgly_lut_sunset",name:"Golden",thumbnailURI:"./items/imgly_lut_sunset.jpg",lutURI:"./items/imgly_lut_golden_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_eighties",name:"Low Fire",thumbnailURI:"./items/imgly_lut_eighties.jpg",lutURI:"./items/imgly_lut_low_fire_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_evening",name:"Sunrise",thumbnailURI:"./items/imgly_lut_evening.jpg",lutURI:"./items/imgly_lut_sunrise_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_k2",name:"Flat Black",thumbnailURI:"./items/imgly_lut_k2.jpg",lutURI:"./items/imgly_lut_flat_black_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_nogreen",name:"Pumpkin",thumbnailURI:"./items/imgly_lut_nogreen.jpg",lutURI:"./items/imgly_lut_pumpkin_5_5_128.png",defaultIntensity:1}]},{identifier:"imgly_filter_category_legacy",name:"Legacy",thumbnailURI:"./categories/legacy.jpg",items:[{identifier:"imgly_lut_ancient",name:"Ancient",thumbnailURI:"./items/imgly_lut_ancient.jpg",lutURI:"./items/imgly_lut_ancient_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_cottoncandy",name:"Candy",thumbnailURI:"./items/imgly_lut_cottoncandy.jpg",lutURI:"./items/imgly_lut_cottoncandy_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_classic",name:"Classic",thumbnailURI:"./items/imgly_lut_classic.jpg",lutURI:"./items/imgly_lut_classic_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_colorful",name:"Colorful",thumbnailURI:"./items/imgly_lut_colorful.jpg",lutURI:"./items/imgly_lut_colorful_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_creamy",name:"Creamy",thumbnailURI:"./items/imgly_lut_creamy.jpg",lutURI:"./items/imgly_lut_creamy_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_fixie",name:"Fixie",thumbnailURI:"./items/imgly_lut_fixie.jpg",lutURI:"./items/imgly_lut_fixie_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_food",name:"Food",thumbnailURI:"./items/imgly_lut_food.jpg",lutURI:"./items/imgly_lut_food_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_fridge",name:"Fridge",thumbnailURI:"./items/imgly_lut_fridge.jpg",lutURI:"./items/imgly_lut_fridge_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_glam",name:"Glam",thumbnailURI:"./items/imgly_lut_glam.jpg",lutURI:"./items/imgly_lut_glam_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_gobblin",name:"Gobblin",thumbnailURI:"./items/imgly_lut_gobblin.jpg",lutURI:"./items/imgly_lut_gobblin_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_highcontrast",name:"Hicon",thumbnailURI:"./items/imgly_lut_highcontrast.jpg",lutURI:"./items/imgly_lut_highcontrast_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_highcarb",name:"High Carb",thumbnailURI:"./items/imgly_lut_highcarb.jpg",lutURI:"./items/imgly_lut_highcarb_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_k1",name:"K1",thumbnailURI:"./items/imgly_lut_k1.jpg",lutURI:"./items/imgly_lut_k1_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_k6",name:"K6",thumbnailURI:"./items/imgly_lut_k6.jpg",lutURI:"./items/imgly_lut_k6_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_keen",name:"Keen",thumbnailURI:"./items/imgly_lut_keen.jpg",lutURI:"./items/imgly_lut_keen_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_lomo",name:"Lomo",thumbnailURI:"./items/imgly_lut_lomo.jpg",lutURI:"./items/imgly_lut_lomo_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_lomo100",name:"Lomo 100",thumbnailURI:"./items/imgly_lut_lomo100.jpg",lutURI:"./items/imgly_lut_lomo100_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_lucid",name:"Lucid",thumbnailURI:"./items/imgly_lut_lucid.jpg",lutURI:"./items/imgly_lut_lucid_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_mellow",name:"Mellow",thumbnailURI:"./items/imgly_lut_mellow.jpg",lutURI:"./items/imgly_lut_mellow_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_neat",name:"Neat",thumbnailURI:"./items/imgly_lut_neat.jpg",lutURI:"./items/imgly_lut_neat_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_pale",name:"Pale",thumbnailURI:"./items/imgly_lut_pale.jpg",lutURI:"./items/imgly_lut_pale_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_pitched",name:"Pitched",thumbnailURI:"./items/imgly_lut_pitched.jpg",lutURI:"./items/imgly_lut_pitched_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_polasx",name:"Pola SX",thumbnailURI:"./items/imgly_lut_polasx.jpg",lutURI:"./items/imgly_lut_polasx_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_pro400",name:"Pro 400",thumbnailURI:"./items/imgly_lut_pro400.jpg",lutURI:"./items/imgly_lut_pro400_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_quozi",name:"Quozi",thumbnailURI:"./items/imgly_lut_quozi.jpg",lutURI:"./items/imgly_lut_quozi_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_settled",name:"Settled",thumbnailURI:"./items/imgly_lut_settled.jpg",lutURI:"./items/imgly_lut_settled_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_seventies",name:"Seventies",thumbnailURI:"./items/imgly_lut_seventies.jpg",lutURI:"./items/imgly_lut_seventies_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_soft",name:"Soft",thumbnailURI:"./items/imgly_lut_soft.jpg",lutURI:"./items/imgly_lut_soft_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_steel",name:"Steel",thumbnailURI:"./items/imgly_lut_steel.jpg",lutURI:"./items/imgly_lut_steel_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_summer",name:"Summer",thumbnailURI:"./items/imgly_lut_summer.jpg",lutURI:"./items/imgly_lut_summer_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_tender",name:"Tender",thumbnailURI:"./items/imgly_lut_tender.jpg",lutURI:"./items/imgly_lut_tender_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_twilight",name:"Twilight",thumbnailURI:"./items/imgly_lut_twilight.jpg",lutURI:"./items/imgly_lut_twilight_5_5_128.png",defaultIntensity:1}]}],Ne=[{identifier:"imgly_font_open_sans_bold",fontFamily:"Open Sans",fontWeight:"bold",fontURI:"./fonts/imgly_font_open_sans_bold.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2189,descender:-640}},{identifier:"imgly_font_aleo_bold",fontFamily:"Aleo",fontWeight:"bold",fontURI:"./fonts/imgly_font_aleo_bold.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1919,descender:-409}},{identifier:"imgly_font_amaticsc",fontFamily:"Amaticsc",fontWeight:"normal",fontURI:"./fonts/imgly_font_amaticsc.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2332,descender:-583}},{identifier:"imgly_font_bernier_regular",fontFamily:"Bernier",fontWeight:"normal",fontURI:"./fonts/imgly_font_bernier_regular.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2007,descender:-552}},{identifier:"imgly_font_cheque_regular",fontFamily:"Cheque",fontWeight:"normal",fontURI:"./fonts/imgly_font_cheque_regular.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2007,descender:-552}},{identifier:"imgly_font_gagalin_regular",fontFamily:"Gagalin",fontWeight:"normal",fontURI:"./fonts/imgly_font_gagalin_regular.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1987,descender:-628}},{identifier:"imgly_font_hagin_caps_thin",fontFamily:"Hagin Caps",fontWeight:200,fontURI:"./fonts/imgly_font_hagin_caps_thin.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1964,descender:-482}},{identifier:"imgly_font_intro_inline",fontFamily:"Intro Inline",fontWeight:"normal",fontURI:"./fonts/imgly_font_intro_inline.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1944,descender:-548}},{identifier:"imgly_font_lobster",fontFamily:"Lobster",fontWeight:"normal",fontURI:"./fonts/imgly_font_lobster.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2048,descender:-552}},{identifier:"imgly_font_nexa_script",fontFamily:"Nexa Script",fontWeight:"normal",fontURI:"./fonts/imgly_font_nexa_script.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1835,descender:-663}},{identifier:"imgly_font_panton_blackitalic_caps",fontFamily:"Panton",fontWeight:800,fontStyle:"italic",fontURI:"./fonts/imgly_font_panton_blackitalic_caps.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2033,descender:-572}},{identifier:"imgly_font_panton_lightitalic_caps",fontFamily:"Panton",fontWeight:200,fontStyle:"italic",fontURI:"./fonts/imgly_font_panton_lightitalic_caps.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1961,descender:-556}},{identifier:"imgly_font_perfograma",fontFamily:"Perfograma",fontWeight:"normal",fontURI:"./fonts/imgly_font_perfograma.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1982,descender:-842}},{identifier:"imgly_font_trash_hand",fontFamily:"Trash Hand",fontWeight:"normal",fontURI:"./fonts/imgly_font_trash_hand.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1554,descender:-663}},{identifier:"imgly_font_abril_fatface_regular",fontFamily:"Abril Fatface",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_abril_fatface_regular.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:1058,descender:-291}},{identifier:"imgly_font_montserrat_light",fontFamily:"Montserrat Light",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_montserrat_light.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:968,descender:-251}},{identifier:"imgly_font_wolesbro",fontFamily:"Wolesbro",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_wolesbro.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1849,descender:-1123}},{identifier:"imgly_font_permanent_marker",fontFamily:"Permanent Marker",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_permanent_marker.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2272,descender:-686}},{identifier:"imgly_font_panton_light_italic_caps",fontFamily:"Panton Caps",fontWeight:"lighter",fontStyle:"italic",fontURI:"./fonts/imgly_font_panton_light_italic_caps.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:940,descender:-260}},{identifier:"imgly_font_panton_black_italic_caps",fontFamily:"Panton Caps",fontWeight:800,fontStyle:"italic",fontURI:"./fonts/imgly_font_panton_black_italic_caps.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:940,descender:-260}},{identifier:"imgly_font_panton_light_caps",fontFamily:"Panton Caps",fontWeight:"lighter",fontStyle:"normal",fontURI:"./fonts/imgly_font_panton_light_caps.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:940,descender:-260}},{identifier:"imgly_font_panton_black_caps",fontFamily:"Panton Caps",fontWeight:800,fontStyle:"normal",fontURI:"./fonts/imgly_font_panton_black_caps.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:940,descender:-260}},{identifier:"imgly_font_amberlight",fontFamily:"Amberlight",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_amberlight.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:750,descender:-250}},{identifier:"imgly_font_ultra",fontFamily:"Ultra",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_ultra.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2066,descender:-561}},{identifier:"imgly_font_galano_grotesque_bold",fontFamily:"Galano Grotesque",fontWeight:"bold",fontStyle:"normal",fontURI:"./fonts/imgly_font_galano_grotesque_bold.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:800,descender:-200}},{identifier:"imgly_font_bungee_inline",fontFamily:"Bungee Inline",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_bungee_inline.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:860,descender:-140}},{identifier:"imgly_font_petit_formal_script",fontFamily:"Petit Formal Script",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_petit_formal_script.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2033,descender:-527}},{identifier:"imgly_font_summer_font_light",fontFamily:"Summer Font",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_summer_font_light.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2189,descender:-600}},{identifier:"imgly_font_handycheera_regular",fontFamily:"Handycheera",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_handycheera_regular.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2199,descender:-808}},{identifier:"imgly_font_rasa_regular",fontFamily:"Rasa",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_rasa_regular.woff",format:"woff",textMetrics:{unitsPerEm:2750,ascender:2300,descender:-1050}},{identifier:"imgly_font_rasa_500",fontFamily:"Rasa",fontWeight:500,fontStyle:"normal",fontURI:"./fonts/imgly_font_rasa_500.woff",format:"woff",textMetrics:{unitsPerEm:2750,ascender:2300,descender:-1050}},{identifier:"imgly_font_campton_bold",fontFamily:"Campton Book",fontWeight:"bold",fontStyle:"normal",fontURI:"./fonts/imgly_font_campton_bold.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:770,descender:-294}},{identifier:"imgly_font_ostrich_sans_black",fontFamily:"Ostrich",fontWeight:800,fontStyle:"normal",fontURI:"./fonts/imgly_font_ostrich_sans_black.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1513,descender:-235}},{identifier:"imgly_font_ostrich_sans_bold",fontFamily:"Ostrich",fontWeight:"bold",fontStyle:"normal",fontURI:"./fonts/imgly_font_ostrich_sans_bold.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1513,descender:-235}},{identifier:"imgly_font_ostrich_sans_heavy",fontFamily:"Ostrich",fontWeight:900,fontStyle:"normal",fontURI:"./fonts/imgly_font_ostrich_sans_heavy.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:674,descender:0}}],He=[{identifier:oe.RADIAL,thumbnailURI:"./items/radial.png"},{identifier:oe.MIRRORED,thumbnailURI:"./items/mirrored.png"},{identifier:oe.LINEAR,thumbnailURI:"./items/linear.png"},{identifier:oe.GAUSSIAN,thumbnailURI:"./items/gaussian.png"}],We=[{identifier:"basics",name:"Basics",items:[{identifier:Q.BRIGHTNESS},{identifier:Q.CONTRAST},{identifier:Q.SATURATION},{identifier:Q.GAMMA}]},{identifier:"refinements",name:"Refinements",items:[{identifier:Q.CLARITY},{identifier:Q.SHADOWS},{identifier:Q.HIGHLIGHTS},{identifier:Q.EXPOSURE},{identifier:Q.BLACKS},{identifier:Q.WHITES},{identifier:Q.TEMPERATURE},{identifier:Q.SHARPNESS}]}],Ve=[{identifier:"imgly_sticker_emoticons",name:"Emoticons",thumbnailURI:"./categories/emoticons.png",items:[{identifier:"imgly_sticker_emoticons_grin",stickerURI:"./emoticons/imgly_sticker_emoticons_grin.svg",tintMode:"none",name:"Grin",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_laugh",stickerURI:"./emoticons/imgly_sticker_emoticons_laugh.svg",tintMode:"none",name:"Laugh",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_smile",stickerURI:"./emoticons/imgly_sticker_emoticons_smile.svg",tintMode:"none",name:"Smile",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_wink",stickerURI:"./emoticons/imgly_sticker_emoticons_wink.svg",tintMode:"none",name:"Wink",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_tongue_out_wink",stickerURI:"./emoticons/imgly_sticker_emoticons_tongue_out_wink.svg",tintMode:"none",name:"Tongue out wink",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_angel",stickerURI:"./emoticons/imgly_sticker_emoticons_angel.svg",tintMode:"none",name:"Angel",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_kisses",stickerURI:"./emoticons/imgly_sticker_emoticons_kisses.svg",tintMode:"none",name:"Kisses",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_loving",stickerURI:"./emoticons/imgly_sticker_emoticons_loving.svg",tintMode:"none",name:"Loving",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_kiss",stickerURI:"./emoticons/imgly_sticker_emoticons_kiss.svg",tintMode:"none",name:"Kiss",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_wave",stickerURI:"./emoticons/imgly_sticker_emoticons_wave.svg",tintMode:"none",name:"Wave",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_nerd",stickerURI:"./emoticons/imgly_sticker_emoticons_nerd.svg",tintMode:"none",name:"Nerd",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_cool",stickerURI:"./emoticons/imgly_sticker_emoticons_cool.svg",tintMode:"none",name:"Cool",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_blush",stickerURI:"./emoticons/imgly_sticker_emoticons_blush.svg",tintMode:"none",name:"Blush",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_duckface",stickerURI:"./emoticons/imgly_sticker_emoticons_duckface.svg",tintMode:"none",name:"Duckface",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_furious",stickerURI:"./emoticons/imgly_sticker_emoticons_furious.svg",tintMode:"none",name:"Furious",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_angry",stickerURI:"./emoticons/imgly_sticker_emoticons_angry.svg",tintMode:"none",name:"Angry",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_steaming_furious",stickerURI:"./emoticons/imgly_sticker_emoticons_steaming_furious.svg",tintMode:"none",name:"Steaming Furious",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_sad",stickerURI:"./emoticons/imgly_sticker_emoticons_sad.svg",tintMode:"none",name:"Sad",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_anxious",stickerURI:"./emoticons/imgly_sticker_emoticons_anxious.svg",tintMode:"none",name:"Anxious",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_cry",stickerURI:"./emoticons/imgly_sticker_emoticons_cry.svg",tintMode:"none",name:"Cry",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_sobbing",stickerURI:"./emoticons/imgly_sticker_emoticons_sobbing.svg",tintMode:"none",name:"Sobbing",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_loud_cry",stickerURI:"./emoticons/imgly_sticker_emoticons_loud_cry.svg",tintMode:"none",name:"Loud Cry",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_wide_grin",stickerURI:"./emoticons/imgly_sticker_emoticons_wide_grin.svg",tintMode:"none",name:"Wide grin",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_impatient",stickerURI:"./emoticons/imgly_sticker_emoticons_impatient.svg",tintMode:"none",name:"Impatient",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_tired",stickerURI:"./emoticons/imgly_sticker_emoticons_tired.svg",tintMode:"none",name:"Tired",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_asleep",stickerURI:"./emoticons/imgly_sticker_emoticons_asleep.svg",tintMode:"none",name:"Asleep",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_sleepy",stickerURI:"./emoticons/imgly_sticker_emoticons_sleepy.svg",tintMode:"none",name:"Sleepy",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_deceased",stickerURI:"./emoticons/imgly_sticker_emoticons_deceased.svg",tintMode:"none",name:"Deceased",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_attention",stickerURI:"./emoticons/imgly_sticker_emoticons_attention.svg",tintMode:"none",name:"Attention",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_question",stickerURI:"./emoticons/imgly_sticker_emoticons_question.svg",tintMode:"none",name:"Question",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_not_speaking_to_you",stickerURI:"./emoticons/imgly_sticker_emoticons_not_speaking_to_you.svg",tintMode:"none",name:"Not speaking to you",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_sick",stickerURI:"./emoticons/imgly_sticker_emoticons_sick.svg",tintMode:"none",name:"Sick",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_pumpkin",stickerURI:"./emoticons/imgly_sticker_emoticons_pumpkin.svg",tintMode:"none",name:"Pumpkin",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_boxer",stickerURI:"./emoticons/imgly_sticker_emoticons_boxer.svg",tintMode:"none",name:"Boxer",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_idea",stickerURI:"./emoticons/imgly_sticker_emoticons_idea.svg",tintMode:"none",name:"Idea",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_smoking",stickerURI:"./emoticons/imgly_sticker_emoticons_smoking.svg",tintMode:"none",name:"Smoking",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_beer",stickerURI:"./emoticons/imgly_sticker_emoticons_beer.svg",tintMode:"none",name:"Beer",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_skateboard",stickerURI:"./emoticons/imgly_sticker_emoticons_skateboard.svg",tintMode:"none",name:"Skateboard",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_guitar",stickerURI:"./emoticons/imgly_sticker_emoticons_guitar.svg",tintMode:"none",name:"Guitar",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_music",stickerURI:"./emoticons/imgly_sticker_emoticons_music.svg",tintMode:"none",name:"Music",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_sunbathing",stickerURI:"./emoticons/imgly_sticker_emoticons_sunbathing.svg",tintMode:"none",name:"Sunbathing",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_hippie",stickerURI:"./emoticons/imgly_sticker_emoticons_hippie.svg",tintMode:"none",name:"Hippie",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_humourous",stickerURI:"./emoticons/imgly_sticker_emoticons_humourous.svg",tintMode:"none",name:"Humourous",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_hitman",stickerURI:"./emoticons/imgly_sticker_emoticons_hitman.svg",tintMode:"none",name:"Hitman",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_harry_potter",stickerURI:"./emoticons/imgly_sticker_emoticons_harry_potter.svg",tintMode:"none",name:"Harry Potter",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_business",stickerURI:"./emoticons/imgly_sticker_emoticons_business.svg",tintMode:"none",name:"Business",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_batman",stickerURI:"./emoticons/imgly_sticker_emoticons_batman.svg",tintMode:"none",name:"Batman",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_skull",stickerURI:"./emoticons/imgly_sticker_emoticons_skull.svg",tintMode:"none",name:"Skull",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_ninja",stickerURI:"./emoticons/imgly_sticker_emoticons_ninja.svg",tintMode:"none",name:"Ninja",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_masked",stickerURI:"./emoticons/imgly_sticker_emoticons_masked.svg",tintMode:"none",name:"Masked",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_alien",stickerURI:"./emoticons/imgly_sticker_emoticons_alien.svg",tintMode:"none",name:"Alien",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_wrestler",stickerURI:"./emoticons/imgly_sticker_emoticons_wrestler.svg",tintMode:"none",name:"Wrestler",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_devil",stickerURI:"./emoticons/imgly_sticker_emoticons_devil.svg",tintMode:"none",name:"Devil",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_star",stickerURI:"./emoticons/imgly_sticker_emoticons_star.svg",tintMode:"none",name:"Star",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_baby_chicken",stickerURI:"./emoticons/imgly_sticker_emoticons_baby_chicken.svg",tintMode:"none",name:"Baby Chicken",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_rabbit",stickerURI:"./emoticons/imgly_sticker_emoticons_rabbit.svg",tintMode:"none",name:"Rabbit",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_pig",stickerURI:"./emoticons/imgly_sticker_emoticons_pig.svg",tintMode:"none",name:"Pig",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_chicken",stickerURI:"./emoticons/imgly_sticker_emoticons_chicken.svg",tintMode:"none",name:"Chicken",resizeMode:"keepAspect"}]},{identifier:"imgly_sticker_shapes",name:"Shapes",thumbnailURI:"./categories/shapes.png",items:[{identifier:"imgly_sticker_shapes_badge_01",stickerURI:"./shapes/imgly_sticker_shapes_badge_01.svg",tintMode:"solid",name:"Shape Badge 01",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_04",stickerURI:"./shapes/imgly_sticker_shapes_badge_04.svg",tintMode:"solid",name:"Shape Badge 04",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_12",stickerURI:"./shapes/imgly_sticker_shapes_badge_12.svg",tintMode:"solid",name:"Shape Badge 12",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_06",stickerURI:"./shapes/imgly_sticker_shapes_badge_06.svg",tintMode:"solid",name:"Shape Badge 06",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_13",stickerURI:"./shapes/imgly_sticker_shapes_badge_13.svg",tintMode:"solid",name:"Shape Badge 13",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_36",stickerURI:"./shapes/imgly_sticker_shapes_badge_36.svg",tintMode:"solid",name:"Shape Badge 36",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_08",stickerURI:"./shapes/imgly_sticker_shapes_badge_08.svg",tintMode:"solid",name:"Shape Badge 08",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_11",stickerURI:"./shapes/imgly_sticker_shapes_badge_11.svg",tintMode:"solid",name:"Shape Badge 11",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_35",stickerURI:"./shapes/imgly_sticker_shapes_badge_35.svg",tintMode:"solid",name:"Shape Badge 35",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_28",stickerURI:"./shapes/imgly_sticker_shapes_badge_28.svg",tintMode:"solid",name:"Shape Badge 28",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_32",stickerURI:"./shapes/imgly_sticker_shapes_badge_32.svg",tintMode:"solid",name:"Shape Badge 32",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_15",stickerURI:"./shapes/imgly_sticker_shapes_badge_15.svg",tintMode:"solid",name:"Shape Badge 15",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_20",stickerURI:"./shapes/imgly_sticker_shapes_badge_20.svg",tintMode:"solid",name:"Shape Badge 20",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_18",stickerURI:"./shapes/imgly_sticker_shapes_badge_18.svg",tintMode:"solid",name:"Shape Badge 18",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_19",stickerURI:"./shapes/imgly_sticker_shapes_badge_19.svg",tintMode:"solid",name:"Shape Badge 19",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_arrow_02",stickerURI:"./shapes/imgly_sticker_shapes_arrow_02.svg",tintMode:"solid",name:"Shape Arrow 02",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_arrow_03",stickerURI:"./shapes/imgly_sticker_shapes_arrow_03.svg",tintMode:"solid",name:"Shape Arrow 03",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_spray_01",stickerURI:"./shapes/imgly_sticker_shapes_spray_01.svg",tintMode:"solid",name:"Shape Spray 01",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_spray_04",stickerURI:"./shapes/imgly_sticker_shapes_spray_04.svg",tintMode:"solid",name:"Shape Spray 04",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_spray_03",stickerURI:"./shapes/imgly_sticker_shapes_spray_03.svg",tintMode:"solid",name:"Shape Spray 03",resizeMode:"keepAspect"}]}],Ge=[{thumbnailURI:"./items/dark/imgly_text_design_icon_thislayoutisgreat.png",identifier:"imgly_text_design_blocks",name:"Blocks"},{thumbnailURI:"./items/dark/imgly_text_design_icon_fatandfast.png",identifier:"imgly_text_design_rotated",name:"Rotated"},{thumbnailURI:"./items/dark/imgly_text_design_icon_summerfeeling.png",identifier:"imgly_text_design_blocks_light",name:"Blocks Light"},{thumbnailURI:"./items/dark/imgly_text_design_icon_typewithstyle.png",identifier:"imgly_text_design_equal_width",name:"Equal Width"},{thumbnailURI:"./items/dark/imgly_text_design_icon_inthebox.png",identifier:"imgly_text_design_masked",name:"Masked"},{thumbnailURI:"./items/dark/imgly_text_design_icon_bluefriday.png",identifier:"imgly_text_design_celebrate",name:"Celebrate"},{thumbnailURI:"./items/dark/imgly_text_design_icon_decorative.png",identifier:"imgly_text_design_sunshine",name:"Sunshine"},{thumbnailURI:"./items/dark/imgly_text_design_icon_specialdeals.png",identifier:"imgly_text_design_masked_badge",name:"Masked Badge"},{thumbnailURI:"./items/dark/imgly_text_design_icon_doublelines.png",identifier:"imgly_text_design_blocks_condensed",name:"Blocks Condensed"},{thumbnailURI:"./items/dark/imgly_text_design_icon_celebrate.png",identifier:"imgly_text_design_celebrate_simple",name:"Celebrate Simple"},{thumbnailURI:"./items/dark/imgly_text_design_icon_beerandburger.png",identifier:"imgly_text_design_equal_width_fat",name:"Equal Width Fat"},{thumbnailURI:"./items/dark/imgly_text_design_icon_watercolor.png",identifier:"imgly_text_design_watercolor",name:"Watercolor"},{thumbnailURI:"./items/dark/imgly_text_design_icon_particle.png",identifier:"imgly_text_design_particles",name:"Particles"},{thumbnailURI:"./items/dark/imgly_text_design_icon_yeah.png",identifier:"imgly_text_design_masked_speech_bubble",name:"Masked Speech Bubble"},{thumbnailURI:"./items/dark/imgly_text_design_icon_thisisadream.png",identifier:"imgly_text_design_masked_speech_bubble_comic",name:"Masked Speech Bubble Comic"},{thumbnailURI:"./items/dark/imgly_text_design_icon_fatface.png",identifier:"imgly_text_design_multiline",name:"Multiline"}],Xe=[{thumbnailURI:"./items/light/imgly_text_design_icon_thislayoutisgreat.png",identifier:"imgly_text_design_blocks",name:"Blocks"},{thumbnailURI:"./items/light/imgly_text_design_icon_fatandfast.png",identifier:"imgly_text_design_rotated",name:"Rotated"},{thumbnailURI:"./items/light/imgly_text_design_icon_summerfeeling.png",identifier:"imgly_text_design_blocks_light",name:"Blocks Light"},{thumbnailURI:"./items/light/imgly_text_design_icon_typewithstyle.png",identifier:"imgly_text_design_equal_width",name:"Equal Width"},{thumbnailURI:"./items/light/imgly_text_design_icon_inthebox.png",identifier:"imgly_text_design_masked",name:"Masked"},{thumbnailURI:"./items/light/imgly_text_design_icon_bluefriday.png",identifier:"imgly_text_design_celebrate",name:"Celebrate"},{thumbnailURI:"./items/light/imgly_text_design_icon_decorative.png",identifier:"imgly_text_design_sunshine",name:"Sunshine"},{thumbnailURI:"./items/light/imgly_text_design_icon_specialdeals.png",identifier:"imgly_text_design_masked_badge",name:"Masked Badge"},{thumbnailURI:"./items/light/imgly_text_design_icon_doublelines.png",identifier:"imgly_text_design_blocks_condensed",name:"Blocks Condensed"},{thumbnailURI:"./items/light/imgly_text_design_icon_celebrate.png",identifier:"imgly_text_design_celebrate_simple",name:"Celebrate Simple"},{thumbnailURI:"./items/light/imgly_text_design_icon_beerandburger.png",identifier:"imgly_text_design_equal_width_fat",name:"Equal Width Fat"},{thumbnailURI:"./items/light/imgly_text_design_icon_watercolor.png",identifier:"imgly_text_design_watercolor",name:"Watercolor"},{thumbnailURI:"./items/light/imgly_text_design_icon_particle.png",identifier:"imgly_text_design_particles",name:"Particles"},{thumbnailURI:"./items/light/imgly_text_design_icon_yeah.png",identifier:"imgly_text_design_masked_speech_bubble",name:"Masked Speech Bubble"},{thumbnailURI:"./items/light/imgly_text_design_icon_thisisadream.png",identifier:"imgly_text_design_masked_speech_bubble_comic",name:"Masked Speech Bubble Comic"},{thumbnailURI:"./items/light/imgly_text_design_icon_fatface.png",identifier:"imgly_text_design_multiline",name:"Multiline"}],Ye=[{identifier:"imgly_frame_dia",name:"Dia",layoutMode:"horizontal-inside",thumbnailURI:"./items/imgly_frame_dia/imgly_frame_dia_thumb.png",imageGroups:{top:{mid:{image:"./items/imgly_frame_dia/imgly_frame_dia_top.png",mode:"repeat"}},left:{start:"./items/imgly_frame_dia/imgly_frame_dia_top_corner_left.png",mid:"./items/imgly_frame_dia/imgly_frame_dia_left.png",end:"./items/imgly_frame_dia/imgly_frame_dia_bottom_corner_left.png"},right:{start:"./items/imgly_frame_dia/imgly_frame_dia_top_corner_right.png",mid:"./items/imgly_frame_dia/imgly_frame_dia_right.png",end:"./items/imgly_frame_dia/imgly_frame_dia_bottom_corner_right.png"},bottom:{mid:{image:"./items/imgly_frame_dia/imgly_frame_dia_bottom.png",mode:"repeat"}}}},{identifier:"imgly_frame_art_decor",name:"Art Decor",tintable:!0,layoutMode:"horizontal-inside",thumbnailURI:"./items/imgly_frame_art_decor/imgly_frame_art_decor_thumb.png",imageGroups:{top:{start:"./items/imgly_frame_art_decor/imgly_frame_art_decor_top_corner_left.png",mid:{image:"./items/imgly_frame_art_decor/imgly_frame_art_decor_top.png",mode:"stretch"},end:"./items/imgly_frame_art_decor/imgly_frame_art_decor_top_corner_right.png"},left:{mid:{image:"./items/imgly_frame_art_decor/imgly_frame_art_decor_left.png",mode:"stretch"}},right:{mid:{image:"./items/imgly_frame_art_decor/imgly_frame_art_decor_right.png",mode:"stretch"}},bottom:{start:"./items/imgly_frame_art_decor/imgly_frame_art_decor_bottom_corner_left.png",mid:{image:"./items/imgly_frame_art_decor/imgly_frame_art_decor_bottom.png",mode:"stretch"},end:"./items/imgly_frame_art_decor/imgly_frame_art_decor_bottom_corner_right.png"}}},{identifier:"imgly_frame_black_passepartout",name:"Black Passepartout",layoutMode:"horizontal-inside",thumbnailURI:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_thumb.png",imageGroups:{top:{start:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top_corner_left.png",mid:{image:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top.png",mode:"stretch"},end:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top_corner_right.png"},left:{mid:{image:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_left.png",mode:"stretch"}},right:{mid:{image:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_right.png",mode:"stretch"}},bottom:{start:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom_corner_left.png",mid:{image:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom.png",mode:"stretch"},end:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom_corner_right.png"}}},{identifier:"imgly_frame_wood_passepartout",name:"Wood Passepartout",layoutMode:"horizontal-inside",thumbnailURI:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_thumb.png",imageGroups:{top:{start:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top_corner_left.png",mid:{image:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top.png",mode:"stretch"},end:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top_corner_right.png"},left:{mid:{image:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_left.png",mode:"stretch"}},right:{mid:{image:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_right.png",mode:"stretch"}},bottom:{start:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom_corner_left.png",mid:{image:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom.png",mode:"stretch"},end:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom_corner_right.png"}}},{identifier:"imgly_frame_lowpoly_shadow",name:"Low Poly",layoutMode:"horizontal-inside",thumbnailURI:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_thumb.png",imageGroups:{top:{start:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top_corner_left.png",mid:{image:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top.png",mode:"stretch"},end:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top_corner_right.png"},left:{mid:{image:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_left.png",mode:"stretch"}},right:{mid:{image:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_right.png",mode:"stretch"}},bottom:{start:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom_corner_left.png",mid:{image:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom.png",mode:"stretch"},end:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom_corner_right.png"}}}],Ke=[{identifier:"imgly_transforms_common",name:"Common",items:[{identifier:"imgly_transform_common_custom",name:"Custom",thumbnailURI:"",ratio:"*"},{identifier:"imgly_transform_common_square",name:"Square",thumbnailURI:"",ratio:1},{identifier:"imgly_transform_common_4",name:"4:3",thumbnailURI:"",ratio:4/3},{identifier:"imgly_transform_common_16",name:"16:9",thumbnailURI:"",ratio:16/9},{identifier:"imgly_transform_common_3",name:"3:4",thumbnailURI:"",ratio:.75},{identifier:"imgly_transform_common_9",name:"9:16",thumbnailURI:"",ratio:9/16}]},{identifier:"imgly_transforms_facebook",name:"Facebook",items:[{identifier:"imgly_transform_facebook_profile",name:"Profile",thumbnailURI:"",dimensions:{x:300,y:300},forceDimensions:!0,lockDimensions:!0},{identifier:"imgly_transform_facebook_title",name:"Title",thumbnailURI:"",dimensions:{x:1200,y:627},forceDimensions:!0,lockDimensions:!0},{identifier:"imgly_transform_facebook_post",name:"Post",thumbnailURI:"",dimensions:{x:940,y:788},forceDimensions:!0,lockDimensions:!0}]},{identifier:"imgly_transforms_instagram",name:"Instagram",items:[{identifier:"imgly_transform_instagram_landscape",name:"Landscape",thumbnailURI:"",dimensions:{x:1080,y:566},forceDimensions:!0,lockDimensions:!0},{identifier:"imgly_transform_instagram_portrait",name:"Portrait",thumbnailURI:"",dimensions:{x:1080,y:1350},forceDimensions:!0,lockDimensions:!0},{identifier:"imgly_transform_instagram_square",name:"Square",thumbnailURI:"",dimensions:{x:1080,y:1080},forceDimensions:!0,lockDimensions:!0},{identifier:"imgly_transform_instagram_story",name:"Story",thumbnailURI:"",dimensions:{x:1080,y:1920},forceDimensions:!0,lockDimensions:!0}]},{identifier:"imgly_transforms_twitter",name:"Twitter",items:[{identifier:"imgly_transform_twitter_post",name:"Post",thumbnailURI:"",dimensions:{x:1024,y:512},forceDimensions:!0,lockDimensions:!0},{identifier:"imgly_transform_twitter_profile",name:"Profile",thumbnailURI:"",dimensions:{x:400,y:400},forceDimensions:!0,lockDimensions:!0},{identifier:"imgly_transform_twitter_title",name:"Title",thumbnailURI:"",dimensions:{x:1500,y:500},forceDimensions:!0,lockDimensions:!0}]}],qe=["imgly_font_open_sans_bold","imgly_font_aleo_bold","imgly_font_amaticsc","imgly_font_bernier_regular","imgly_font_cheque_regular","imgly_font_gagalin_regular","imgly_font_hagin_caps_thin","imgly_font_intro_inline","imgly_font_lobster","imgly_font_nexa_script","imgly_font_ostrich_sans_black","imgly_font_ostrich_sans_bold","imgly_font_panton_blackitalic_caps","imgly_font_panton_lightitalic_caps","imgly_font_perfograma","imgly_font_trash_hand"],$e=["imgly_font_abril_fatface_regular","imgly_font_montserrat_light","imgly_font_wolesbro","imgly_font_permanent_marker","imgly_font_panton_light_italic_caps","imgly_font_panton_black_italic_caps","imgly_font_panton_light_caps","imgly_font_panton_black_caps","imgly_font_amberlight","imgly_font_ultra","imgly_font_galano_grotesque_bold","imgly_font_bungee_inline","imgly_font_petit_formal_script","imgly_font_summer_font_light","imgly_font_handycheera_regular","imgly_font_rasa_regular","imgly_font_rasa_500","imgly_font_campton_bold","imgly_font_ostrich_sans_bold","imgly_font_ostrich_sans_heavy"],Ze=function(){return window&&window.navigator&&window.navigator.userAgent||""},Je=function(e){return void 0===e&&(e=Ze()),-1!==e.indexOf("Edge")},Qe=function(e){return void 0===e&&(e=Ze()),!!e.match(/msie|trident/i)},et=function(e){try{return new URL(e),!0}catch(e){return!1}},tt=function(){function e(e){this.assetManager=e,this.injectedFonts={},this.loadedFonts={}}return e.createFontFacesCSS=function(e,t){return e.map((function(e){var n=t(e.fontURI);return'@font-face {\n        font-family: "'+e.fontFamily+"\";\n        src: url('"+n+"') format('"+(e.format||"woff")+"');\n        font-weight: "+(e.fontWeight||"normal")+";\n        font-style: "+(e.fontStyle||"normal")+";\n      }"}))},e.prototype.getFontWithId=function(e){var t=this.assetManager.getFontAsset(e);if(!t)throw new Error("The requested font does not exist as an asset.");return t},e.prototype.isFontLoaded=function(e){return void 0!==this.loadedFonts[e]},e.prototype.injectAllFonts=function(){var e=this.assetManager.getFontAssets();this.injectFonts(e)},e.prototype.loadAllFonts=function(){return T(this,void 0,void 0,(function(){var e;return O(this,(function(t){return e=this.assetManager.getFontAssets(),[2,this.loadFonts(e)]}))}))},e.prototype.loadFontsWithIdentifiers=function(e){return T(this,void 0,void 0,(function(){var t,n=this;return O(this,(function(r){return t=e.map((function(e){return n.getFontWithId(e)})),[2,this.loadFonts(t)]}))}))},e.prototype.loadFonts=function(e){return T(this,void 0,void 0,(function(){var t,n=this;return O(this,(function(r){return this.injectFonts(e),t=new Array,e.forEach((function(e){t.push(n.loadFont(e,!1))})),[2,new Promise((function(e,n){Promise.all(t).then((function(){return e()})).catch((function(e){return n(e)}))}))]}))}))},e.prototype.loadFont=function(e,t){return void 0===t&&(t=!0),T(this,void 0,void 0,(function(){var n=this;return O(this,(function(r){return[2,new Promise((function(r,i){n.isFontLoaded(e.identifier)&&r(),t&&n.injectFonts([e]),new N(e).load().then((function(){n.loadedFonts[e.identifier]=e,r()})).catch((function(){i(e.identifier)}))}))]}))}))},e.prototype.loadFontWithIdentifier=function(e,t){return void 0===t&&(t=!0),T(this,void 0,void 0,(function(){var n;return O(this,(function(r){if(!(n=this.assetManager.getFontAsset(e)))throw new Error("The requested font asset with identifier "+e+" does not exist!");return[2,this.loadFont(n,t)]}))}))},e.prototype.injectFonts=function(e,t){void 0===t&&(t=this.assetManager.getPathForCategory("font"));var n=e.filter(_e),r=e.filter(be);n.length>0&&this.addGoogleFontLinks(n),r.length>0&&this.addWebFontCSS(r,t)},e.prototype.addGoogleFontLinks=function(e){var t=this,n=e.filter((function(e){return!t.injectedFonts[e.identifier]}));if(0!==n.length){var r=document.createElement("link");r.rel="stylesheet",r.href="https://fonts.googleapis.com/css?family="+n.map((function(e){return e.fontFamily})).join(","),document.getElementsByTagName("head")[0].appendChild(r),e.forEach((function(e){t.injectedFonts[e.identifier]=e}))}},e.prototype.addWebFontCSS=function(t,n){var r=this,i=t.filter((function(e){return!r.injectedFonts[e.identifier]}));if(0!==i.length){var o="\n      /* Injected by PhotoEditorSDK */\n      "+e.createFontFacesCSS(i,n).join("\n")+"\n    ",a=document.createElement("style");a.innerHTML=o,document.head.appendChild(a),t.forEach((function(e){r.injectedFonts[e.identifier]=e}))}},e}(),nt=function(){function e(e){var t=this;this.basePath="assets/",this.getAssets=function(e){switch(e){case"overlay":return t.overlayAssets;case"filter":return t.filterCategories;case"font":return t.fontAssets;case"focus":return t.focusAssets;case"adjustment":return t.adjustmentCategories;case"sticker":return t.stickerCategories;case"textdesign":return t.textDesignAssets;case"frame":return t.frameAssets;case"transform":return t.transformCategories}return[]},this.getPath=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=ze.join.apply(ze,M([e],n));if(n&&0!==n.length&&et(ze.join.apply(ze,M(n))))return ze.join.apply(ze,M(n));if((!n||0===n.length)&&et(e))return e;if(t.basePath.match(/(ftp|http|https):\/\//)){var o=t.basePath.length;return"/"!==t.basePath[o-1]&&(t.basePath=t.basePath+"/"),t.basePath+i}return ze.join(t.basePath,i)},this.getPathForCategory=function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.getPath.apply(t,M([e],n))}},this.addCustomStickerAsset=function(e,n,r){e.forEach((function(e){var i=e.thumbnailURI,o=e.name,a=e.sticker,s=e.identifier,l=e.tintMode,c=e.resizeMode,u=t.stickerCategories.find((function(e){return e.identifier===n})),d={identifier:s,name:o,thumbnailURI:i,sticker:a,tintMode:l,resizeMode:c};if(u&&ye(u))u.items.push(d);else{var p={identifier:n,name:r,thumbnail:i,items:[d]};t.stickerCategories=M([p],t.stickerCategories)}})),t.stickerAssets=t.stickerCategories.reduce(t.allOptions,[])},this.getItemPath=function(e,t,n){var r=e.find((function(e){return e.identifier===t}));return r&&(r[n]||r.path)||""},this.isNonExistingFont=function(e){return!Ne.find((function(t){return t.identifier===e.identifier}))},e&&e.basePath&&(this.basePath=e.basePath);var n=Ue.reduce(this.allOptions,[]);e&&e.filter?this.filterCategories=this.configuredCategory(Ue,e.filter,n):this.filterCategories=Ue,this.lutFilterAssets=this.filterCategories.reduce(this.allOptions,[]).filter((function(e){return ie(e)})),this.duoToneFilterAssets=this.filterCategories.reduce(this.allOptions,[]).filter((function(e){return re(e)}));var r=We.reduce(this.allOptions,[]);e&&e.adjustment?this.adjustmentCategories=this.configuredCategory(We,e.adjustment,r):this.adjustmentCategories=We,this.fontAssets=Ne.reduce(this.allOptions,[]);var i=qe.map((function(e){return t.getFontAsset(e)}));if(e&&e.text&&e.text.fonts&&e.text.fonts.length>0){var o=e.text.fonts.filter(this.isNonExistingFont),a=e.text.fonts.filter((function(e){return!t.isNonExistingFont(e)})).map((function(e){return t.getFontAsset(e.identifier)}));i=e.text.fonts?M(a,o):i,this.fontAssets=e.text.fonts?M(this.fontAssets,o):this.fontAssets}this.textToolFontAssets=i;var s=e&&e.focus&&e.focus.items&&e.focus.items.length?e.focus.items.map((function(e){return He.find((function(t){return t.identifier===e.identifier}))})):He;this.focusAssets=s,e&&e.overlay&&e.overlay.items?this.overlayAssets=this.configuredItem(e.overlay.items,Be,Be):this.overlayAssets=Be,e&&e.frame&&e.frame.items?this.frameAssets=this.configuredItem(e.frame.items,Ye,Ye):this.frameAssets=Ye;var l=Ve.reduce(this.allOptions,[]);e&&e.sticker?this.stickerCategories=this.configuredCategory(Ve,e.sticker,l):this.stickerCategories=Ve,this.stickerAssets=this.stickerCategories.reduce(this.allOptions,[]);var c=Ge;e&&"light"===e.theme&&(c=Xe),this.textDesignAssets=e&&e.textdesign&&e.textdesign.items&&e.textdesign.items.length?e.textdesign.items.map((function(e){return c.find((function(t){return t.identifier===e.identifier}))})):c,this.textDesignToolFontAssets=$e.map((function(e){return t.getFontAsset(e)}));var u=Ke.reduce(this.allOptions,[]);e&&e.transform?this.transformCategories=this.configuredCategory(Ke,e.transform,u):this.transformCategories=Ke,this.transformAssets=this.transformCategories.reduce(this.allOptions,[]),this.fontManager=new tt(this)}return e.prototype.getFontManager=function(){return this.fontManager},e.prototype.getAssetSource=function(e,t){switch(e){case"filter":if(this.getLUTFilterAsset(t))return this.getPath(e,this.getItemPath(this.lutFilterAssets,t,"lutURI"));break;case"overlay":return this.getPath(e,this.getItemPath(this.overlayAssets,t,"overlayURI"));case"font":return this.getPath(e,this.getItemPath(this.fontAssets,t,"fontURI"));case"sticker":var n=this.stickerAssets.find((function(e){return e.identifier===t}));if(n){if(ge(n))return n.sticker;if(t.includes("imgly_sticker")&&n.stickerURI.includes(".svg")&&Qe()){var r=this.getPath(e,this.getItemPath(this.stickerAssets,t,"stickerURI")).split("/");return r.splice(r.length-1,0,"base"),r[r.length-1]=r[r.length-1].replace(".svg",".png"),r.join("/")}return this.getPath(e,this.getItemPath(this.stickerAssets,t,"stickerURI"))}throw new Error("Cannot resolve this type of sticker asset yet");case"textdesign":return this.getPath(e,"engine",t);case"frame":return this.getPath(e,t)}throw new Error("Cannot resolve this type of asset yet")},e.prototype.getDuotoneFilterAsset=function(e){return this.duoToneFilterAssets.filter((function(t){return t.identifier===e}))[0]},e.prototype.getLUTFilterAsset=function(e){return this.lutFilterAssets.filter((function(t){return t.identifier===e}))[0]},e.prototype.getOverlayAsset=function(e){return this.overlayAssets.filter((function(t){return t.identifier===e}))[0]},e.prototype.getStickerAsset=function(e){return this.stickerAssets.filter((function(t){return t.identifier===e}))[0]},e.prototype.getFontAsset=function(e){return this.fontAssets.filter((function(t){return t.identifier===e}))[0]},e.prototype.getTextDesignAssets=function(e){return this.textDesignAssets.filter((function(t){return t.identifier===e}))[0]},e.prototype.getFrameAsset=function(e){return this.frameAssets.filter((function(t){return t.identifier===e}))[0]},e.prototype.getFontAssets=function(){return this.fontAssets},e.prototype.getFontAssetsForText=function(){return this.textToolFontAssets},e.prototype.getFontAssetsForTextDesign=function(){return this.textDesignToolFontAssets},e.prototype.getFrameAssets=function(){return this.frameAssets},e.prototype.allOptions=function(e,t){return Object.prototype.hasOwnProperty.call(t,"items")?M(e,t.items):M(e,[t])},e.prototype.configuredCategory=function(e,t,n){var r=this;return t.categories&&t.categories.length?t.categories.map((function(t){var i=e.find((function(e){return e.identifier===t.identifier}));return i?E({},i,t,{items:r.configuredItem(t.items,n,i.items).filter(Boolean)}):E({},t,{items:r.configuredItem(t.items,n,t.items).filter(Boolean)})})):e},e.prototype.configuredItem=function(e,t,n){return e&&e.length?e.map((function(e){var n=t.find((function(t){return t.identifier===e.identifier}));return n?E({},n,e):e})).filter(Boolean):n},e}(),rt=function(e){var t=Number(e).toString(16);return t.length<2&&(t="0"+t),t},it=function(e,t,n){return"#"+rt(255*e)+rt(255*t)+rt(255*n)},ot=function(e){if(i(e)){var t=R(e,4);return"rgba("+255*(r=t[0])+", "+255*(l=t[1])+", "+255*(c=t[2])+", "+t[3]+")"}if(o(e))return"rgba("+255*(r=e.r)+", "+255*(l=e.g)+", "+255*(c=e.b)+", "+e.a+")";if(a(e)){var n=R(e,3),r=n[0],l=n[1],c=n[2];return it(r,l,c)}if(s(e)){r=e.r,l=e.g,c=e.b;return it(r,l,c)}return e},at={black:[0,0,0,1],white:[1,1,1,1],gray:[191/255,191/255,191/255,1],blue:[.4,134/255,1,1],skyBlue:[.4,.8,1,1],red:[231/255,80/255,80/255,1],orange:[242/255,136/255,85/255,1],yellow:[1,247/255,99/255,1]},st={transparent:[0,0,0,0],black:[0,0,0,1],white:[1,1,1,1],blue:[.4,134/255,1,1],skyBlue:[.4,.8,1,1],red:[231/255,80/255,80/255,1],orange:[242/255,136/255,85/255,1],yellow:[1,247/255,99/255,1]},lt=[j.LIBRARY,[j.TRANSFORM,j.FILTER,j.ADJUSTMENT],[j.FOCUS,j.FRAME,j.OVERLAY],[j.TEXT,j.TEXT_DESIGN,j.STICKER,j.BRUSH]],ct={license:"",order:"default",language:"en",theme:"dark",layout:"advanced",mainCanvasActions:[F.UNDO,F.REDO,F.EXPORT,F.CLOSE],displayResizeWarning:!0,displayCloseWarning:!0,displayToolControlBarTitle:!0,engine:{crossOrigin:"anonymous",downscaleOptions:{maxMegaPixels:{desktop:10,mobile:5}}},enableZoom:!0,forceCrop:!1,assetBaseUrl:"assets/",defaultTool:j.FILTER,tools:lt,snapping:new q,filter:new ne,focus:new ae,adjustment:new te,library:new de,overlay:new he,sticker:new me,text:new ve,textdesign:new Ee,frame:new le,brush:new Se,transform:new ke,export:{image:{exportType:$.IMAGE,format:Z.PNG,quality:.9,enableDownload:!0},filename:"photoeditorsdk-export"},custom:{}};!function(e){e.ERROR="error",e.WARNING="warning",e.INFO="info",e.TEXT_EDIT="textEdit"}(Le||(Le={}));var ut=((Fe={})[Q.BRIGHTNESS]=0,Fe[Q.SATURATION]=0,Fe[Q.CONTRAST]=0,Fe[Q.GAMMA]=0,Fe[Q.CLARITY]=0,Fe[Q.EXPOSURE]=0,Fe[Q.SHADOWS]=0,Fe[Q.HIGHLIGHTS]=0,Fe[Q.WHITES]=0,Fe[Q.BLACKS]=0,Fe[Q.TEMPERATURE]=0,Fe[Q.SHARPNESS]=0,Fe),dt=function(e,t){return(dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function pt(e,t){function n(){this.constructor=e}dt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ft=function(){return(ft=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function ht(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function mt(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ht(arguments[t]));return e}var gt=[];Object.freeze(gt);var yt={};Object.freeze(yt);var vt={};function bt(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:vt}function _t(){return++Kn.mobxGuid}function xt(e){throw wt(!1,e),"X"}function wt(e,t){if(!e)throw new Error("[mobx] "+(t||"An invariant failed, however the error is obfuscated because this is an production build."))}var St=[];function Et(e,t){return"production"!==process.env.NODE_ENV&&(t?Et("'"+e+"', use '"+t+"' instead."):-1===St.indexOf(e)&&(St.push(e),console.error("[mobx] Deprecated: "+e),!0))}function kt(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var Ct=function(){};function Tt(e){return null!==e&&"object"==typeof e}function Ot(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function It(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function Rt(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Mt(e,t){"production"===process.env.NODE_ENV||function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!n||!1!==n.configurable&&!1!==n.writable}(e,t)||xt("Cannot make property '"+t+"' observable, it is not configurable and writable in the target object")}function At(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return Tt(e)&&!0===e[n]}}function Pt(e){return void 0!==bt().Map&&e instanceof bt().Map}function zt(e){return e instanceof Set}function Dt(e){for(var t=[];;){var n=e.next();if(n.done)break;t.push(n.value)}return t}function Lt(){return"function"==typeof Symbol&&Symbol.toPrimitive||"@@toPrimitive"}function Ft(e){return null===e?null:"object"==typeof e?""+e:e}function jt(){return"function"==typeof Symbol&&Symbol.iterator||"@@iterator"}function Bt(e,t){Rt(e,jt(),t)}function Ut(e){return e[jt()]=Ht,e}function Nt(){return"function"==typeof Symbol&&Symbol.toStringTag||"@@toStringTag"}function Ht(){return this}var Wt=function(){function e(e){void 0===e&&(e="Atom@"+_t()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=gn.NOT_TRACKING}return e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.reportObserved=function(){return er(this)},e.prototype.reportChanged=function(){Jn(),function(e){if(e.lowestObserverState===gn.STALE)return;e.lowestObserverState=gn.STALE;var t=e.observers,n=t.length;for(;n--;){var r=t[n];r.dependenciesState===gn.UP_TO_DATE&&(r.isTracing!==yn.NONE&&tr(r,e),r.onBecomeStale()),r.dependenciesState=gn.STALE}}(this),Qn()},e.prototype.toString=function(){return this.name},e}(),Vt=At("Atom",Wt);function Gt(e,t,n){void 0===t&&(t=Ct),void 0===n&&(n=Ct);var r,i=new Wt(e);return wr("onBecomeObserved",i,t,r),xr(i,n),i}function Xt(e,t){return e===t}var Yt={identity:Xt,structural:function(e,t){return bi(e,t)},default:function(e,t){return function(e,t){return"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}(e,t)||Xt(e,t)},shallow:function(e,t){return bi(e,t,1)}},Kt={},qt={};function $t(e,t){var n=t?Kt:qt;return n[e]||(n[e]={configurable:!0,enumerable:t,get:function(){return Zt(this),this[e]},set:function(t){Zt(this),this[e]=t}})}function Zt(e){if(!0!==e.__mobxDidRunLazyInitializers){var t=e.__mobxDecorators;if(t)for(var n in It(e,"__mobxDidRunLazyInitializers",!0),t){var r=t[n];r.propertyCreator(e,r.prop,r.descriptor,r.decoratorTarget,r.decoratorArguments)}}}function Jt(e,t){return function(){var n,r=function(r,i,o,a){if(!0===a)return t(r,i,o,r,n),null;if("production"===process.env.NODE_ENV||Qt(arguments)||xt("This function is a decorator, but it wasn't invoked like a decorator"),!Object.prototype.hasOwnProperty.call(r,"__mobxDecorators")){var s=r.__mobxDecorators;It(r,"__mobxDecorators",ft({},s))}return r.__mobxDecorators[i]={prop:i,propertyCreator:t,descriptor:o,decoratorTarget:r,decoratorArguments:n},$t(i,e)};return Qt(arguments)?(n=gt,r.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),r)}}function Qt(e){return(2===e.length||3===e.length)&&"string"==typeof e[1]||4===e.length&&!0===e[3]}function en(e,t,n){return Or(e)?e:Array.isArray(e)?hn.array(e,{name:n}):Ot(e)?hn.object(e,void 0,{name:n}):Pt(e)?hn.map(e,{name:n}):zt(e)?hn.set(e,{name:n}):e}function tn(e){return e}function nn(e){wt(e);var t=Jt(!0,(function(t,n,r,i,o){"production"!==process.env.NODE_ENV&&wt(!r||!r.get,'@observable cannot be used on getter (property "'+n+'"), use @computed instead.'),function(e,t,n,r){var i=ui(e);if(Mt(e,t),Dr(i)){var o=Fr(i,{object:e,name:t,type:"add",newValue:n});if(!o)return;n=o.newValue}var a=i.values[t]=new Nn(n,r,i.name+"."+t,!1);n=a.value,Object.defineProperty(e,t,function(e){return di[e]||(di[e]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.read(this,e)},set:function(t){this.$mobx.write(this,e,t)}})}(t)),i.keys&&i.keys.push(t);!function(e,t,n,r){var i=jr(e),o=lr(),a=i||o?{type:"add",object:t,name:n,newValue:r}:null;o&&ur(ft(ft({},a),{name:e.name,key:n}));i&&Ur(e,a);o&&pr()}(i,e,t,n)}(t,n,r?r.initializer?r.initializer.call(t):r.value:void 0,e)})),n="undefined"!=typeof process&&process.env&&"production"!==process.env.NODE_ENV?function(){return arguments.length<2?xt("Incorrect decorator invocation. @observable decorator doesn't expect any arguments"):t.apply(null,arguments)}:t;return n.enhancer=e,n}var rn={deep:!0,name:void 0,defaultDecorator:void 0},on={deep:!1,name:void 0,defaultDecorator:void 0};function an(e){/^(deep|name|equals|defaultDecorator)$/.test(e)||xt("invalid option for (extend)observable: "+e)}function sn(e){if(null==e)return rn;if("string"==typeof e)return{name:e,deep:!0};if("production"!==process.env.NODE_ENV){if("object"!=typeof e)return xt("expected options object");Object.keys(e).forEach(an)}return e}function ln(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?tn:en}Object.freeze(rn),Object.freeze(on);var cn=nn(en),un=nn((function(e,t,n){return null==e||mi(e)||ti(e)||oi(e)||li(e)?e:Array.isArray(e)?hn.array(e,{name:n,deep:!1}):Ot(e)?hn.object(e,void 0,{name:n,deep:!1}):Pt(e)?hn.map(e,{name:n,deep:!1}):zt(e)?hn.set(e,{name:n,deep:!1}):xt("production"!==process.env.NODE_ENV&&"The shallow modifier / decorator can only used in combination with arrays, objects, maps and sets")})),dn=nn(tn),pn=nn((function(e,t,n){if("production"!==process.env.NODE_ENV&&Or(e))throw"observable.struct should not be used with observable values";return bi(e,t)?t:e}));var fn={box:function(e,t){arguments.length>2&&mn("box");var n=sn(t);return new Nn(e,ln(n),n.name,!0,n.equals)},shallowBox:function(e,t){return arguments.length>2&&mn("shallowBox"),Et("observable.shallowBox","observable.box(value, { deep: false })"),hn.box(e,{name:t,deep:!1})},array:function(e,t){arguments.length>2&&mn("array");var n=sn(t);return new qr(e,ln(n),n.name)},shallowArray:function(e,t){return arguments.length>2&&mn("shallowArray"),Et("observable.shallowArray","observable.array(values, { deep: false })"),hn.array(e,{name:t,deep:!1})},map:function(e,t){arguments.length>2&&mn("map");var n=sn(t);return new ri(e,ln(n),n.name)},shallowMap:function(e,t){return arguments.length>2&&mn("shallowMap"),Et("observable.shallowMap","observable.map(values, { deep: false })"),hn.map(e,{name:t,deep:!1})},set:function(e,t){arguments.length>2&&mn("set");var n=sn(t);return new si(e,ln(n),n.name)},object:function(e,t,n){"string"==typeof arguments[1]&&mn("object");var r=sn(n);return Sr({},e,t,r)},shallowObject:function(e,t){return"string"==typeof arguments[1]&&mn("shallowObject"),Et("observable.shallowObject","observable.object(values, {}, { deep: false })"),hn.object(e,{},{name:t,deep:!1})},ref:dn,shallow:un,deep:cn,struct:pn},hn=function(e,t,n){if("string"==typeof arguments[1])return cn.apply(null,arguments);if(Or(e))return e;var r=Ot(e)?hn.object(e,t,n):Array.isArray(e)?hn.array(e,t):Pt(e)?hn.map(e,t):zt(e)?hn.set(e,t):e;if(r!==e)return r;xt("production"!==process.env.NODE_ENV&&"The provided value could not be converted into an observable. If you want just create an observable reference to the object use 'observable.box(value)'")};function mn(e){xt("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(fn).forEach((function(e){return hn[e]=fn[e]}));var gn,yn,vn=Jt(!1,(function(e,t,n,r,i){var o=n.get,a=n.set,s=i[0]||{};!function(e,t,n){var r=ui(e);n.name=r.name+"."+t,n.context=e,r.values[t]=new Wn(n),Object.defineProperty(e,t,function(e){return pi[e]||(pi[e]={configurable:Kn.computedConfigurable,enumerable:!1,get:function(){return fi(this).read(this,e)},set:function(t){fi(this).write(this,e,t)}})}(t))}(e,t,ft({get:o,set:a},s))})),bn=vn({equals:Yt.structural}),_n=function(e,t,n){if("string"==typeof t)return vn.apply(null,arguments);if(null!==e&&"object"==typeof e&&1===arguments.length)return vn.apply(null,arguments);"production"!==process.env.NODE_ENV&&(wt("function"==typeof e,"First argument to `computed` should be an expression."),wt(arguments.length<3,"Computed takes one or two arguments if used as function"));var r="object"==typeof t?t:{};return r.get=e,r.set="function"==typeof t?t:r.set,r.name=r.name||e.name||"",new Wn(r)};_n.struct=bn,function(e){e[e.NOT_TRACKING=-1]="NOT_TRACKING",e[e.UP_TO_DATE=0]="UP_TO_DATE",e[e.POSSIBLY_STALE=1]="POSSIBLY_STALE",e[e.STALE=2]="STALE"}(gn||(gn={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(yn||(yn={}));var xn=function(e){this.cause=e};function wn(e){return e instanceof xn}function Sn(e){switch(e.dependenciesState){case gn.UP_TO_DATE:return!1;case gn.NOT_TRACKING:case gn.STALE:return!0;case gn.POSSIBLY_STALE:for(var t=Rn(!0),n=On(),r=e.observing,i=r.length,o=0;o<i;o++){var a=r[o];if(Vn(a)){if(Kn.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return In(n),Mn(t),!0}if(e.dependenciesState===gn.STALE)return In(n),Mn(t),!0}}return An(e),In(n),Mn(t),!1}}function En(e){var t=e.observers.length>0;Kn.computationDepth>0&&t&&xt("production"!==process.env.NODE_ENV&&"Computed values are not allowed to cause side effects by changing observables that are already being observed. Tried to modify: "+e.name),Kn.allowStateChanges||!t&&"strict"!==Kn.enforceActions||xt("production"!==process.env.NODE_ENV&&(Kn.enforceActions?"Since strict-mode is enabled, changing observed observable values outside actions is not allowed. Please wrap the code in an `action` if this change is intended. Tried to modify: ":"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, the render function of a React component? Tried to modify: ")+e.name)}function kn(e,t,n){var r=Rn(!0);An(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++Kn.runId;var i,o=Kn.trackingDerivation;if(Kn.trackingDerivation=e,!0===Kn.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(e){i=new xn(e)}return Kn.trackingDerivation=o,function(e){for(var t=e.observing,n=e.observing=e.newObserving,r=gn.UP_TO_DATE,i=0,o=e.unboundDepsCount,a=0;a<o;a++){0===(s=n[a]).diffValue&&(s.diffValue=1,i!==a&&(n[i]=s),i++),s.dependenciesState>r&&(r=s.dependenciesState)}n.length=i,e.newObserving=null,o=t.length;for(;o--;){0===(s=t[o]).diffValue&&$n(s,e),s.diffValue=0}for(;i--;){var s;1===(s=n[i]).diffValue&&(s.diffValue=0,qn(s,e))}r!==gn.UP_TO_DATE&&(e.dependenciesState=r,e.onBecomeStale())}(e),0===e.observing.length&&function(e){if("production"===process.env.NODE_ENV)return;(Kn.reactionRequiresObservable||e.requiresObservable)&&console.warn("[mobx] Derivation "+e.name+" is created/updated without reading any observable value")}(e),Mn(r),i}function Cn(e){var t=e.observing;e.observing=[];for(var n=t.length;n--;)$n(t[n],e);e.dependenciesState=gn.NOT_TRACKING}function Tn(e){var t=On(),n=e();return In(t),n}function On(){var e=Kn.trackingDerivation;return Kn.trackingDerivation=null,e}function In(e){Kn.trackingDerivation=e}function Rn(e){var t=Kn.allowStateReads;return Kn.allowStateReads=e,t}function Mn(e){Kn.allowStateReads=e}function An(e){if(e.dependenciesState!==gn.UP_TO_DATE){e.dependenciesState=gn.UP_TO_DATE;for(var t=e.observing,n=t.length;n--;)t[n].lowestObserverState=gn.UP_TO_DATE}}var Pn=0,zn=1,Dn=Object.getOwnPropertyDescriptor((function(){}),"name"),Ln=Dn&&Dn.configurable;function Fn(e,t){"production"!==process.env.NODE_ENV&&(wt("function"==typeof t,"`action` can only be invoked on functions"),"string"==typeof e&&e||xt("actions should have valid names, got: '"+e+"'"));var n=function(){return jn(e,t,this,arguments)};return"production"!==process.env.NODE_ENV&&Ln&&Object.defineProperty(n,"name",{value:e}),n.isMobxAction=!0,n}function jn(e,t,n,r){var i=function(e,t,n){var r=lr()&&!!e,i=0;if(r){i=Date.now();var o=n&&n.length||0,a=new Array(o);if(o>0)for(var s=0;s<o;s++)a[s]=n[s];ur({type:"action",name:e,object:t,arguments:a})}var l=On();Jn();var c=Bn(!0),u=Rn(!0),d={prevDerivation:l,prevAllowStateChanges:c,prevAllowStateReads:u,notifySpy:r,startTime:i,actionId:zn++,parentActionId:Pn};return Pn=d.actionId,d}(e,n,r);try{return t.apply(n,r)}catch(e){throw i.error=e,e}finally{!function(e){Pn!==e.actionId&&xt("invalid action stack. did you forget to finish an action?");Pn=e.parentActionId,void 0!==e.error&&(Kn.suppressReactionErrors=!0);Un(e.prevAllowStateChanges),Mn(e.prevAllowStateReads),Qn(),In(e.prevDerivation),e.notifySpy&&pr({time:Date.now()-e.startTime});Kn.suppressReactionErrors=!1}(i)}}function Bn(e){var t=Kn.allowStateChanges;return Kn.allowStateChanges=e,t}function Un(e){Kn.allowStateChanges=e}var Nn=function(e){function t(t,n,r,i,o){void 0===r&&(r="ObservableValue@"+_t()),void 0===i&&(i=!0),void 0===o&&(o=Yt.default);var a=e.call(this,r)||this;return a.enhancer=n,a.name=r,a.equals=o,a.hasUnreportedChange=!1,a.value=n(t,void 0,r),i&&lr()&&cr({type:"create",name:a.name,newValue:""+a.value}),a}return pt(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){var t=this.value;if((e=this.prepareNewValue(e))!==Kn.UNCHANGED){var n=lr();n&&ur({type:"update",name:this.name,newValue:e,oldValue:t}),this.setNewValue(e),n&&pr()}},t.prototype.prepareNewValue=function(e){if(En(this),Dr(this)){var t=Fr(this,{object:this,type:"update",newValue:e});if(!t)return Kn.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?Kn.UNCHANGED:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),jr(this)&&Ur(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return Lr(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),Br(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return Ft(this.get())},t}(Wt);Nn.prototype[Lt()]=Nn.prototype.valueOf;var Hn=At("ObservableValue",Nn),Wn=function(){function e(e){this.dependenciesState=gn.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=gn.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+_t(),this.value=new xn(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=yn.NONE,wt(e.get,"missing option for computed: get"),this.derivation=e.get,this.name=e.name||"ComputedValue@"+_t(),e.set&&(this.setter=Fn(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?Yt.structural:Yt.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){!function(e){if(e.lowestObserverState!==gn.UP_TO_DATE)return;e.lowestObserverState=gn.POSSIBLY_STALE;var t=e.observers,n=t.length;for(;n--;){var r=t[n];r.dependenciesState===gn.UP_TO_DATE&&(r.dependenciesState=gn.POSSIBLY_STALE,r.isTracing!==yn.NONE&&tr(r,e),r.onBecomeStale())}}(this)},e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.get=function(){this.isComputing&&xt("Cycle detected in computation "+this.name+": "+this.derivation),0!==Kn.inBatch||0!==this.observers.length||this.keepAlive?(er(this),Sn(this)&&this.trackAndCompute()&&function(e){if(e.lowestObserverState===gn.STALE)return;e.lowestObserverState=gn.STALE;var t=e.observers,n=t.length;for(;n--;){var r=t[n];r.dependenciesState===gn.POSSIBLY_STALE?r.dependenciesState=gn.STALE:r.dependenciesState===gn.UP_TO_DATE&&(e.lowestObserverState=gn.UP_TO_DATE)}}(this)):Sn(this)&&(this.warnAboutUntrackedRead(),Jn(),this.value=this.computeValue(!1),Qn());var e=this.value;if(wn(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(wn(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){wt(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else wt(!1,"production"!==process.env.NODE_ENV&&"[ComputedValue '"+this.name+"'] It is not possible to assign a new value to a computed value.")},e.prototype.trackAndCompute=function(){lr()&&cr({object:this.scope,type:"compute",name:this.name});var e=this.value,t=this.dependenciesState===gn.NOT_TRACKING,n=this.computeValue(!0),r=t||wn(e)||wn(n)||!this.equals(e,n);return r&&(this.value=n),r},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,Kn.computationDepth++,e)t=kn(this,this.derivation,this.scope);else if(!0===Kn.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new xn(e)}return Kn.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(Cn(this),this.value=void 0)},e.prototype.observe=function(e,t){var n=this,r=!0,i=void 0;return function(e,t){void 0===t&&(t=yt);"production"!==process.env.NODE_ENV&&(wt("function"==typeof e,"Autorun expects a function as first argument"),wt(!1==("function"==typeof(n=e)&&!0===n.isMobxAction),"Autorun does not accept actions since actions are untrackable"));var n;var r,i=t&&t.name||e.name||"Autorun@"+_t();if(t.scheduler||t.delay){var o=function(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:_r}(t),a=!1;r=new nr(i,(function(){a||(a=!0,o((function(){a=!1,r.isDisposed||r.track(s)})))}),t.onError,t.requiresObservable)}else r=new nr(i,(function(){this.track(s)}),t.onError,t.requiresObservable);function s(){e(r)}return r.schedule(),r.getDisposer()}((function(){var o=n.get();if(!r||t){var a=On();e({type:"update",object:n,newValue:o,oldValue:i}),In(a)}r=!1,i=o}))},e.prototype.warnAboutUntrackedRead=function(){"production"!==process.env.NODE_ENV&&(!0===this.requiresReaction&&xt("[mobx] Computed value "+this.name+" is read outside a reactive context"),this.isTracing!==yn.NONE&&console.log("[mobx.trace] '"+this.name+"' is being read outside a reactive context. Doing a full recompute"),Kn.computedRequiresReaction&&console.warn("[mobx] Computed value "+this.name+" is being read outside a reactive context. Doing a full recompute"))},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return Ft(this.get())},e}();Wn.prototype[Lt()]=Wn.prototype.valueOf;var Vn=At("ComputedValue",Wn),Gn=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Xn=!0,Yn=!1,Kn=function(){var e=bt();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Xn=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Gn).version&&(Xn=!1),Xn?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Gn):(setTimeout((function(){Yn||xt("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new Gn)}();function qn(e,t){var n=e.observers.length;n&&(e.observersIndexes[t.__mapid]=n),e.observers[n]=t,e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function $n(e,t){if(1===e.observers.length)e.observers.length=0,Zn(e);else{var n=e.observers,r=e.observersIndexes,i=n.pop();if(i!==t){var o=r[t.__mapid]||0;o?r[i.__mapid]=o:delete r[i.__mapid],n[o]=i}delete r[t.__mapid]}}function Zn(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,Kn.pendingUnobservations.push(e))}function Jn(){Kn.inBatch++}function Qn(){if(0==--Kn.inBatch){ir();for(var e=Kn.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.length&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof Wn&&n.suspend())}Kn.pendingUnobservations=[]}}function er(e){!function(e){"production"!==process.env.NODE_ENV&&!Kn.allowStateReads&&Kn.observableRequiresReaction&&console.warn("[mobx] Observable "+e.name+" being read outside a reactive context")}(e);var t=Kn.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.length&&Kn.inBatch>0&&Zn(e),!1)}function tr(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===yn.BREAK){var n=[];!function e(t,n,r){if(n.length>=1e3)return void n.push("(and many more)");n.push(""+new Array(r).join("\t")+t.name),t.dependencies&&t.dependencies.forEach((function(t){return e(t,n,r+1)}))}((r=e,Er(gi(r,i))),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof Wn?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}var r,i}var nr=function(){function e(e,t,n,r){void 0===e&&(e="Reaction@"+_t()),void 0===r&&(r=!1),this.name=e,this.onInvalidate=t,this.errorHandler=n,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=gn.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+_t(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=yn.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Kn.pendingReactions.push(this),ir())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(Jn(),this._isScheduled=!1,Sn(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&lr()&&cr({name:this.name,type:"scheduled-reaction"})}catch(e){this.reportExceptionInDerivation(e)}}Qn()}},e.prototype.track=function(e){Jn();var t,n=lr();n&&(t=Date.now(),ur({name:this.name,type:"reaction"})),this._isRunning=!0;var r=kn(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&Cn(this),wn(r)&&this.reportExceptionInDerivation(r.cause),n&&pr({time:Date.now()-t}),Qn()},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(Kn.disableErrorBoundaries)throw e;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Kn.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,e),lr()&&cr({type:"error",name:this.name,message:n,error:""+e}),Kn.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Jn(),Cn(this),Qn()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e.$mobx=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"==typeof e[e.length-1]&&(n=e.pop());var r=Pr(e);if(!r)return xt("production"!==process.env.NODE_ENV&&"'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");r.isTracing===yn.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled");r.isTracing=n?yn.BREAK:yn.LOG}(this,e)},e}(),rr=function(e){return e()};function ir(){Kn.inBatch>0||Kn.isRunningReactions||rr(or)}function or(){Kn.isRunningReactions=!0;for(var e=Kn.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction()}Kn.isRunningReactions=!1}var ar=At("Reaction",nr);function sr(e){var t=rr;rr=function(n){return e((function(){return t(n)}))}}function lr(){return!!Kn.spyListeners.length}function cr(e){if(Kn.spyListeners.length)for(var t=Kn.spyListeners,n=0,r=t.length;n<r;n++)t[n](e)}function ur(e){cr(ft(ft({},e),{spyReportStart:!0}))}var dr={spyReportEnd:!0};function pr(e){cr(e?ft(ft({},e),{spyReportEnd:!0}):dr)}function fr(e){return Kn.spyListeners.push(e),kt((function(){Kn.spyListeners=Kn.spyListeners.filter((function(t){return t!==e}))}))}function hr(){xt("production"!==process.env.NODE_ENV&&"@action fields are not reassignable")}function mr(e){return function(t,n,r){if(r){if("production"!==process.env.NODE_ENV&&void 0!==r.get)return xt("@action cannot be used with getters");if(r.value)return{value:Fn(e,r.value),enumerable:!1,configurable:!0,writable:!0};var i=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Fn(e,i.call(this))}}}return gr(e).apply(this,arguments)}}function gr(e){return function(t,n,r){Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:function(){},set:function(t){It(this,n,yr(e,t))}})}}var yr=function(e,t,n,r){return 1===arguments.length&&"function"==typeof e?Fn(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?Fn(e,t):1===arguments.length&&"string"==typeof e?mr(e):!0!==r?mr(t).apply(null,arguments):void(e[t]=Fn(e.name||t,n.value))};function vr(e,t){var n="string"==typeof e?e:e.name||"<unnamed action>",r="function"==typeof e?e:t;return"production"!==process.env.NODE_ENV&&(wt("function"==typeof r&&0===r.length,"`runInAction` expects a function without arguments"),"string"==typeof n&&n||xt("actions should have valid names, got: '"+n+"'")),jn(n,r,this,void 0)}function br(e,t,n){It(e,t,Fn(t,n.bind(e)))}yr.bound=function(e,t,n,r){return!0===r?(br(e,t,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return br(this,t,n.value||n.initializer.call(this)),this[t]},set:hr}:{enumerable:!1,configurable:!0,set:function(e){br(this,t,e)},get:function(){}}};var _r=function(e){return e()};function xr(e,t,n){return wr("onBecomeUnobserved",e,t,n)}function wr(e,t,n,r){var i="function"==typeof r?gi(t,n):gi(t),o="function"==typeof r?r:n,a=i[e];return"function"!=typeof a?xt("production"!==process.env.NODE_ENV&&"Not an atom that can be (un)observed"):(i[e]=function(){a.call(this),o.call(this)},function(){i[e]=a})}function Sr(e,t,n,r){if("production"!==process.env.NODE_ENV&&(wt(arguments.length>=2&&arguments.length<=4,"'extendObservable' expected 2-4 arguments"),wt("object"==typeof e,"'extendObservable' expects an object as first argument"),wt(!oi(e),"'extendObservable' should not be used on maps, use map.merge instead"),wt(!Or(t),"Extending an object with another observable (object) is not supported. Please construct an explicit propertymap, using `toJS` if need. See issue #540"),n))for(var i in n)i in t||xt("Trying to declare a decorator for unspecified property '"+i+"'");var o=(r=sn(r)).defaultDecorator||(!1===r.deep?dn:cn);Zt(e),ui(e,r.name,o.enhancer),Jn();try{for(var i in t){var a=Object.getOwnPropertyDescriptor(t,i);"production"!==process.env.NODE_ENV&&Cr(a.value)&&xt("Passing a 'computed' as initial property value is no longer supported by extendObservable. Use a getter or decorator instead");var s=n&&i in n?n[i]:a.get?vn:o;if("production"!==process.env.NODE_ENV&&"function"!=typeof s)return xt("Not a valid decorator for '"+i+"', got: "+s);var l=s(e,i,a,!0);l&&Object.defineProperty(e,i,l)}}finally{Qn()}return e}function Er(e){var t,n,r={name:e.name};return e.observing&&e.observing.length>0&&(r.dependencies=(t=e.observing,n=[],t.forEach((function(e){-1===n.indexOf(e)&&n.push(e)})),n).map(Er)),r}function kr(e,t){if(null==e)return!1;if(void 0!==t){if(!1===mi(e))return!1;if(!e.$mobx.values[t])return!1;var n=gi(e,t);return Vn(n)}return Vn(e)}function Cr(e){return arguments.length>1?xt("production"!==process.env.NODE_ENV&&"isComputed expects only 1 argument. Use isObservableProp to inspect the observability of a property"):kr(e)}function Tr(e,t){if(null==e)return!1;if(void 0!==t){if("production"!==process.env.NODE_ENV&&(oi(e)||ti(e)))return xt("isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead.");if(mi(e)){var n=e.$mobx;return n.values&&!!n.values[t]}return!1}return mi(e)||!!e.$mobx||Vt(e)||ar(e)||Vn(e)}function Or(e){return 1!==arguments.length&&xt("production"!==process.env.NODE_ENV&&"isObservable expects only 1 argument. Use isObservableProp to inspect the observability of a property"),Tr(e)}var Ir={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Rr(e,t,n,r){return r.detectCycles&&e.set(t,n),n}function Mr(e,t,n){if(!t.recurseEverything&&!Or(e))return e;if("object"!=typeof e)return e;if(null===e)return null;if(e instanceof Date)return e;if(Hn(e))return Mr(e.get(),t,n);var r;if(Or(e)&&(mi(r=e)?r.$mobx.getKeys():oi(r)?r._keys.slice():li(r)?Dt(r.keys()):ti(r)?r.map((function(e,t){return t})):xt("production"!==process.env.NODE_ENV&&"'keys()' can only be used on observable objects, arrays, sets and maps")),!0===t.detectCycles&&null!==e&&n.has(e))return n.get(e);if(ti(e)||Array.isArray(e)){var i=Rr(n,e,[],t),o=e.map((function(e){return Mr(e,t,n)}));i.length=o.length;for(var a=0,s=o.length;a<s;a++)i[a]=o[a];return i}if(li(e)||Object.getPrototypeOf(e)===Set.prototype){if(!1===t.exportMapsAsObjects){var l=Rr(n,e,new Set,t);return e.forEach((function(e){l.add(Mr(e,t,n))})),l}var c=Rr(n,e,[],t);return e.forEach((function(e){c.push(Mr(e,t,n))})),c}if(oi(e)||Object.getPrototypeOf(e)===Map.prototype){if(!1===t.exportMapsAsObjects){var u=Rr(n,e,new Map,t);return e.forEach((function(e,r){u.set(r,Mr(e,t,n))})),u}var d=Rr(n,e,{},t);return e.forEach((function(e,r){d[r]=Mr(e,t,n)})),d}var p=Rr(n,e,{},t);for(var f in e)p[f]=Mr(e[f],t,n);return p}function Ar(e,t){var n;return"boolean"==typeof t&&(t={detectCycles:t}),t||(t=Ir),t.detectCycles=void 0===t.detectCycles?!0===t.recurseEverything:!0===t.detectCycles,t.detectCycles&&(n=new Map),Mr(e,t,n)}function Pr(e){switch(e.length){case 0:return Kn.trackingDerivation;case 1:return gi(e[0]);case 2:return gi(e[0],e[1])}}function zr(e,t){void 0===t&&(t=void 0),Jn();try{return e.apply(t)}finally{Qn()}}function Dr(e){return void 0!==e.interceptors&&e.interceptors.length>0}function Lr(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),kt((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Fr(e,t){var n=On();try{var r=e.interceptors;if(r)for(var i=0,o=r.length;i<o&&(wt(!(t=r[i](t))||t.type,"Intercept handlers should return nothing or a change object"),t);i++);return t}finally{In(n)}}function jr(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function Br(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),kt((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Ur(e,t){var n=On(),r=e.changeListeners;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](t);In(n)}}var Nr,Hr,Wr,Vr,Gr=(Nr=!1,Hr={},Object.defineProperty(Hr,"0",{set:function(){Nr=!0}}),Object.create(Hr)[0]=1,!1===Nr),Xr=0,Yr=function(){};Wr=Yr,Vr=Array.prototype,void 0!==Object.setPrototypeOf?Object.setPrototypeOf(Wr.prototype,Vr):void 0!==Wr.prototype.__proto__?Wr.prototype.__proto__=Vr:Wr.prototype=Vr,Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach((function(e){Object.defineProperty(Yr.prototype,e,{configurable:!0,writable:!0,value:Array.prototype[e]})}));var Kr=function(){function e(e,t,n,r){this.array=n,this.owned=r,this.values=[],this.lastKnownLength=0,this.atom=new Wt(e||"ObservableArray@"+_t()),this.enhancer=function(n,r){return t(n,r,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return Lr(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Br(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=t,t>0&&e+t+1>Xr&&Qr(e+t+1)},e.prototype.spliceWithArray=function(e,t,n){var r=this;En(this.atom);var i=this.values.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:null==t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=gt),Dr(this)){var o=Fr(this,{object:this.array,type:"splice",index:e,removedCount:t,added:n});if(!o)return gt;t=o.removedCount,n=o.added}var a=(n=0===n.length?n:n.map((function(e){return r.enhancer(e,void 0)}))).length-t;this.updateArrayLength(i,a);var s=this.spliceItemsIntoValues(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice(e,n,s),this.dehanceValues(s)},e.prototype.spliceItemsIntoValues=function(e,t,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,mt([e,t],n));var i=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),i},e.prototype.notifyArrayChildUpdate=function(e,t,n){var r=!this.owned&&lr(),i=jr(this),o=i||r?{object:this.array,type:"update",index:e,newValue:t,oldValue:n}:null;r&&ur(ft(ft({},o),{name:this.atom.name})),this.atom.reportChanged(),i&&Ur(this,o),r&&pr()},e.prototype.notifyArraySplice=function(e,t,n){var r=!this.owned&&lr(),i=jr(this),o=i||r?{object:this.array,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;r&&ur(ft(ft({},o),{name:this.atom.name})),this.atom.reportChanged(),i&&Ur(this,o),r&&pr()},e}(),qr=function(e){function t(t,n,r,i){void 0===r&&(r="ObservableArray@"+_t()),void 0===i&&(i=!1);var o=e.call(this)||this,a=new Kr(r,n,o,i);if(Rt(o,"$mobx",a),t&&t.length){var s=Bn(!0);o.spliceWithArray(0,0,t),Un(s)}return Gr&&Object.defineProperty(a.array,"0",$r),o}return pt(t,e),t.prototype.intercept=function(e){return this.$mobx.intercept(e)},t.prototype.observe=function(e,t){return void 0===t&&(t=!1),this.$mobx.observe(e,t)},t.prototype.clear=function(){return this.splice(0)},t.prototype.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),e.map((function(e){return ti(e)?e.peek():e})))},t.prototype.replace=function(e){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,e)},t.prototype.toJS=function(){return this.slice()},t.prototype.toJSON=function(){return this.toJS()},t.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},t.prototype.find=function(e,t,n){void 0===n&&(n=0),3===arguments.length&&Et("The array.find fromIndex argument to find will not be supported anymore in the next major");var r=this.findIndex.apply(this,arguments);return-1===r?void 0:this.get(r)},t.prototype.findIndex=function(e,t,n){void 0===n&&(n=0),3===arguments.length&&Et("The array.findIndex fromIndex argument to find will not be supported anymore in the next major");for(var r=this.peek(),i=r.length,o=n;o<i;o++)if(e.call(t,r[o],o,this))return o;return-1},t.prototype.splice=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(e);case 2:return this.$mobx.spliceWithArray(e,t)}return this.$mobx.spliceWithArray(e,t,n)},t.prototype.spliceWithArray=function(e,t,n){return this.$mobx.spliceWithArray(e,t,n)},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(n.values.length,0,e),n.values.length},t.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},t.prototype.shift=function(){return this.splice(0,1)[0]},t.prototype.unshift=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(0,0,e),n.values.length},t.prototype.reverse=function(){var e=this.slice();return e.reverse.apply(e,arguments)},t.prototype.sort=function(e){var t=this.slice();return t.sort.apply(t,arguments)},t.prototype.remove=function(e){var t=this.$mobx.dehanceValues(this.$mobx.values).indexOf(e);return t>-1&&(this.splice(t,1),!0)},t.prototype.move=function(e,t){function n(e){if(e<0)throw new Error("[mobx.array] Index out of bounds: "+e+" is negative");var t=this.$mobx.values.length;if(e>=t)throw new Error("[mobx.array] Index out of bounds: "+e+" is not smaller than "+t)}if(Et("observableArray.move is deprecated, use .slice() & .replace() instead"),n.call(this,e),n.call(this,t),e!==t){var r,i=this.$mobx.values;r=e<t?mt(i.slice(0,e),i.slice(e+1,t+1),[i[e]],i.slice(t+1)):mt(i.slice(0,t),[i[e]],i.slice(t,e),i.slice(e+1)),this.replace(r)}},t.prototype.get=function(e){var t=this.$mobx;if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},t.prototype.set=function(e,t){var n=this.$mobx,r=n.values;if(e<r.length){En(n.atom);var i=r[e];if(Dr(n)){var o=Fr(n,{type:"update",object:this,index:e,newValue:t});if(!o)return;t=o.newValue}(t=n.enhancer(t,i))!==i&&(r[e]=t,n.notifyArrayChildUpdate(e,t,i))}else{if(e!==r.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+r.length);n.spliceWithArray(e,0,[t])}},t}(Yr);Bt(qr.prototype,(function(){this.$mobx.atom.reportObserved();var e=this,t=0;return Ut({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})})),Object.defineProperty(qr.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(e){this.$mobx.setArrayLength(e)}}),It(qr.prototype,Nt(),"Array"),["every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach((function(e){var t=Array.prototype[e];wt("function"==typeof t,"Base function not defined on Array prototype: '"+e+"'"),It(qr.prototype,e,(function(){return t.apply(this.peek(),arguments)}))})),function(e,t){for(var n=0;n<t.length;n++)It(e,t[n],e[t[n]])}(qr.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var $r=Zr(0);function Zr(e){return{enumerable:!1,configurable:!1,get:function(){return this.get(e)},set:function(t){this.set(e,t)}}}function Jr(e){Object.defineProperty(qr.prototype,""+e,Zr(e))}function Qr(e){for(var t=Xr;t<e;t++)Jr(t);Xr=e}Qr(1e3);var ei=At("ObservableArrayAdministration",Kr);function ti(e){return Tt(e)&&ei(e.$mobx)}var ni={},ri=function(){function e(e,t,n){if(void 0===t&&(t=en),void 0===n&&(n="ObservableMap@"+_t()),this.enhancer=t,this.name=n,this.$mobx=ni,this._keys=new qr(void 0,tn,this.name+".keys()",!0),"function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){var t=this;if(!Kn.trackingDerivation)return this._has(e);var n=this._hasMap.get(e);if(!n){var r=n=new Nn(this._has(e),tn,this.name+"."+ii(e)+"?",!1);this._hasMap.set(e,r),xr(r,(function(){return t._hasMap.delete(e)}))}return n.get()},e.prototype.set=function(e,t){var n=this._has(e);if(Dr(this)){var r=Fr(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(Dr(this)&&!(i=Fr(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=lr(),r=jr(this),i=r||n?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return n&&ur(ft(ft({},i),{name:this.name,key:e})),zr((function(){t._keys.remove(e),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)})),r&&Ur(this,i),n&&pr(),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap.get(e);n&&n.setNewValue(t)},e.prototype._updateValue=function(e,t){var n=this._data.get(e);if((t=n.prepareNewValue(t))!==Kn.UNCHANGED){var r=lr(),i=jr(this),o=i||r?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;r&&ur(ft(ft({},o),{name:this.name,key:e})),n.setNewValue(t),i&&Ur(this,o),r&&pr()}},e.prototype._addValue=function(e,t){var n=this;zr((function(){var r=new Nn(t,n.enhancer,n.name+"."+ii(e),!1);n._data.set(e,r),t=r.value,n._updateHasMapEntry(e,!0),n._keys.push(e)}));var r=lr(),i=jr(this),o=i||r?{type:"add",object:this,name:e,newValue:t}:null;r&&ur(ft(ft({},o),{name:this.name,key:e})),i&&Ur(this,o),r&&pr()},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keys[jt()]()},e.prototype.values=function(){var e=this,t=0;return Ut({next:function(){return t<e._keys.length?{value:e.get(e._keys[t++]),done:!1}:{value:void 0,done:!0}}})},e.prototype.entries=function(){var e=this,t=0;return Ut({next:function(){if(t<e._keys.length){var n=e._keys[t++];return{value:[n,e.get(n)],done:!1}}return{done:!0}}})},e.prototype.forEach=function(e,t){var n=this;this._keys.forEach((function(r){return e.call(t,n.get(r),r,n)}))},e.prototype.merge=function(e){var t=this;return oi(e)&&(e=e.toJS()),zr((function(){Ot(e)?Object.keys(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=ht(e,2),r=n[0],i=n[1];return t.set(r,i)})):Pt(e)?e.constructor!==Map?xt("Cannot initialize from classes that inherit from Map: "+e.constructor.name):e.forEach((function(e,n){return t.set(n,e)})):null!=e&&xt("Cannot initialize map from "+e)})),this},e.prototype.clear=function(){var e=this;zr((function(){Tn((function(){e._keys.slice().forEach((function(t){return e.delete(t)}))}))}))},e.prototype.replace=function(e){var t=this;return zr((function(){for(var n,r=Pt(n=e)||oi(n)?n:Array.isArray(n)?new Map(n):Ot(n)?new Map(Object.entries(n)):xt("Cannot convert to map from '"+n+"'"),i=t._keys,o=Array.from(r.keys()),a=!1,s=0;s<i.length;s++){var l=i[s];i.length===o.length&&l!==o[s]&&(a=!0),r.has(l)||(a=!0,t.delete(l))}r.forEach((function(e,n){t._data.has(n)||(a=!0),t.set(n,e)})),a&&t._keys.replace(o)})),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e=this,t={};return this._keys.forEach((function(n){return t["symbol"==typeof n?n:ii(n)]=e.get(n)})),t},e.prototype.toJS=function(){var e=this,t=new Map;return this._keys.forEach((function(n){return t.set(n,e.get(n))})),t},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+this._keys.map((function(t){return ii(t)+": "+e.get(t)})).join(", ")+" }]"},e.prototype.observe=function(e,t){return"production"!==process.env.NODE_ENV&&wt(!0!==t,"`observe` doesn't support fireImmediately=true in combination with maps."),Br(this,e)},e.prototype.intercept=function(e){return Lr(this,e)},e}();function ii(e){return e&&e.toString?e.toString():new String(e).toString()}Bt(ri.prototype,(function(){return this.entries()})),Rt(ri.prototype,Nt(),"Map");var oi=At("ObservableMap",ri),ai={},si=function(){function e(e,t,n){if(void 0===t&&(t=en),void 0===n&&(n="ObservableSet@"+_t()),this.name=n,this.$mobx=ai,this._data=new Set,this._atom=Gt(this.name),"function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,r){return t(e,r,n)},e&&this.replace(e)}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.clear=function(){var e=this;zr((function(){Tn((function(){e._data.forEach((function(t){e.delete(t)}))}))}))},e.prototype.forEach=function(e,t){var n=this;this._data.forEach((function(r){e.call(t,r,r,n)}))},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this;if((En(this._atom),Dr(this))&&!(i=Fr(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){zr((function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()}));var n=lr(),r=jr(this),i=r||n?{type:"add",object:this,newValue:e}:null;n&&"production"!==process.env.NODE_ENV&&ur(i),r&&Ur(this,i),n&&"production"!==process.env.NODE_ENV&&pr()}return this},e.prototype.delete=function(e){var t=this;if(Dr(this)&&!(i=Fr(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var n=lr(),r=jr(this),i=r||n?{type:"delete",object:this,oldValue:e}:null;return n&&"production"!==process.env.NODE_ENV&&ur(ft(ft({},i),{name:this.name})),zr((function(){t._atom.reportChanged(),t._data.delete(e)})),r&&Ur(this,i),n&&"production"!==process.env.NODE_ENV&&pr(),!0}return!1},e.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},e.prototype.entries=function(){var e=0,t=Dt(this.keys()),n=Dt(this.values());return Ut({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var e,t=this,n=0;return void 0!==this._data.values?e=Dt(this._data.values()):(e=[],this._data.forEach((function(t){return e.push(t)}))),Ut({next:function(){return n<e.length?{value:t.dehanceValue(e[n++]),done:!1}:{done:!0}}})},e.prototype.replace=function(e){var t=this;return li(e)&&(e=e.toJS()),zr((function(){Array.isArray(e)||zt(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&xt("Cannot initialize set from "+e)})),this},e.prototype.observe=function(e,t){return"production"!==process.env.NODE_ENV&&wt(!0!==t,"`observe` doesn't support fireImmediately=true in combination with sets."),Br(this,e)},e.prototype.intercept=function(e){return Lr(this,e)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+Dt(this.keys()).join(", ")+" ]"},e}();Bt(si.prototype,(function(){return this.values()})),Rt(si.prototype,Nt(),"Set");var li=At("ObservableSet",si),ci=function(){function e(e,t,n){this.target=e,this.name=t,this.defaultEnhancer=n,this.values={}}return e.prototype.read=function(e,t){if("production"!==process.env.NODE_ENV||this.target===e||(this.illegalAccess(e,t),this.values[t]))return this.values[t].get()},e.prototype.write=function(e,t,n){var r=this.target;"production"===process.env.NODE_ENV&&r!==e&&this.illegalAccess(e,t);var i=this.values[t];if(i instanceof Wn)i.set(n);else{if(Dr(this)){if(!(s=Fr(this,{type:"update",object:r,name:t,newValue:n})))return;n=s.newValue}if((n=i.prepareNewValue(n))!==Kn.UNCHANGED){var o=jr(this),a=lr(),s=o||a?{type:"update",object:r,oldValue:i.value,name:t,newValue:n}:null;a&&ur(ft(ft({},s),{name:this.name,key:t})),i.setNewValue(n),o&&Ur(this,s),a&&pr()}}},e.prototype.remove=function(e){if(this.values[e]){var t=this.target;if(Dr(this))if(!(o=Fr(this,{object:t,name:e,type:"remove"})))return;try{Jn();var n=jr(this),r=lr(),i=this.values[e].get();this.keys&&this.keys.remove(e),delete this.values[e],delete this.target[e];var o=n||r?{type:"remove",object:t,oldValue:i,name:e}:null;r&&ur(ft(ft({},o),{name:this.name,key:e})),n&&Ur(this,o),r&&pr()}finally{Qn()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return"production"!==process.env.NODE_ENV&&wt(!0!==t,"`observe` doesn't support the fire immediately property for observable objects."),Br(this,e)},e.prototype.intercept=function(e){return Lr(this,e)},e.prototype.getKeys=function(){var e=this;return void 0===this.keys&&(this.keys=new qr(Object.keys(this.values).filter((function(t){return e.values[t]instanceof Nn})),tn,"keys("+this.name+")",!0)),this.keys.slice()},e}();function ui(e,t,n){void 0===t&&(t=""),void 0===n&&(n=en);var r=e.$mobx;return r||("production"!==process.env.NODE_ENV&&wt(Object.isExtensible(e),"Cannot make the designated object observable; it is not extensible"),Ot(e)||(t=(e.constructor.name||"ObservableObject")+"@"+_t()),t||(t="ObservableObject@"+_t()),Rt(e,"$mobx",r=new ci(e,t,n)),r)}var di=Object.create(null),pi=Object.create(null);function fi(e){var t=e.$mobx;return t||(Zt(e),e.$mobx)}var hi=At("ObservableObjectAdministration",ci);function mi(e){return!!Tt(e)&&(Zt(e),hi(e.$mobx))}function gi(e,t){if("object"==typeof e&&null!==e){if(ti(e))return void 0!==t&&xt("production"!==process.env.NODE_ENV&&"It is not possible to get index atoms from arrays"),e.$mobx.atom;if(li(e))return e.$mobx;if(oi(e)){var n=e;return void 0===t?gi(n._keys):((r=n._data.get(t)||n._hasMap.get(t))||xt("production"!==process.env.NODE_ENV&&"the entry '"+t+"' does not exist in the observable map '"+yi(e)+"'"),r)}var r;if(Zt(e),t&&!e.$mobx&&e[t],mi(e))return t?((r=e.$mobx.values[t])||xt("production"!==process.env.NODE_ENV&&"no observable property '"+t+"' found on the observable object '"+yi(e)+"'"),r):xt("production"!==process.env.NODE_ENV&&"please specify a property");if(Vt(e)||Vn(e)||ar(e))return e}else if("function"==typeof e&&ar(e.$mobx))return e.$mobx;return xt("production"!==process.env.NODE_ENV&&"Cannot obtain atom from "+e)}function yi(e,t){return(void 0!==t?gi(e,t):mi(e)||oi(e)||li(e)?function e(t,n){return t||xt("Expecting some object"),void 0!==n?e(gi(t,n)):Vt(t)||Vn(t)||ar(t)||oi(t)||li(t)?t:(Zt(t),t.$mobx?t.$mobx:void xt("production"!==process.env.NODE_ENV&&"Cannot obtain administration from "+t))}(e):gi(e)).name}var vi=Object.prototype.toString;function bi(e,t,n){return void 0===n&&(n=-1),function e(t,n,r,i,o){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;var a=typeof t;if("function"!==a&&"object"!==a&&"object"!=typeof n)return!1;t=_i(t),n=_i(n);var s=vi.call(t);if(s!==vi.call(n))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(n)}var l="[object Array]"===s;if(!l){if("object"!=typeof t||"object"!=typeof n)return!1;var c=t.constructor,u=n.constructor;if(c!==u&&!("function"==typeof c&&c instanceof c&&"function"==typeof u&&u instanceof u)&&"constructor"in t&&"constructor"in n)return!1}if(0===r)return!1;r<0&&(r=-1);o=o||[];var d=(i=i||[]).length;for(;d--;)if(i[d]===t)return o[d]===n;if(i.push(t),o.push(n),l){if((d=t.length)!==n.length)return!1;for(;d--;)if(!e(t[d],n[d],r-1,i,o))return!1}else{var p=Object.keys(t),f=void 0;if(d=p.length,Object.keys(n).length!==d)return!1;for(;d--;)if(f=p[d],!xi(n,f)||!e(t[f],n[f],r-1,i,o))return!1}return i.pop(),o.pop(),!0}(e,t,n)}function _i(e){return ti(e)?e.peek():Pt(e)||oi(e)||zt(e)||li(e)?Dt(e.entries()):e}function xi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}try{process.env.NODE_ENV}catch(e){var wi=bt();"undefined"==typeof process&&(wi.process={}),wi.process.env={}}!function(){if("testCodeMinification"!==function(){}.name&&"production"!==process.env.NODE_ENV&&"undefined"!=typeof process&&"true"!==process.env.IGNORE_MOBX_MINIFY_WARNING){var e=["process","env","NODE_ENV"].join(".");console.warn("[mobx] you are running a minified build, but '"+e+"' was not set to 'production' in your bundler. This results in an unnecessarily large and slow bundle")}}();if("object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:fr,extras:{getDebugName:yi},$mobx:"$mobx"}),"production"!==process.env.NODE_ENV&&"undefined"!=typeof module&&void 0!==module.exports){var Si=!1;Object.defineProperty(module.exports,"default",{enumerable:!1,get:function(){Si||(Si=!0,console.warn('The MobX package does not have a default export. Use \'import { thing } from "mobx"\' (recommended) or \'import * as mobx from "mobx"\' instead."'))}}),["extras","Atom","BaseAtom","asFlat","asMap","asReference","asStructure","autorunAsync","createTranformer","expr","isModifierDescriptor","isStrictModeEnabled","map","useStrict","whyRun"].forEach((function(e){Object.defineProperty(module.exports,e,{enumerable:!1,get:function(){xt("'"+e+"' is no longer part of the public MobX api. Please consult the changelog to find out where this functionality went")},set:function(){}})}))}var Ei=function(){function e(e,t){this.from=e,this.to=t}return e.prototype.contains=function(e){return this.from<=e&&e<=this.to},e.prototype.clamp=function(e){return Math.min(Math.max(this.from,e),this.to)},e}(),ki=new Ei(-1,1),Ci=function(){function e(e){this.engineMediator=e,this.state=ut}return e.prototype.editAdjustments=function(e){var t=e.type,n=e.value,r=ki.clamp(n);this.state[t]=r},e.prototype.reset=function(){var e=this;vr((function(){-1===e.indexInContainer&&(Object.keys(ut).forEach((function(t){e.state[t]=ut[t]})),e.orderHelper.removeIndex(j.ADJUSTMENT))}))},Object.defineProperty(e.prototype,"indexInContainer",{get:function(){return this.effect?this.effect.getIndexInParent():-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orderHelper",{get:function(){return this.engineMediator.orderHelper},enumerable:!0,configurable:!0}),e.prototype.setAdjustmentEffect=function(e){var t=this.orderHelper.addIndex(j.ADJUSTMENT);return this.effect?this.effect.setProperties(e):this.effect=this.engineMediator.engine.addAdjustments(e,this.engineMediator.image.container,t),this.effect.getProperties()},e.prototype.removeAdjustmentEffect=function(){this.effect&&(this.engineMediator.engine.removeEffect(this.effect),-1===this.indexInContainer&&(this.effect=void 0))},C([hn],e.prototype,"state",void 0),C([yr],e.prototype,"editAdjustments",null),C([yr],e.prototype,"reset",null),e}(),Ti=function(){function e(t,n){var r=this;this.assets=[],this.withoutItems=function(e){e.items;return k(e,["items"])},this.entityMapper=function(t,n){return e.isCategory(t)?r.categoryMapper(t,n):r.itemMapper(t,n)},this.categoryMapper=function(e,t){return e?E({},e,{thumbnailURI:r.getCategoryURI(e),type:B.LARGE,delay:.08*t,name:r.config.locale[e.identifier]||e.name,items:e.items.map(r.itemMapper)}):null},this.itemMapper=function(e,t){return e?E({},e,{thumbnailURI:r.getItemURI(e),type:B.MEDIUM,delay:.08*t,name:r.config.locale[e.identifier]||e.name}):null},this.getCategoryURI=function(e){return ye(e)&&r.config.categoryDynamicKey?e[r.config.categoryDynamicKey]:e.thumbnailURI&&et(e.thumbnailURI)?e.thumbnailURI:r.config.getAssetPath(e[r.config.categoryKey]||"")},this.getItemURI=function(e){return ge(e)&&r.config.itemDynamicKey?e[r.config.itemDynamicKey]:e.thumbnailURI&&et(e.thumbnailURI)?e.thumbnailURI:r.config.getAssetPath(e[r.config.itemKey]||"")},this.config=n,this.assets=t.map(this.entityMapper).filter(Boolean)}return e.isCategory=function(e){return Object.prototype.hasOwnProperty.call(e,"items")},Object.defineProperty(e.prototype,"categories",{get:function(){return this.assets.reduce((function(t,n){if(e.isCategory(n))return M(t,[n])}),[]).filter(Boolean)},enumerable:!0,configurable:!0}),e.prototype.getCategories=function(e){this.assets.findIndex((function(t){return t.identifier===e}));return this.categories},Object.defineProperty(e.prototype,"items",{get:function(){return this.assets.reduce((function(t,n){return e.isCategory(n)?M(t,n.items):M(t,[n])}),[]).filter(Boolean)},enumerable:!0,configurable:!0}),e.prototype.itemsOfCategory=function(e){var t=this.assets.findIndex((function(t){return t.identifier===e}));return-1!==t?this.categories[t].items:[]},e.prototype.getEntities=function(e){if(this.config.flattenCategories)return this.items;if(e){var t=this.assets.findIndex((function(t){return t.identifier===e}));if(-1!==t){var n=this.categories[t].items;return M(this.categories.slice(0,t+1),n,this.categories.slice(t+1)).map(this.withoutItems)}}return this.categories.map(this.withoutItems)},e}(),Oi=function(){function e(e){var t=this;this.dirty=hn.box(!1),this.reset=function(){t.pureReset(),t.addSnapshot("delete",t.locale.controls.buttonReset),t.editor.render()},this.editor=e,this.adjustmentsStore=new Ci(this.editor.engineMediator),this.selectedOption="";var n=this.editor.assetProvider.getAssets("adjustment");this.entityManager=new Ti(n,E({},this.config,{flattenCategories:!1,categoryKey:"",itemKey:"thumbnailURI",locale:E({},this.locale.items,this.locale.categories),getAssetPath:this.editor.getAssetPath("adjustment")}))}return e.prototype.editAdjustments=function(e){var t=e.type,n=e.value;this.pureSetAdjustment({type:t,value:n}),this.editor.render()},e.prototype.toolSnapshot=function(){this.dirty.set(!0),this.addSnapshot("edit",j.ADJUSTMENT)},e.prototype.addSnapshot=function(e,t){this.editor.addSnapshot(void 0,e,t)},e.prototype.toggleOptionSelection=function(e){this.selectedOption=e},e.prototype.pureSetAdjustment=function(e){var t,n=e.type,r=e.value,i=this.adjustmentsStore.setAdjustmentEffect(((t={})[n]=r,t));this.adjustmentsStore.editAdjustments({type:n,value:i[n]})},e.prototype.pureReset=function(){this.dirty.set(!1),this.adjustmentsStore.removeAdjustmentEffect(),this.adjustmentsStore.reset(),this.selectedOption=""},e.prototype.updateStateFromHistory=function(e){var t=this;vr((function(){Object.keys(e).forEach((function(n){t.pureSetAdjustment({type:n,value:e[n]})}))}))},e.prototype.updateStateFromSerialization=function(e){this.updateStateFromHistory(e)},Object.defineProperty(e.prototype,"selectedAdjustmentType",{get:function(){return this.selectedOption},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDirty",{get:function(){return this.dirty.get()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this.adjustmentsStore.state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedOptionLabel",{get:function(){var e=this,t=this.items.find((function(t){return!!t&&t.identifier===e.selectedOption}));return t?t.name:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"brightness",{get:function(){return this.state.brightness},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"saturation",{get:function(){return this.state.saturation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contrast",{get:function(){return this.state.contrast},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gamma",{get:function(){return this.state.gamma},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clarity",{get:function(){return this.state.clarity},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exposure",{get:function(){return this.state.exposure},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shadows",{get:function(){return this.state.shadows},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"highlights",{get:function(){return this.state.highlights},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"whites",{get:function(){return this.state.whites},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blacks",{get:function(){return this.state.blacks},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"temperature",{get:function(){return this.state.temperature},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sharpness",{get:function(){return this.state.sharpness},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"categories",{get:function(){return this.entityManager.categories},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this.entityManager.categories.reduce((function(e,t){return M(e,Ti.isCategory(t)?t.items:[t])}),[])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this.editor.configStore.config[j.ADJUSTMENT]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this.editor.configStore.locale[j.ADJUSTMENT]},enumerable:!0,configurable:!0}),C([hn],e.prototype,"selectedOption",void 0),C([hn],e.prototype,"dirty",void 0),C([yr],e.prototype,"editAdjustments",null),C([yr],e.prototype,"toggleOptionSelection",null),C([yr],e.prototype,"pureSetAdjustment",null),C([yr],e.prototype,"pureReset",null),C([yr],e.prototype,"reset",void 0),C([yr],e.prototype,"updateStateFromHistory",null),C([yr],e.prototype,"updateStateFromSerialization",null),C([_n],e.prototype,"selectedAdjustmentType",null),C([_n],e.prototype,"isDirty",null),C([_n],e.prototype,"state",null),C([_n],e.prototype,"selectedOptionLabel",null),C([_n],e.prototype,"brightness",null),C([_n],e.prototype,"saturation",null),C([_n],e.prototype,"contrast",null),C([_n],e.prototype,"gamma",null),C([_n],e.prototype,"clarity",null),C([_n],e.prototype,"exposure",null),C([_n],e.prototype,"shadows",null),C([_n],e.prototype,"highlights",null),C([_n],e.prototype,"whites",null),C([_n],e.prototype,"blacks",null),C([_n],e.prototype,"temperature",null),C([_n],e.prototype,"sharpness",null),C([_n],e.prototype,"categories",null),C([_n],e.prototype,"items",null),C([_n],e.prototype,"config",null),C([_n],e.prototype,"locale",null),e}(),Ii={identifier:"identity",intensity:1,isDuotone:!1},Ri=new Ei(0,1),Mi=function(){function e(e){var t=this;this.setEffectProperties=function(e){var n=e.intensity;return t.effect?(t.state.isDuotone?t.effect.setProperties({colorIntensity:n}):t.effect.setProperties({intensity:n}),t.effect.getProperties()):null},this.engineMediator=e,this.state=Ii}return e.prototype.changeIdentifier=function(e){this.state.identifier=e},e.prototype.changeIfDuotone=function(e){this.state.isDuotone=e},e.prototype.changeIntensity=function(e){var t=Ri.clamp(e);this.state.intensity=t},e.prototype.reset=function(){-1===this.indexInContainer&&(this.state.identifier=Ii.identifier,this.state.intensity=Ii.intensity,this.removeIndex())},Object.defineProperty(e.prototype,"indexInContainer",{get:function(){return this.effect?this.effect.getIndexInParent():-1},enumerable:!0,configurable:!0}),e.prototype.setFilterEffect=function(e){var t=this,n=e.identifier,r=e.intensity,i=e.isDuotone,o=this.state;this.changeIdentifier(n),this.changeIntensity(r),this.changeIfDuotone(i),this.removeFilterEffect();var a=this.engineMediator.orderHelper.addIndex(j.FILTER);return new Promise(i?function(e,i){t.engineMediator.engine.addDuoToneFilterFromAssets(n,t.engineMediator.image.container,a).then((function(n){t.effect=n,t.effect.setProperties({colorIntensity:r}),e()})).catch((function(e){t.fallbackOnError(o),i(e)}))}:function(e,i){t.engineMediator.engine.addLUTFilterFromAssets(n,t.engineMediator.image.container,a).then((function(n){t.effect=n,t.effect.setProperties({intensity:r}),e()})).catch((function(e){t.fallbackOnError(o),i(e)}))})},e.prototype.removeFilterEffect=function(){this.effect&&(this.engineMediator.engine.removeEffect(this.effect),-1===this.indexInContainer&&(this.effect=void 0))},e.prototype.removeIndex=function(){this.engineMediator.orderHelper.removeIndex(j.FILTER)},e.prototype.fallbackOnError=function(e){this.changeIdentifier(e.identifier),this.changeIntensity(e.intensity),"identity"===e.identifier&&this.removeIndex()},C([hn],e.prototype,"state",void 0),C([yr],e.prototype,"changeIdentifier",null),C([yr],e.prototype,"changeIfDuotone",null),C([yr],e.prototype,"changeIntensity",null),C([yr],e.prototype,"reset",null),e}(),Ai=function(){function e(e){var t=this;this.changeIntensity=function(e){var n=t.isOptionDuoTone(t.identifier),r=t.filterStore.setEffectProperties({intensity:e});if(r){var i=n?r.colorIntensity:r.intensity;t.filterStore.changeIntensity(i),t.editor.render()}},this.reset=function(){t.pureReset(),t.addSnapshot("delete",t.locale.controls.buttonReset),t.editor.render()},this.editor=e,this.selectedCategory="identity",this.filterStore=new Mi(this.editor.engineMediator);var n=this.config,r=this.editor.configStore.assetProvider.getAssets("filter");this.entityManager=new Ti(r,E({},n,{categoryKey:"thumbnailURI",itemKey:"thumbnailURI",locale:this.locale.items,getAssetPath:this.editor.getAssetPath("filter")}))}return e.prototype.selectFilter=function(e,t){return void 0===t&&(t=1),T(this,void 0,void 0,(function(){return O(this,(function(n){switch(n.label){case 0:return e===this.identifier?[3,2]:[4,this.filterStore.setFilterEffect({identifier:e,intensity:t,isDuotone:this.isOptionDuoTone(e)})];case 1:n.sent(),this.editor.render(),this.addSnapshot("add",j.FILTER),n.label=2;case 2:return[2]}}))}))},e.prototype.setImageAndGetPreviews=function(){return T(this,void 0,void 0,(function(){var e;return O(this,(function(t){switch(t.label){case 0:return this.config.enablePreviewThumbnails?(e=this.editor.activeStore.state.image,[4,this.editor.previewThumbnails.addImageToContainer(e)]):[3,3];case 1:return t.sent(),[4,this.getAllFilterPreview()];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},e.prototype.getAllFilterPreview=function(){return T(this,void 0,void 0,(function(){var e,t,n,r,i,o=this;return O(this,(function(a){switch(a.label){case 0:return e=this.entityManager.items.map((function(e){return{identifier:e.identifier,isDuotone:o.isOptionDuoTone(e.identifier)}})),[4,this.editor.previewThumbnails.getAllFilterPreviewThumbnails(e)];case 1:return t=a.sent(),[4,this.editor.wait()];case 2:return a.sent(),n=this.config,r=this.editor.configStore.assetProvider.getAssets("filter").map((function(e){return E({},e,{items:e.items.map((function(e){return E({},e,{thumbnail:t[e.identifier]})}))})})),this.entityManager=new Ti(r,E({},n,{categoryKey:"thumbnailURI",itemDynamicKey:"thumbnail",itemKey:"thumbnailURI",locale:this.locale.items,getAssetPath:this.editor.getAssetPath("filter")})),i=this.editor.activeStore.tool,this.editor.activeStore.selectTool(j.LIBRARY),this.editor.activeStore.selectTool(i),[2]}}))}))},e.prototype.toolSnapshot=function(){this.addSnapshot("edit",this.locale.controls.sliderIntensity)},e.prototype.addSnapshot=function(e,t){this.editor.addSnapshot(void 0,e,t)},e.prototype.pureReset=function(){this.selectedCategory="identity",this.filterStore.removeFilterEffect(),this.filterStore.reset()},e.prototype.toggleCategorySelection=function(e){this.selectedCategory=this.selectedCategory===e?"identity":e},e.prototype.updateStateFromSerialization=function(e){var t=e.identifier,n=e.intensity,r=this.doesFilterAssetExist(t);if(r){var i=re(r);return this.filterStore.setFilterEffect({identifier:t,intensity:n,isDuotone:i})}return new Promise((function(e,n){n(new Error("Filter Asset "+t+" doesn't exist"))}))},e.prototype.updateStateFromHistory=function(e){return T(this,void 0,void 0,(function(){return O(this,(function(t){return"identity"===e.identifier?(this.pureReset(),[2,new Promise((function(e){e()}))]):[2,this.filterStore.setFilterEffect(e)]}))}))},Object.defineProperty(e.prototype,"state",{get:function(){return this.filterStore.state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.state.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"intensity",{get:function(){return this.state.intensity},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDuotone",{get:function(){return this.state.isDuotone},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedCategoryIdentifier",{get:function(){return this.selectedCategory},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOptionSelected",{get:function(){return"identity"!==this.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this.editor.configStore.config[j.FILTER]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this.editor.configStore.locale[j.FILTER]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"categories",{get:function(){return this.entityManager.getCategories(this.selectedCategoryIdentifier)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flattenCategories",{get:function(){return this.config.flattenCategories},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"entities",{get:function(){return this.entityManager.getEntities(this.selectedCategoryIdentifier)},enumerable:!0,configurable:!0}),e.prototype.doesFilterAssetExist=function(e){return this.entityManager.items.find((function(t){return e===t.identifier}))},e.prototype.isOptionDuoTone=function(e){var t=this.doesFilterAssetExist(e);return!!t&&re(t)},C([hn],e.prototype,"selectedCategory",void 0),C([yr],e.prototype,"selectFilter",null),C([yr],e.prototype,"changeIntensity",void 0),C([yr],e.prototype,"pureReset",null),C([yr],e.prototype,"reset",void 0),C([yr],e.prototype,"toggleCategorySelection",null),C([yr],e.prototype,"updateStateFromSerialization",null),C([yr],e.prototype,"updateStateFromHistory",null),C([_n],e.prototype,"state",null),C([_n],e.prototype,"identifier",null),C([_n],e.prototype,"intensity",null),C([_n],e.prototype,"isDuotone",null),C([_n],e.prototype,"selectedCategoryIdentifier",null),C([_n],e.prototype,"isOptionSelected",null),C([_n],e.prototype,"config",null),C([_n],e.prototype,"locale",null),C([_n],e.prototype,"categories",null),C([_n],e.prototype,"flattenCategories",null),C([_n],e.prototype,"entities",null),e}(),Pi={blurRadius:40,gradientSize:.2},zi={identifier:"identity",linear:E({start:{x:0,y:0},end:{x:0,y:0}},Pi),radial:E({center:{x:0,y:0},radius:0},Pi),mirrored:E({origin:{x:0,y:0},rotation:0,size:0},Pi),gaussian:Pi},Di=function(){function e(e){this.editor=e,this.engineMediator=this.editor.engineMediator,this.state=zi}return e.prototype.selectFocus=function(e,t){var n=this;vr((function(){n.state.identifier=e,t&&(n.state[e].blurRadius=t)}))},e.prototype.changeBlurRadius=function(e,t){"identity"!==e&&(this.state[e].blurRadius=t)},e.prototype.reset=function(){-1===this.indexInContainer&&(this.state.identifier=zi.identifier,"identity"!==this.state.identifier&&(this.state[this.state.identifier].blurRadius=zi[this.state.identifier].blurRadius))},e.prototype.setLinear=function(e){var t=e.start,n=e.end;this.state.linear.start.x=t.x,this.state.linear.start.y=t.y,this.state.linear.end.x=n.x,this.state.linear.end.y=n.y},e.prototype.setLinearStart=function(e){this.state.linear.start.x=e.x,this.state.linear.start.y=e.y},e.prototype.setLinearEnd=function(e){this.state.linear.end.x=e.x,this.state.linear.end.y=e.y},e.prototype.setRadialCenter=function(e){this.state.radial.center.x=e.x,this.state.radial.center.y=e.y},e.prototype.setRadialRadius=function(e){this.state.radial.radius=e},e.prototype.setMirroredOrigin=function(e){this.state.mirrored.origin.x=e.x,this.state.mirrored.origin.y=e.y},e.prototype.setMirroredRotation=function(e){this.state.mirrored.rotation=e},e.prototype.setMirroredSize=function(e){this.state.mirrored.size=e},Object.defineProperty(e.prototype,"indexInContainer",{get:function(){return this.effect?this.effect.getIndexInParent():-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"order",{get:function(){return this.engineMediator.orderHelper.addIndex(j.FOCUS)},enumerable:!0,configurable:!0}),e.prototype.getEffectProperties=function(){return this.effect?this.effect.getProperties():null},e.prototype.setLinearFocus=function(e){this.effect=this.engineMediator.engine.addLinearBlur(e,this.imageContainer,this.order),this.updateLinearState(this.effect.getProperties())},e.prototype.setGaussianFocus=function(e){this.effect=this.engineMediator.engine.addGaussianBlur(e,this.imageContainer,this.order),this.updateGaussianState(this.effect.getProperties())},e.prototype.setRadialFocus=function(e){this.effect=this.engineMediator.engine.addRadialBlur(e,this.imageContainer,this.order),this.updateRadialState(this.effect.getProperties())},e.prototype.setMirroredFocus=function(e){this.effect=this.engineMediator.engine.addMirroredBlur(e,this.imageContainer,this.order),this.updateMirroredState(this.effect.getProperties())},e.prototype.updateFromEngineState=function(e){var t=this.getEffectProperties();if(t&&"identity"!==e)switch(e){case oe.LINEAR:this.updateLinearState(t);break;case oe.RADIAL:this.updateRadialState(t);break;case oe.MIRRORED:this.updateMirroredState(t)}},e.prototype.updateGaussianState=function(e){this.changeBlurRadius(oe.GAUSSIAN,e.blurRadius)},e.prototype.updateMirroredState=function(e){var t=this.editor.worldToPreview(e.mirrorAxisOrigin),n=new z(this.editor.worldToPreview(e.mirrorAxisDirection)).subtract(t),r=Math.atan2(n.y,n.x);this.setMirroredOrigin(this.editor.worldToPreview(e.mirrorAxisOrigin)),this.setMirroredRotation(r),this.setMirroredSize(this.editor.worldToPreview(e.clearAreaWidth)),this.changeBlurRadius(oe.MIRRORED,e.blurRadius)},e.prototype.updateRadialState=function(e){this.setRadialCenter(this.editor.worldToPreview(e.center)),this.setRadialRadius(this.editor.worldToPreview(e.radius)),this.changeBlurRadius(oe.RADIAL,e.blurRadius)},e.prototype.updateLinearState=function(e){this.setLinearStart(this.editor.worldToPreview(e.start)),this.setLinearEnd(this.editor.worldToPreview(e.end)),this.changeBlurRadius(oe.LINEAR,e.blurRadius)},e.prototype.setEffectProperties=function(e){return this.effect?(this.effect.setProperties(e),this.effect.getProperties()):null},e.prototype.removeFocus=function(){this.effect&&(this.engineMediator.engine.removeEffect(this.effect),this.engineMediator.orderHelper.removeIndex(j.FOCUS))},Object.defineProperty(e.prototype,"imageContainer",{get:function(){return this.engineMediator.image.container},enumerable:!0,configurable:!0}),C([hn],e.prototype,"state",void 0),C([yr],e.prototype,"selectFocus",null),C([yr],e.prototype,"changeBlurRadius",null),C([yr],e.prototype,"reset",null),C([yr],e.prototype,"setLinear",null),C([yr],e.prototype,"setLinearStart",null),C([yr],e.prototype,"setLinearEnd",null),C([yr],e.prototype,"setRadialCenter",null),C([yr],e.prototype,"setRadialRadius",null),C([yr],e.prototype,"setMirroredOrigin",null),C([yr],e.prototype,"setMirroredRotation",null),C([yr],e.prototype,"setMirroredSize",null),C([yr],e.prototype,"updateFromEngineState",null),e}(),Li=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=3);var r=Math.tan(t),i=Math.sqrt(Math.pow(r,2)+1);return{x:e.x+n/i,y:e.y+n*r/i}},Fi=function(e){return 2*Math.PI-e},ji=function(e){var t=e.rotation,n=e.flipHorizontally,r=e.flipVertically,i=t;return n&&(i=Fi(i)),r&&(i=function(e){return-e}(i)),i},Bi=function(){function e(e){var t=this;this.changeIntensity=function(e){var n=t.focusStore.setEffectProperties({blurRadius:e});n&&(t.focusStore.changeBlurRadius(t.identifier,n.blurRadius),t.editor.render())},this.reset=function(){t.pureReset(),t.editor.render(),t.addSnapshot("delete",t.locale.controls.buttonReset)},this.editor=e,this.focusStore=new Di(this.editor);var n=this.editor.assetProvider.getAssets("focus");this.entityManager=new Ti([{identifier:"",name:"",items:n}],E({},this.config,{categoryKey:"",itemKey:"thumbnailURI",flattenCategories:!0,locale:this.locale.items,getAssetPath:this.editor.getAssetPath("focus")}))}return Object.defineProperty(e,"minIntensity",{get:function(){return 0},enumerable:!0,configurable:!0}),e.doesFocusIdentifierExist=function(e){return-1!==Object.keys(oe).map((function(e){return oe[e]})).findIndex((function(t){return t===e}))},e.prototype.selectFocus=function(e){if(e!==this.identifier){this.focusStore.removeFocus();var t=.2*this.maxIntensity,n=this.editor.engine.getOutputContainer().getBounds().width,r=.2*this.editor.shortestOutputSide;switch(e){case oe.LINEAR:var i=this.editor.outputToWorld({x:-n/2,y:0}),o=this.editor.outputToWorld({x:n/2,y:0});this.setLinearFocus({start:i,end:o,blurRadius:t});break;case oe.RADIAL:var a=this.editor.outputToWorld({x:0,y:0});this.setRadialFocus({center:a,radius:r,blurRadius:t});break;case oe.MIRRORED:var s=this.editor.outputToWorld({x:0,y:0}),l=r,c=this.editor.outputToWorld(Li({x:0,y:0},0));this.setMirroredFocus({mirrorAxisOrigin:s,clearAreaWidth:l,blurRadius:t,mirrorAxisDirection:c});break;case oe.GAUSSIAN:this.setGaussianFocus({blurRadius:t})}this.focusStore.selectFocus(e,t),this.editor.render(),this.addSnapshot("add",j.FOCUS)}},e.prototype.toolSnapshot=function(e){this.addSnapshot("edit",e)},e.prototype.addSnapshot=function(e,t){this.editor.addSnapshot(void 0,e,t)},e.prototype.clickableCanvas=function(e){this.editor.clickableCanvas(e)},e.prototype.pureReset=function(){this.focusStore.removeFocus(),this.focusStore.reset()},e.prototype.setStart=function(e){var t=this.focusStore.setEffectProperties({start:this.editor.previewToWorld(e)});t&&(this.focusStore.setLinearStart(this.editor.worldToPreview(t.start)),this.editor.render())},e.prototype.setEnd=function(e){var t=this.focusStore.setEffectProperties({end:this.editor.previewToWorld(e)});t&&(this.focusStore.setLinearEnd(this.editor.worldToPreview(t.end)),this.editor.render())},e.prototype.setCenter=function(e){var t=this.focusStore.setEffectProperties({center:this.editor.previewToWorld(e)});t&&(this.focusStore.setRadialCenter(this.editor.worldToPreview(t.center)),this.editor.render())},e.prototype.setRadius=function(e){var t=this.focusStore.setEffectProperties({radius:this.editor.previewToWorld(e)});t&&(this.focusStore.setRadialRadius(this.editor.worldToPreview(t.radius)),this.editor.render())},e.prototype.setOrigin=function(e){var t=this.focusStore.setEffectProperties({mirrorAxisOrigin:this.editor.previewToWorld(e),mirrorAxisDirection:this.editor.previewToWorld(Li(e,this.rotation))});t&&(this.focusStore.setMirroredOrigin(this.editor.worldToPreview(t.mirrorAxisOrigin)),this.editor.render())},e.prototype.setSize=function(e){var t=this.focusStore.setEffectProperties({clearAreaWidth:this.editor.previewToWorld(e)});t&&(this.focusStore.setMirroredSize(this.editor.worldToPreview(t.clearAreaWidth)),this.editor.render())},e.prototype.setRotation=function(e){this.focusStore.setEffectProperties({mirrorAxisDirection:this.editor.previewToWorld(Li(this.origin,e))}),this.focusStore.setMirroredRotation(e),this.editor.render()},e.prototype.updateStateFromHistory=function(e,t){var n=this;this.focusStore.removeFocus();var r=t.magnitude;vr((function(){switch(e.identifier){case oe.LINEAR:n.focusStore.selectFocus(oe.LINEAR),n.setLinearFocus({start:n.editor.previewToWorld(new z(e.linear.start).multiply(t)),end:n.editor.previewToWorld(new z(e.linear.end).multiply(t)),blurRadius:e.linear.blurRadius});break;case oe.GAUSSIAN:n.focusStore.selectFocus(oe.GAUSSIAN),n.setGaussianFocus({blurRadius:e.gaussian.blurRadius});break;case oe.RADIAL:n.focusStore.selectFocus(oe.RADIAL),n.setRadialFocus({center:n.editor.previewToWorld(new z(e.radial.center).multiply(t)),radius:n.editor.previewToWorld(e.radial.radius*r),blurRadius:e.radial.blurRadius});break;case oe.MIRRORED:n.focusStore.selectFocus(oe.MIRRORED),n.setMirroredFocus({mirrorAxisOrigin:n.editor.previewToWorld(new z(e.mirrored.origin).multiply(t)),clearAreaWidth:n.editor.previewToWorld(e.mirrored.size*r),blurRadius:e.mirrored.blurRadius,mirrorAxisDirection:n.editor.previewToWorld(Li(e.mirrored.origin,e.mirrored.rotation))});break;case"identity":n.pureReset()}}))},e.prototype.updateStateFromSerialization=function(t){return T(this,void 0,void 0,(function(){var n=this;return O(this,(function(r){if(!e.doesFocusIdentifierExist(t.identifier))throw new Error("Focus identifier "+t.identifier+" doesn't exist");return this.focusStore.removeFocus(),vr((function(){switch(n.focusStore.selectFocus(t.identifier),t.identifier){case oe.LINEAR:n.setLinearFocus(t.linear);break;case oe.GAUSSIAN:n.setGaussianFocus(t.gaussian);break;case oe.RADIAL:n.setRadialFocus(t.radial);break;case oe.MIRRORED:n.setMirroredFocus({mirrorAxisOrigin:t.mirrored.origin,clearAreaWidth:t.mirrored.size,blurRadius:t.mirrored.blurRadius,mirrorAxisDirection:Li(t.mirrored.origin,t.mirrored.rotation)})}})),[2]}))}))},e.prototype.updateCanvasControls=function(){this.focusStore.updateFromEngineState(this.identifier)},Object.defineProperty(e.prototype,"state",{get:function(){return this.focusStore.state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"serializableState",{get:function(){switch(this.identifier){case oe.LINEAR:return{identifier:this.identifier,linear:this.focusStore.getEffectProperties()};case oe.RADIAL:return{identifier:this.identifier,radial:this.focusStore.getEffectProperties()};case oe.MIRRORED:var e=this.focusStore.getEffectProperties();return{identifier:this.identifier,mirrored:{blurRadius:e.blurRadius,origin:e.mirrorAxisOrigin,rotation:Ar(this.state.mirrored.rotation),size:e.clearAreaWidth}};case oe.GAUSSIAN:return{identifier:this.identifier,gaussian:this.focusStore.getEffectProperties()}}return zi},enumerable:!0,configurable:!0}),e.prototype.getFocusStateForHistory=function(){var e=this.editor.canvasStore.sizeVector,t=this.focusStore.state.linear,n=this.focusStore.state.radial,r=this.focusStore.state.mirrored,i=e,o=i.magnitude;return E({},this.focusStore.state,{linear:E({},t,{start:new z(t.start).divide(i),end:new z(t.end).divide(i)}),radial:E({},n,{center:new z(n.center).divide(i),radius:n.radius/o}),mirrored:E({},r,{origin:new z(r.origin).divide(i),size:r.size/o}),gaussian:E({},this.focusStore.state.gaussian)})},Object.defineProperty(e.prototype,"start",{get:function(){return this.focusStore.state.linear.start},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startOnPreview",{get:function(){var e=this.editor.applyFlipToPreview(this.focusStore.state.linear.start);return{x:Math.abs(e.x),y:Math.abs(e.y)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.focusStore.state.linear.end},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endOnPreview",{get:function(){var e=this.editor.applyFlipToPreview(this.focusStore.state.linear.end);return{x:Math.abs(e.x),y:Math.abs(e.y)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return this.focusStore.state.radial.center},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.focusStore.state.radial.radius},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"origin",{get:function(){return this.focusStore.state.mirrored.origin},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.focusStore.state.mirrored.rotation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationOnPreview",{get:function(){var e=this.editor.outputContainer.getData(),t=e.flipHorizontally,n=e.flipVertically;return ji({rotation:this.focusStore.state.mirrored.rotation,flipHorizontally:t,flipVertically:n})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.focusStore.state.mirrored.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mirroredAreaWidth",{get:function(){var e=this.editor.canvasStore.canvasSize,t=e.width,n=e.height;return 2*Math.sqrt(Math.pow(t,2)+Math.pow(n,2))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.state.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"intensity",{get:function(){return"identity"===this.identifier?zi.gaussian.blurRadius:this.state[this.identifier].blurRadius},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxIntensity",{get:function(){return this.editor.shortestOutputSide/10},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOptionSelected",{get:function(){return"identity"!==this.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this.editor.configStore.config[j.FOCUS]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this.editor.configStore.locale[j.FOCUS]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"entities",{get:function(){return this.entityManager.items},enumerable:!0,configurable:!0}),e.prototype.setGaussianFocus=function(e){var t=e.blurRadius;this.focusStore.setGaussianFocus({blurRadius:t})},e.prototype.setLinearFocus=function(e){var t=e.start,n=e.end,r=e.blurRadius;this.focusStore.setLinearFocus({start:t,end:n,blurRadius:r})},e.prototype.setRadialFocus=function(e){var t=e.center,n=e.radius,r=e.blurRadius;this.focusStore.setRadialFocus({center:t,radius:n,blurRadius:r})},e.prototype.setMirroredFocus=function(e){var t=e.mirrorAxisOrigin,n=e.clearAreaWidth,r=e.blurRadius,i=e.mirrorAxisDirection;this.focusStore.setMirroredFocus({mirrorAxisOrigin:t,clearAreaWidth:n,blurRadius:r,mirrorAxisDirection:i})},C([yr],e.prototype,"selectFocus",null),C([yr],e.prototype,"changeIntensity",void 0),C([yr],e.prototype,"clickableCanvas",null),C([yr],e.prototype,"pureReset",null),C([yr],e.prototype,"reset",void 0),C([yr],e.prototype,"setStart",null),C([yr],e.prototype,"setEnd",null),C([yr],e.prototype,"setCenter",null),C([yr],e.prototype,"setRadius",null),C([yr],e.prototype,"setOrigin",null),C([yr],e.prototype,"setSize",null),C([yr],e.prototype,"setRotation",null),C([yr],e.prototype,"updateStateFromHistory",null),C([yr],e.prototype,"updateStateFromSerialization",null),C([yr],e.prototype,"updateCanvasControls",null),C([_n],e.prototype,"state",null),C([_n],e.prototype,"start",null),C([_n],e.prototype,"startOnPreview",null),C([_n],e.prototype,"end",null),C([_n],e.prototype,"endOnPreview",null),C([_n],e.prototype,"center",null),C([_n],e.prototype,"radius",null),C([_n],e.prototype,"origin",null),C([_n],e.prototype,"rotation",null),C([_n],e.prototype,"rotationOnPreview",null),C([_n],e.prototype,"size",null),C([_n],e.prototype,"mirroredAreaWidth",null),C([_n],e.prototype,"identifier",null),C([_n],e.prototype,"intensity",null),C([_n],e.prototype,"maxIntensity",null),C([_n],e.prototype,"isOptionSelected",null),C([_n],e.prototype,"config",null),C([_n],e.prototype,"locale",null),C([_n],e.prototype,"entities",null),e}(),Ui={identifier:"identity",opacity:1,blendMode:se.LIGHTEN},Ni=new Ei(0,1),Hi=function(){function e(e,t){var n=this;this.correctOverlayFlip=function(){var e=n.editor.outputContainer.getData(),t=e.flipHorizontally,r=e.flipVertically;n.effect&&(n.effect.setFlipHorizontally(t),n.effect.setFlipVertically(r))},this.engineMediator=e,this.editor=t,this.state=Ui}return e.prototype.changeIdentifier=function(e){this.state.identifier=e},e.prototype.changeOpacity=function(e){var t=Ni.clamp(e);this.state.opacity=t},e.prototype.changeBlendMode=function(e){this.state.blendMode=e},e.prototype.reset=function(){-1===this.indexInContainer&&(this.state.identifier=Ui.identifier,this.state.opacity=Ui.opacity,this.state.blendMode=Ui.blendMode,this.removeIndex())},Object.defineProperty(e.prototype,"indexInContainer",{get:function(){return this.effect?this.effect.getIndexInParent():-1},enumerable:!0,configurable:!0}),e.prototype.removeOverlayEffect=function(){this.effect&&(this.removeIndex(),this.engineMediator.engine.removeEffect(this.effect),this.effect=void 0)},e.prototype.setEffectProperties=function(e){return this.effect?(this.effect.setProperties(e),this.effect.getProperties()):null},e.prototype.setOverlayEffect=function(e){var t=this,n=e.identifier,r=e.blendMode,i=e.opacity,o=E({},this.state);this.changeIdentifier(n),this.changeOpacity(i),this.changeBlendMode(r),this.removeOverlayEffect();var a=this.engineMediator.orderHelper.addIndex(j.OVERLAY);return new Promise((function(e,s){t.engineMediator.engine.addOverlayFromAssets(n,t.engineMediator.image.container,a).then((function(n){t.effect=n,t.effect.setProperties({blendMode:r,opacity:i}),t.correctOverlayFlip(),e()})).catch((function(e){t.changeIdentifier(o.identifier),t.changeOpacity(o.opacity),t.changeBlendMode(o.blendMode),"identity"===o.identifier&&t.removeIndex(),s(e)}))}))},e.prototype.removeIndex=function(){this.engineMediator.orderHelper.removeIndex(j.OVERLAY)},C([hn],e.prototype,"state",void 0),C([yr],e.prototype,"changeIdentifier",null),C([yr],e.prototype,"changeOpacity",null),C([yr],e.prototype,"changeBlendMode",null),C([yr],e.prototype,"reset",null),C([yr],e.prototype,"correctOverlayFlip",void 0),e}(),Wi=function(){function e(e){var t=this;this.changeOpacity=function(e){var n=t.overlayStore.setEffectProperties({opacity:e});n&&(t.overlayStore.changeOpacity(n.opacity),t.editor.render())},this.reset=function(){t.pureReset(),t.addSnapshot("delete",t.locale.controls.buttonReset),t.editor.render()},this.correctOverlayFlip=function(){t.overlayStore.correctOverlayFlip()},this.editor=e,this.overlayStore=new Hi(this.editor.engineMediator,e);var n=this.editor.assetProvider.getAssets("overlay"),r=this.config;this.entityManager=new Ti([{identifier:"",name:"",items:n}],E({},r,{categoryKey:"",itemKey:"thumbnailURI",flattenCategories:!0,locale:this.locale.items,getAssetPath:this.editor.getAssetPath("overlay")}))}return e.prototype.selectOverlay=function(e){return T(this,void 0,void 0,(function(){var t;return O(this,(function(n){switch(n.label){case 0:return e===this.identifier?[3,2]:(t=this.defaultBlendModeForIdentifier(e),[4,this.overlayStore.setOverlayEffect({identifier:e,opacity:1,blendMode:t})]);case 1:n.sent(),this.addSnapshot("add",j.OVERLAY),this.editor.render(),n.label=2;case 2:return[2]}}))}))},e.prototype.toolSnapshot=function(){this.addSnapshot("edit",this.locale.controls.sliderOpacity)},e.prototype.addSnapshot=function(e,t){this.editor.addSnapshot(void 0,e,t)},e.prototype.changeBlendMode=function(e){var t=this.overlayStore.setEffectProperties({blendMode:e});t&&(this.overlayStore.changeBlendMode(t.blendMode),this.addSnapshot("edit",this.locale.controls.carouselBlendMode),this.editor.render())},e.prototype.pureReset=function(){this.overlayStore.removeOverlayEffect(),this.overlayStore.reset()},e.prototype.updateStateFromSerialization=function(e){return T(this,void 0,void 0,(function(){return O(this,(function(t){return this.entityManager.items.find((function(t){return t.identifier===e.identifier}))?[2,this.overlayStore.setOverlayEffect(e)]:[2,new Promise((function(t,n){n(new Error("Overlay Asset "+e.identifier+" doesn't exist"))}))]}))}))},e.prototype.updateStateFromHistory=function(e){return T(this,void 0,void 0,(function(){return O(this,(function(t){return"identity"===e.identifier?(this.pureReset(),[2,new Promise((function(e){e()}))]):[2,this.overlayStore.setOverlayEffect(e)]}))}))},Object.defineProperty(e.prototype,"state",{get:function(){return this.overlayStore.state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.overlayStore.state.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opacity",{get:function(){return this.overlayStore.state.opacity},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.overlayStore.state.blendMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOptionSelected",{get:function(){return"identity"!==this.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this.editor.configStore.config[j.OVERLAY]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this.editor.configStore.locale[j.OVERLAY]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"entities",{get:function(){return this.entityManager.getEntities()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allBlendModes",{get:function(){var e=this.locale.controls;return Object.keys(se).map((function(t){var n=se[t],r="blendMode"+n.charAt(0).toUpperCase()+n.slice(1);return{identifier:n,value:e[r]}}))},enumerable:!0,configurable:!0}),e.prototype.defaultBlendModeForIdentifier=function(e){var t=this.entityManager.items.findIndex((function(t){return t.identifier===e}));return-1!==t?this.entityManager.items[t].defaultBlendMode:se.LIGHTEN},C([yr],e.prototype,"selectOverlay",null),C([yr],e.prototype,"changeOpacity",void 0),C([yr],e.prototype,"changeBlendMode",null),C([yr],e.prototype,"pureReset",null),C([yr],e.prototype,"reset",void 0),C([yr],e.prototype,"updateStateFromSerialization",null),C([yr],e.prototype,"updateStateFromHistory",null),C([yr],e.prototype,"correctOverlayFlip",void 0),C([_n],e.prototype,"state",null),C([_n],e.prototype,"identifier",null),C([_n],e.prototype,"opacity",null),C([_n],e.prototype,"blendMode",null),C([_n],e.prototype,"isOptionSelected",null),C([_n],e.prototype,"config",null),C([_n],e.prototype,"locale",null),C([_n],e.prototype,"entities",null),C([_n],e.prototype,"allBlendModes",null),e}(),Vi={identifier:"identity",opacity:1,tintColor:at.white,tintMode:"none",resizeMode:"keepAspect"},Gi={},Xi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Yi(e,t){return e(t={exports:{}},t.exports),t.exports}var Ki=/^\s+|\s+$/g,qi=/^[-+]0x[0-9a-f]+$/i,$i=/^0b[01]+$/i,Zi=/^0o[0-7]+$/i,Ji=parseInt,Qi="object"==typeof Xi&&Xi&&Xi.Object===Object&&Xi,eo="object"==typeof self&&self&&self.Object===Object&&self,to=Qi||eo||Function("return this")(),no=Object.prototype.toString,ro=Math.max,io=Math.min,oo=function(){return to.Date.now()};function ao(e,t,n){var r,i,o,a,s,l,c=0,u=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=r,o=i;return r=i=void 0,c=t,a=e.apply(o,n)}function h(e){return c=e,s=setTimeout(g,t),u?f(e):a}function m(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=o}function g(){var e=oo();if(m(e))return y(e);s=setTimeout(g,function(e){var n=t-(e-l);return d?io(n,o-(e-c)):n}(e))}function y(e){return s=void 0,p&&r?f(e):(r=i=void 0,a)}function v(){var e=oo(),n=m(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return h(l);if(d)return s=setTimeout(g,t),f(l)}return void 0===s&&(s=setTimeout(g,t)),a}return t=lo(t)||0,so(n)&&(u=!!n.leading,o=(d="maxWait"in n)?ro(lo(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p),v.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=i=s=void 0},v.flush=function(){return void 0===s?a:y(oo())},v}function so(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function lo(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==no.call(e)}(e))return NaN;if(so(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=so(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Ki,"");var n=$i.test(e);return n||Zi.test(e)?Ji(e.slice(2),n?2:8):qi.test(e)?NaN:+e}var co=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return so(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ao(e,t,{leading:r,maxWait:t,trailing:i})},uo=/^\s+|\s+$/g,po=/^[-+]0x[0-9a-f]+$/i,fo=/^0b[01]+$/i,ho=/^0o[0-7]+$/i,mo=parseInt,go="object"==typeof Xi&&Xi&&Xi.Object===Object&&Xi,yo="object"==typeof self&&self&&self.Object===Object&&self,vo=go||yo||Function("return this")(),bo=Object.prototype.toString,_o=Math.max,xo=Math.min,wo=function(){return vo.Date.now()};function So(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Eo(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==bo.call(e)}(e))return NaN;if(So(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=So(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(uo,"");var n=fo.test(e);return n||ho.test(e)?mo(e.slice(2),n?2:8):po.test(e)?NaN:+e}var ko=function(e,t,n){var r,i,o,a,s,l,c=0,u=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=r,o=i;return r=i=void 0,c=t,a=e.apply(o,n)}function h(e){return c=e,s=setTimeout(g,t),u?f(e):a}function m(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=o}function g(){var e=wo();if(m(e))return y(e);s=setTimeout(g,function(e){var n=t-(e-l);return d?xo(n,o-(e-c)):n}(e))}function y(e){return s=void 0,p&&r?f(e):(r=i=void 0,a)}function v(){var e=wo(),n=m(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return h(l);if(d)return s=setTimeout(g,t),f(l)}return void 0===s&&(s=setTimeout(g,t)),a}return t=Eo(t)||0,So(n)&&(u=!!n.leading,o=(d="maxWait"in n)?_o(Eo(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p),v.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=i=s=void 0},v.flush=function(){return void 0===s?a:y(wo())},v},Co=/^\[object .+?Constructor\]$/,To="object"==typeof Xi&&Xi&&Xi.Object===Object&&Xi,Oo="object"==typeof self&&self&&self.Object===Object&&self,Io=To||Oo||Function("return this")();var Ro=Array.prototype,Mo=Function.prototype,Ao=Object.prototype,Po=Io["__core-js_shared__"],zo=function(){var e=/[^.]+$/.exec(Po&&Po.keys&&Po.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Do=Mo.toString,Lo=Ao.hasOwnProperty,Fo=Ao.toString,jo=RegExp("^"+Do.call(Lo).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bo=Ro.splice,Uo=Ko(Io,"Map"),No=Ko(Object,"create");function Ho(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wo(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Vo(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Go(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!=n&&r!=r)return i;return-1}function Xo(e){return!(!$o(e)||(t=e,zo&&zo in t))&&(function(e){var t=$o(e)?Fo.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?jo:Co).test(function(e){if(null!=e){try{return Do.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function Yo(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Ko(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Xo(n)?n:void 0}function qo(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(qo.Cache||Vo),n}function $o(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}Ho.prototype.clear=function(){this.__data__=No?No(null):{}},Ho.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ho.prototype.get=function(e){var t=this.__data__;if(No){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Lo.call(t,e)?t[e]:void 0},Ho.prototype.has=function(e){var t=this.__data__;return No?void 0!==t[e]:Lo.call(t,e)},Ho.prototype.set=function(e,t){return this.__data__[e]=No&&void 0===t?"__lodash_hash_undefined__":t,this},Wo.prototype.clear=function(){this.__data__=[]},Wo.prototype.delete=function(e){var t=this.__data__,n=Go(t,e);return!(n<0)&&(n==t.length-1?t.pop():Bo.call(t,n,1),!0)},Wo.prototype.get=function(e){var t=this.__data__,n=Go(t,e);return n<0?void 0:t[n][1]},Wo.prototype.has=function(e){return Go(this.__data__,e)>-1},Wo.prototype.set=function(e,t){var n=this.__data__,r=Go(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Vo.prototype.clear=function(){this.__data__={hash:new Ho,map:new(Uo||Wo),string:new Ho}},Vo.prototype.delete=function(e){return Yo(this,e).delete(e)},Vo.prototype.get=function(e){return Yo(this,e).get(e)},Vo.prototype.has=function(e){return Yo(this,e).has(e)},Vo.prototype.set=function(e,t){return Yo(this,e).set(e,t),this},qo.Cache=Vo;var Zo,Jo=qo,Qo=[],ea="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(Zo||(Zo={}));var ta,na=function(){function e(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Object.freeze(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),ra=function(e){return e instanceof SVGElement&&"getBBox"in e},ia=function(e){if(ra(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var i=e,o=i.offsetWidth,a=i.offsetHeight;return!(o||a||e.getClientRects().length)},oa=function(e){var t,n,r=null===(n=null===(t=e)||void 0===t?void 0:t.ownerDocument)||void 0===n?void 0:n.defaultView;return!!(r&&e instanceof r.Element)},aa="undefined"!=typeof window?window:{},sa=new Map,la=/auto|scroll/,ca=/^tb|vertical/,ua=/msie|trident/i.test(aa.navigator&&aa.navigator.userAgent),da=function(e){return parseFloat(e||"0")},pa=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),Object.freeze({inlineSize:(n?t:e)||0,blockSize:(n?e:t)||0})},fa=Object.freeze({devicePixelContentBoxSize:pa(),borderBoxSize:pa(),contentBoxSize:pa(),contentRect:new na(0,0,0,0)}),ha=function(e){if(sa.has(e))return sa.get(e);if(ia(e))return sa.set(e,fa),fa;var t=getComputedStyle(e),n=ra(e)&&e.ownerSVGElement&&e.getBBox(),r=!ua&&"border-box"===t.boxSizing,i=ca.test(t.writingMode||""),o=!n&&la.test(t.overflowY||""),a=!n&&la.test(t.overflowX||""),s=n?0:da(t.paddingTop),l=n?0:da(t.paddingRight),c=n?0:da(t.paddingBottom),u=n?0:da(t.paddingLeft),d=n?0:da(t.borderTopWidth),p=n?0:da(t.borderRightWidth),f=n?0:da(t.borderBottomWidth),h=u+l,m=s+c,g=(n?0:da(t.borderLeftWidth))+p,y=d+f,v=a?e.offsetHeight-y-e.clientHeight:0,b=o?e.offsetWidth-g-e.clientWidth:0,_=r?h+g:0,x=r?m+y:0,w=n?n.width:da(t.width)-_-b,S=n?n.height:da(t.height)-x-v,E=w+h+b+g,k=S+m+v+y,C=Object.freeze({devicePixelContentBoxSize:pa(Math.round(w*devicePixelRatio),Math.round(S*devicePixelRatio),i),borderBoxSize:pa(E,k,i),contentBoxSize:pa(w,S,i),contentRect:new na(u,s,w,S)});return sa.set(e,C),C},ma=function(e,t){var n=ha(e),r=n.borderBoxSize,i=n.contentBoxSize,o=n.devicePixelContentBoxSize;switch(t){case Zo.DEVICE_PIXEL_CONTENT_BOX:return o;case Zo.BORDER_BOX:return r;default:return i}},ga=function(e){var t=ha(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=[t.borderBoxSize],this.contentBoxSize=[t.contentBoxSize],this.devicePixelContentBoxSize=[t.devicePixelContentBoxSize]},ya=function(e){if(ia(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},va=function(){var e=1/0,t=[];Qo.forEach((function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach((function(t){var n=new ga(t.target),i=ya(t.target);r.push(n),t.lastReportedSize=ma(t.target,t.observedBox),i<e&&(e=i)})),t.push((function(){n.callback.call(n.observer,r,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,r=t;n<r.length;n++){(0,r[n])()}return e},ba=function(e){sa.clear(),Qo.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(n){n.isActive()&&(ya(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))}))}))},_a=function(){var e,t=0;for(ba(t);Qo.some((function(e){return e.activeTargets.length>0}));)t=va(),ba(t);return Qo.some((function(e){return e.skippedTargets.length>0}))&&("function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:ea}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=ea),window.dispatchEvent(e)),t>0},xa=[],wa=function(e){if(!ta){var t=0,n=document.createTextNode("");new MutationObserver((function(){return xa.splice(0).forEach((function(e){return e()}))})).observe(n,{characterData:!0}),ta=function(){n.textContent=""+(t?t--:t++)}}xa.push(e),ta()},Sa=0,Ea={attributes:!0,characterData:!0,childList:!0,subtree:!0},ka=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Ca=!1,Ta=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t,n=this;Ca||(Ca=!0,t=function(){var t=!1;try{t=_a()}finally{if(Ca=!1,!Sa)return;t?n.run(60):e?n.run(e-1):n.start()}},wa((function(){requestAnimationFrame(t)})))},e.prototype.schedule=function(){this.stop(),this.run(12)},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,Ea)};document.body?t():aa.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),ka.forEach((function(t){return aa.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),ka.forEach((function(t){return aa.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}()),Oa=function(e){!Sa&&e>0&&Ta.start(),!(Sa+=e)&&Ta.stop()},Ia=function(){function e(e,t){this.target=e,this.observedBox=t||Zo.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=ma(this.target,this.observedBox);return e=this.target,ra(e)||function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),Ra=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},Ma=new Map,Aa=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},Pa=function(){function e(){}return e.connect=function(e,t){var n=new Ra(e,t);Qo.push(n),Ma.set(e,n)},e.observe=function(e,t,n){if(Ma.has(e)){var r=Ma.get(e);Aa(r.observationTargets,t)<0&&(r.observationTargets.push(new Ia(t,n&&n.box)),Oa(1),Ta.schedule())}},e.unobserve=function(e,t){if(Ma.has(e)){var n=Ma.get(e),r=Aa(n.observationTargets,t);r>=0&&(n.observationTargets.splice(r,1),Oa(-1))}},e.disconnect=function(e){if(Ma.has(e)){var t=Ma.get(e);Qo.splice(Qo.indexOf(t),1),Ma.delete(e),Oa(-t.observationTargets.length)}},e}(),za=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Pa.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!oa(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Pa.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!oa(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Pa.unobserve(this,e)},e.prototype.disconnect=function(){Pa.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),Da=!("undefined"==typeof window||!window.document||!window.document.createElement),La=function(){if("undefined"==typeof document)return 0;if(Qe())return window.innerWidth-document.documentElement.clientWidth;var e=document.body,t=document.createElement("div"),n=t.style;n.position="fixed",n.left="0",n.visibility="hidden",n.overflowY="scroll",e.appendChild(t);var r=t.getBoundingClientRect().right;return e.removeChild(t),r},Fa="photoeditorsdk-simplebar",ja=function(){function e(t,n){var r=this;this.minScrollbarWidth=20,this.initDOM=function(){if(Array.prototype.filter.call(r.el.children,(function(e){return e.classList.contains(r.classNames.wrapper)})).length)r.wrapperEl=r.el.querySelector("."+r.classNames.wrapper),r.contentWrapperEl=r.el.querySelector("."+r.classNames.contentWrapper),r.offsetEl=r.el.querySelector("."+r.classNames.offset),r.maskEl=r.el.querySelector("."+r.classNames.mask),r.contentEl=r.el.querySelector("."+r.classNames.contentEl),r.placeholderEl=r.el.querySelector("."+r.classNames.placeholder),r.heightAutoObserverWrapperEl=r.el.querySelector("."+r.classNames.heightAutoObserverWrapperEl),r.heightAutoObserverEl=r.el.querySelector("."+r.classNames.heightAutoObserverEl),r.axis.x.track.el=r.el.querySelector("."+r.classNames.track+"."+r.classNames.horizontal),r.axis.y.track.el=r.el.querySelector("."+r.classNames.track+"."+r.classNames.vertical);else{for(r.wrapperEl=document.createElement("div"),r.contentWrapperEl=document.createElement("div"),r.offsetEl=document.createElement("div"),r.maskEl=document.createElement("div"),r.contentEl=document.createElement("div"),r.placeholderEl=document.createElement("div"),r.heightAutoObserverWrapperEl=document.createElement("div"),r.heightAutoObserverEl=document.createElement("div"),r.wrapperEl.classList.add(r.classNames.wrapper),r.contentWrapperEl.classList.add(r.classNames.contentWrapper),r.offsetEl.classList.add(r.classNames.offset),r.maskEl.classList.add(r.classNames.mask),r.contentEl.classList.add(r.classNames.contentEl),r.placeholderEl.classList.add(r.classNames.placeholder),r.heightAutoObserverWrapperEl.classList.add(r.classNames.heightAutoObserverWrapperEl),r.heightAutoObserverEl.classList.add(r.classNames.heightAutoObserverEl);r.el.firstChild;)r.contentEl.appendChild(r.el.firstChild);r.contentWrapperEl.appendChild(r.contentEl),r.offsetEl.appendChild(r.contentWrapperEl),r.maskEl.appendChild(r.offsetEl),r.heightAutoObserverWrapperEl.appendChild(r.heightAutoObserverEl),r.wrapperEl.appendChild(r.heightAutoObserverWrapperEl),r.wrapperEl.appendChild(r.maskEl),r.wrapperEl.appendChild(r.placeholderEl),r.el.appendChild(r.wrapperEl)}if(!r.axis.x.track.el||!r.axis.y.track.el){var e=document.createElement("div"),t=document.createElement("div");e.classList.add(r.classNames.track),t.classList.add(r.classNames.scrollbar),e.appendChild(t),r.axis.x.track.el=e.cloneNode(!0),r.axis.x.track.el.classList.add(r.classNames.horizontal),r.axis.y.track.el=e.cloneNode(!0),r.axis.y.track.el.classList.add(r.classNames.vertical),r.el.appendChild(r.axis.x.track.el),r.el.appendChild(r.axis.y.track.el)}r.axis.x.scrollbar.el=r.axis.x.track.el.querySelector("."+r.classNames.scrollbar),r.axis.y.scrollbar.el=r.axis.y.track.el.querySelector("."+r.classNames.scrollbar),r.options.autoHide||(r.axis.x.scrollbar.el.classList.add(r.classNames.visible),r.axis.y.scrollbar.el.classList.add(r.classNames.visible)),r.el.setAttribute("data-simplebar","init")},this.initListeners=function(){r.options.autoHide&&r.el.addEventListener("mouseenter",r.onMouseEnter),["mousedown","click","dblclick","touchstart","touchend","touchmove"].forEach((function(e){r.el.addEventListener(e,r.onPointerEvent,{capture:!0,passive:!0})})),r.el.addEventListener("mousemove",r.onMouseMove),r.el.addEventListener("mouseleave",r.onMouseLeave),r.contentWrapperEl.addEventListener("scroll",r.onScroll),window.addEventListener("resize",r.onWindowResize),r.resizeObserver=new za(r.recalculate),r.resizeObserver.observe(r.el),r.resizeObserver.observe(r.contentEl)},this.recalculate=function(){var e=r.heightAutoObserverEl.offsetHeight<=1,t=r.heightAutoObserverEl.offsetWidth<=1;r.elStyles=window.getComputedStyle(r.el),r.isRtl="rtl"===r.elStyles.direction,r.contentEl.style.padding=r.elStyles.paddingTop+" "+r.elStyles.paddingRight+" "+r.elStyles.paddingBottom+" "+r.elStyles.paddingLeft,r.wrapperEl.style.margin="-"+r.elStyles.paddingTop+" -"+r.elStyles.paddingRight+" -"+r.elStyles.paddingBottom+" -"+r.elStyles.paddingLeft,r.contentWrapperEl.style.height=e?"auto":"100%",r.placeholderEl.style.width=t?r.contentEl.offsetWidth+"px":"auto",r.placeholderEl.style.height=r.contentEl.scrollHeight+"px",r.axis.x.isOverflowing=r.contentWrapperEl.scrollWidth>r.contentWrapperEl.offsetWidth,r.axis.y.isOverflowing=r.contentWrapperEl.scrollHeight>r.contentWrapperEl.offsetHeight,r.axis.x.isOverflowing="hidden"!==r.elStyles.overflowX&&r.axis.x.isOverflowing,r.axis.y.isOverflowing="hidden"!==r.elStyles.overflowY&&r.axis.y.isOverflowing,r.axis.x.forceVisible="x"===r.options.forceVisible||!0===r.options.forceVisible,r.axis.y.forceVisible="y"===r.options.forceVisible||!0===r.options.forceVisible,r.hideNativeScrollbar(),r.axis.x.track.rect=r.axis.x.track.el.getBoundingClientRect(),r.axis.y.track.rect=r.axis.y.track.el.getBoundingClientRect(),r.axis.x.scrollbar.size=r.getScrollbarSize("x"),r.axis.y.scrollbar.size=r.getScrollbarSize("y"),r.axis.x.scrollbar.el.style.width=r.axis.x.scrollbar.size+"px",r.axis.y.scrollbar.el.style.height=r.axis.y.scrollbar.size+"px",r.positionScrollbar("x"),r.positionScrollbar("y"),r.toggleTrackVisibility("x"),r.toggleTrackVisibility("y")},this.getScrollbarSize=function(e){void 0===e&&(e="y");var t,n=r.scrollbarWidth?r.contentWrapperEl[r.axis[e].scrollSizeAttr]:r.contentWrapperEl[r.axis[e].scrollSizeAttr]-r.minScrollbarWidth,i=r.axis[e].track.rect[r.axis[e].sizeAttr];if(r.axis[e].isOverflowing){var o=i/n;return t=Math.max(~~(o*i),r.options.scrollbarMinSize),r.options.scrollbarMaxSize&&(t=Math.min(t,r.options.scrollbarMaxSize)),t}},this.positionScrollbar=function(t){void 0===t&&(t="y");var n=r.contentWrapperEl[r.axis[t].scrollSizeAttr],i=r.axis[t].track.rect[r.axis[t].sizeAttr],o=parseInt(r.elStyles[r.axis[t].sizeAttr],10),a=r.axis[t].scrollbar,s=r.contentWrapperEl[r.axis[t].scrollOffsetAttr],l=(s="x"===t&&r.isRtl&&e.getRtlHelpers().isRtlScrollingInverted?-s:s)/(n-o),c=~~((i-a.size)*l);c="x"===t&&r.isRtl&&e.getRtlHelpers().isRtlScrollbarInverted?c+(i-a.size):c,a.el.style.transform="x"===t?"translate3d("+c+"px, 0, 0)":"translate3d(0, "+c+"px, 0)"},this.toggleTrackVisibility=function(e){void 0===e&&(e="y");var t=r.axis[e].track.el,n=r.axis[e].scrollbar.el;r.axis[e].isOverflowing||r.axis[e].forceVisible?(t.style.visibility="visible",r.contentWrapperEl.style[r.axis[e].overflowAttr]="scroll"):(t.style.visibility="hidden",r.contentWrapperEl.style[r.axis[e].overflowAttr]="hidden"),n.style.display=r.axis[e].isOverflowing?"block":"none"},this.onScroll=function(){r.scrollXTicking||(window.requestAnimationFrame(r.scrollX),r.scrollXTicking=!0),r.scrollYTicking||(window.requestAnimationFrame(r.scrollY),r.scrollYTicking=!0)},this.scrollX=function(){r.axis.x.isOverflowing&&(r.showScrollbar("x"),r.positionScrollbar("x")),r.scrollXTicking=!1},this.scrollY=function(){r.axis.y.isOverflowing&&(r.showScrollbar("y"),r.positionScrollbar("y")),r.scrollYTicking=!1},this.onMouseEnter=function(){r.showScrollbar("x"),r.showScrollbar("y")},this.onMouseMove=function(e){r.mouseX=e.clientX,r.mouseY=e.clientY,(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&r.onMouseMoveForAxis("x"),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&r.onMouseMoveForAxis("y")},this.onMouseMoveForAxis=function(e){void 0===e&&(e="y"),r.axis[e].track.rect=r.axis[e].track.el.getBoundingClientRect(),r.axis[e].scrollbar.rect=r.axis[e].scrollbar.el.getBoundingClientRect(),r.isWithinBounds(r.axis[e].scrollbar.rect)?r.axis[e].scrollbar.el.classList.add(r.classNames.hover):r.axis[e].scrollbar.el.classList.remove(r.classNames.hover),r.isWithinBounds(r.axis[e].track.rect)?(r.showScrollbar(e),r.axis[e].track.el.classList.add(r.classNames.hover)):r.axis[e].track.el.classList.remove(r.classNames.hover)},this.onMouseLeave=function(){r.onMouseMove.cancel(),(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&r.onMouseLeaveForAxis("x"),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&r.onMouseLeaveForAxis("y"),r.mouseX=-1,r.mouseY=-1},this.onWindowResize=function(){r.scrollbarWidth=La(),r.hideNativeScrollbar()},this.hideScrollbars=function(){r.axis.x.track.rect=r.axis.x.track.el.getBoundingClientRect(),r.axis.y.track.rect=r.axis.y.track.el.getBoundingClientRect(),r.isWithinBounds(r.axis.y.track.rect)||(r.axis.y.scrollbar.el.classList.remove(r.classNames.visible),r.axis.y.isVisible=!1),r.isWithinBounds(r.axis.x.track.rect)||(r.axis.x.scrollbar.el.classList.remove(r.classNames.visible),r.axis.x.isVisible=!1)},this.onPointerEvent=function(e){var t,n;r.axis.x.scrollbar.rect=r.axis.x.scrollbar.el.getBoundingClientRect(),r.axis.y.scrollbar.rect=r.axis.y.scrollbar.el.getBoundingClientRect(),(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&(n=r.isWithinBounds(r.axis.x.scrollbar.rect)),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&(t=r.isWithinBounds(r.axis.y.scrollbar.rect)),(t||n)&&(e.preventDefault(),e.stopPropagation(),"mousedown"===e.type&&(t&&r.onDragStart(e,"y"),n&&r.onDragStart(e,"x")))},this.drag=function(t){var n=r.axis[r.draggedAxis],i=n.track,o=n.scrollbar,a=i.rect[r.axis[r.draggedAxis].sizeAttr];t.preventDefault(),t.stopPropagation();var s=(("y"===r.draggedAxis?t.pageY:t.pageX)-i.rect[r.axis[r.draggedAxis].offsetAttr]-r.axis[r.draggedAxis].dragOffset)/i.rect[r.axis[r.draggedAxis].sizeAttr]*r.contentWrapperEl[r.axis[r.draggedAxis].scrollSizeAttr];"x"===r.draggedAxis&&(s=r.isRtl&&e.getRtlHelpers().isRtlScrollbarInverted?s-(a+o.size):s,s=r.isRtl&&e.getRtlHelpers().isRtlScrollingInverted?-s:s),r.contentWrapperEl[r.axis[r.draggedAxis].scrollOffsetAttr]=s},this.onEndDrag=function(e){e.preventDefault(),e.stopPropagation(),r.el.classList.remove(r.classNames.dragging),document.removeEventListener("mousemove",r.drag,!0),document.removeEventListener("mouseup",r.onEndDrag,!0),r.removePreventClickId=window.setTimeout((function(){document.removeEventListener("click",r.preventClick,!0),document.removeEventListener("dblclick",r.preventClick,!0),r.removePreventClickId=null}))},this.preventClick=function(e){e.preventDefault(),e.stopPropagation()},this.el=t,this.options=E({},e.defaultOptions,n),this.classNames=E({},e.defaultOptions.classNames,this.options.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,isVisible:!1,forceVisible:!1,track:{},scrollbar:{}}},this.removePreventClickId=null,this.el.SimpleBar||(this.recalculate=co(this.recalculate,64),this.onMouseMove=co(this.onMouseMove,64),this.hideScrollbars=ko(this.hideScrollbars,this.options.timeout),this.onWindowResize=ko(this.onWindowResize,64,{leading:!0}),e.getRtlHelpers=Jo(e.getRtlHelpers),this.init())}return e.getRtlHelpers=function(){var t=document.createElement("div");t.innerHTML='<div class="photoeditorsdk-hs-dummy-scrollbar-size"><div style="height: 200% width: 200% margin: 10px 0"></div></div>';var n=t.firstElementChild;document.body.appendChild(n);var r=n.firstElementChild;n.scrollLeft=0;var i=e.getOffset(n),o=e.getOffset(r);n.scrollLeft=999;var a=e.getOffset(r);return{isRtlScrollingInverted:i.left!==o.left&&o.left-a.left!=0,isRtlScrollbarInverted:i.left!==o.left}},e.initHtmlApi=function(){this.initDOMLoadedElements=this.initDOMLoadedElements.bind(this),"undefined"!=typeof MutationObserver&&(this.globalObserver=new MutationObserver((function(t){t.forEach((function(t){Array.prototype.forEach.call(t.addedNodes,(function(t){1===t.nodeType&&(t.hasAttribute("data-simplebar")&&!t.SimpleBar?new e(t,e.getElOptions(t)):Array.prototype.forEach.call(t.querySelectorAll("[data-simplebar]"),(function(t){t.SimpleBar||new e(t,e.getElOptions(t))})))})),Array.prototype.forEach.call(t.removedNodes,(function(e){1===e.nodeType&&(e.hasAttribute("data-simplebar")&&e.SimpleBar?e.SimpleBar.unMount():Array.prototype.forEach.call(e.querySelectorAll("[data-simplebar]"),(function(e){e.SimpleBar&&e.SimpleBar.unMount()})))}))}))})),this.globalObserver.observe(document,{childList:!0,subtree:!0})),"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.scroll?window.setTimeout(this.initDOMLoadedElements):(document.addEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.addEventListener("load",this.initDOMLoadedElements))},e.getElOptions=function(e){return Array.prototype.reduce.call(e.attributes,(function(e,t){var n=t.name.match(/data-simplebar-(.+)/);if(n){var r=n[1].replace(/\W+(.)/g,(function(e,t){return t.toUpperCase()}));switch(t.value){case"true":e[r]=!0;break;case"false":e[r]=!1;break;case void 0:e[r]=!0;break;default:e[r]=t.value}}return e}),{})},e.removeObserver=function(){this.globalObserver.disconnect()},e.initDOMLoadedElements=function(){document.removeEventListener("DOMContentLoaded",this.initDOMLoadedElements),window.removeEventListener("load",this.initDOMLoadedElements),Array.prototype.forEach.call(document.querySelectorAll("[data-simplebar]"),(function(t){t.SimpleBar||new e(t,e.getElOptions(t))}))},e.getOffset=function(e){var t=e.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop),left:t.left+(window.pageXOffset||document.documentElement.scrollLeft)}},e.prototype.init=function(){this.el.SimpleBar=this,Da&&(this.initDOM(),this.scrollbarWidth=La(),this.recalculate(),this.initListeners())},e.prototype.hideNativeScrollbar=function(){if(this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-"+(this.scrollbarWidth||this.minScrollbarWidth)+"px":0,this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-"+(this.scrollbarWidth||this.minScrollbarWidth)+"px":0,!this.scrollbarWidth){var e=this.isRtl?"paddingLeft":"paddingRight";this.contentWrapperEl.style[e]=this.axis.y.isOverflowing||this.axis.y.forceVisible?this.minScrollbarWidth+"px":0,this.contentWrapperEl.style.paddingBottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?this.minScrollbarWidth+"px":0}},e.prototype.onMouseLeaveForAxis=function(e){void 0===e&&(e="y"),this.axis[e].track.el.classList.remove(this.classNames.hover),this.axis[e].scrollbar.el.classList.remove(this.classNames.hover)},e.prototype.showScrollbar=function(e){void 0===e&&(e="y");var t=this.axis[e].scrollbar.el;this.axis[e].isVisible||(t.classList.add(this.classNames.visible),this.axis[e].isVisible=!0),this.options.autoHide&&this.hideScrollbars()},e.prototype.onDragStart=function(e,t){void 0===t&&(t="y");var n=this.axis[t].scrollbar.el,r="y"===t?e.pageY:e.pageX;this.axis[t].dragOffset=r-n.getBoundingClientRect()[this.axis[t].offsetAttr],this.draggedAxis=t,this.el.classList.add(this.classNames.dragging),document.addEventListener("mousemove",this.drag,!0),document.addEventListener("mouseup",this.onEndDrag,!0),null===this.removePreventClickId?(document.addEventListener("click",this.preventClick,!0),document.addEventListener("dblclick",this.preventClick,!0)):(window.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},e.prototype.getContentElement=function(){return this.contentEl},e.prototype.getScrollElement=function(){return this.contentWrapperEl},e.prototype.removeListeners=function(){var e=this;this.options.autoHide&&this.el.removeEventListener("mouseenter",this.onMouseEnter),["mousedown","click","dblclick","touchstart","touchend","touchmove"].forEach((function(t){e.el.removeEventListener(t,e.onPointerEvent,{capture:!0,passive:!0})})),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver.disconnect(),this.recalculate.cancel(),this.onMouseMove.cancel(),this.hideScrollbars.cancel(),this.onWindowResize.cancel()},e.prototype.unMount=function(){this.removeListeners(),this.el.SimpleBar=null},e.prototype.isChildNode=function(e){return null!==e&&(e===this.el||this.isChildNode(e.parentNode))},e.prototype.isWithinBounds=function(e){return this.mouseX>=e.left&&this.mouseX<=e.left+e.width&&this.mouseY>=e.top&&this.mouseY<=e.top+e.height},e.defaultOptions={autoHide:!0,forceVisible:!1,classNames:{contentEl:Fa+"-content",contentWrapper:Fa+"-content-wrapper",offset:Fa+"-offset",mask:Fa+"-mask",wrapper:Fa+"-wrapper",placeholder:Fa+"-placeholder",scrollbar:Fa+"-scrollbar",track:Fa+"-track",heightAutoObserverWrapperEl:Fa+"-height-auto-observer-wrapper",heightAutoObserverEl:Fa+"-height-auto-observer",visible:Fa+"-visible",horizontal:Fa+"-horizontal",vertical:Fa+"-vertical",hover:Fa+"-hover",dragging:Fa+"-dragging"},scrollbarMinSize:25,scrollbarMaxSize:0,timeout:1e3},e}();Da&&ja.initHtmlApi();var Ba=function(){function e(e){var t=e.license,n=e.assetProvider,r=e.crossOrigin;this.crossOrigin=r,this.engine=new l({license:t,crossOrigin:r,assetProvider:n,downscaleOptions:{maxDimensions:{width:100,height:100}}})}return e.isImageElement=function(e){return e instanceof HTMLImageElement},e.prototype.getAllFilterPreviewThumbnails=function(e){var t=this;return new Promise((function(n,r){var i={};e.reduce((function(e,n){return T(t,void 0,void 0,(function(){var t;return O(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return(t=r.sent()).identifier&&(i[t.identifier]=t.imageData),[2,this.getFilterPreviewThumbnail(n)]}}))}))}),Promise.resolve({identifier:"",imageData:""})).then((function(e){i[e.identifier]=e.imageData,n(i)})).catch((function(e){r(e)}))}))},e.prototype.getFilterPreviewThumbnail=function(e){var t=this,n=e.identifier,r=e.isDuotone;return""!==n?(this.effect&&(this.engine.removeEffect(this.effect),this.effect.getIndexInParent()||(this.effect=void 0)),new Promise(r?function(e,r){t.engine.addDuoToneFilterFromAssets(n,t.container).then((function(i){i.setProperties({colorIntensity:.5}),t.effect=i,t.engine.export($.DATA_URL,Z.PNG,.2).then((function(t){e({identifier:n,imageData:t})})).catch((function(e){r(e)}))})).catch((function(e){r(e)}))}:function(e,r){t.engine.addLUTFilterFromAssets(n,t.container).then((function(i){i.setProperties({intensity:1}),t.effect=i,t.engine.export($.DATA_URL,Z.PNG,.2).then((function(t){e({identifier:n,imageData:t})})).catch((function(e){r(e)}))})).catch((function(e){r(e)}))})):new Promise((function(e){return e({identifier:"",imageData:""})}))},e.prototype.addImageToContainer=function(t){var n=this;return new Promise((function(r,i){var o;e.isImageElement(t)?(o=t,n.setBackgroundImage(o),r()):n.getImageElement(t).then((function(e){o=e,n.setBackgroundImage(o),r()})).catch((function(e){i({identifier:"imageLoading",message:e.message})}))}))},e.prototype.getImageElement=function(e){var t=this;return new Promise((function(n,r){var i=new Image;i.addEventListener("load",(function(){n(i)})),i.addEventListener("error",(function(e){r(e)})),i.crossOrigin=t.crossOrigin,i.src=e}))},e.prototype.setBackgroundImage=function(e){this.container?this.container.setData({image:e}):this.container=this.engine.addImage({image:e,blendMode:se.NORMAL,opacity:1});var t=this.container.getBounds().size;this.engine.getOutputContainer().setResolution(t)},e}(),Ua={tool:null,isWebcam:!1,image:""},Na=function(){function e(e){var t=this;this.newImage=function(e){t.editor.init(e)},this.editor=e,this.state=hn(Ua)}return e.prototype.selectTool=function(e,t){void 0===t&&(t=!1),e=this.state.tool===e&&t?null:e,this.editor.onToolChange(this.state.tool,e),this.state.tool=e;var n=this.editor.engineMediator.engine.getOutputDimensions(),r=Math.max(.05*Math.min(n.width,n.height),1);switch(e){case j.TEXT:this.editor.spriteStore.textToolStore.addOrselect();break;case j.TEXT_DESIGN:this.editor.spriteStore.textDesignToolStore.addOrselect();break;case j.BRUSH:this.editor.brushToolStore.changeSize(r);break;case j.TRANSFORM:this.editor.transformToolStore.applyDefaultCrop()}},e.prototype.selectWebcam=function(e){this.state.isWebcam=e},e.prototype.setImage=function(e){"string"!=typeof e||et(e)?this.state.image=e:this.state.image=this.editor.assetProvider.getPath(e),this.isWebcam&&(this.state.isWebcam=!1)},Object.defineProperty(e.prototype,"webcamLabel",{get:function(){return this.editor.libraryStore.locale.controls.buttonWebcamClose},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tool",{get:function(){return this.state.tool},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isWebcam",{get:function(){return this.state.isWebcam},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"image",{get:function(){return this.state.image},enumerable:!0,configurable:!0}),C([yr],e.prototype,"selectTool",null),C([yr],e.prototype,"selectWebcam",null),C([yr],e.prototype,"setImage",null),C([yr],e.prototype,"newImage",void 0),C([_n],e.prototype,"webcamLabel",null),C([_n],e.prototype,"tool",null),C([_n],e.prototype,"isWebcam",null),C([_n],e.prototype,"image",null),e}(),Ha=function(){function e(t){this.canvasClickDisabled=hn.box(!1),this.editor=t,this.state=hn(e.initialState)}return e.prototype.setCanvasElement=function(e){this.canvas=e,this.editor.engineMediator.preview.createPreview(e),this.updateCanvasDimensions(),this.editor.init(this.editor.configStore.config.image)},e.prototype.updateCanvasDimensions=function(){var e=al.devicePixelRatio;this.canvas.width=this.canvasSize.width*e,this.canvas.height=this.canvasSize.height*e,this.canvas.style.width=this.canvasSize.width+"px",this.canvas.style.height=this.canvasSize.height+"px"},e.prototype.saveDimensions=function(t){var n=t.height,r=t.width,i=t.render,o=this.editor.configStore.isLayoutAdvanced?0:this.editor.configStore.measurements.basicCanvasOffset;n-o>e.MIN_CANVAS_SIZE.height&&r>e.MIN_CANVAS_SIZE.width&&(this.state.canvasSize.height=n-o,this.state.canvasSize.width=r,i&&this.editor.resize())},e.prototype.disableCanvasClick=function(){this.canvasClickDisabled.set(!0)},e.prototype.enableCanvasClick=function(){this.canvasClickDisabled.set(!1)},Object.defineProperty(e.prototype,"isCanvasClickable",{get:function(){return!this.canvasClickDisabled.get()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canvasSize",{get:function(){return this.state.canvasSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sizeVector",{get:function(){return z.fromSize(this.state.canvasSize)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sizeVectorMagnitude",{get:function(){return this.sizeVector.magnitude},enumerable:!0,configurable:!0}),e.prototype.getContainersAtPreviewPoint=function(e){var t=this,n=this.editor.engine.getContainersAtPreviewPoint(e,this.editor.engineMediator.preview.previewTransformWithoutDpr).map((function(e){return e.getID()})).filter((function(e){return e!==t.editor.engineMediator.image.getImgageContainerId()}));this.editor.spriteStore.onCanvasClick(n)},e.MIN_CANVAS_SIZE={height:150,width:150},e.initialState={canvasSize:e.MIN_CANVAS_SIZE},C([yr],e.prototype,"setCanvasElement",null),C([yr],e.prototype,"updateCanvasDimensions",null),C([yr],e.prototype,"saveDimensions",null),C([yr],e.prototype,"disableCanvasClick",null),C([yr],e.prototype,"enableCanvasClick",null),C([_n],e.prototype,"isCanvasClickable",null),C([_n],e.prototype,"canvasSize",null),C([_n],e.prototype,"sizeVector",null),C([_n],e.prototype,"sizeVectorMagnitude",null),e}();function Wa(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function Va(e,t){var n;return t&&!0===t.clone&&Wa(e)?Ga((n=e,Array.isArray(n)?[]:{}),e,t):e}function Ga(e,t,n){return Array.isArray(t)?Array.isArray(e)?t:Va(t,n):function(e,t,n){var r={};return Wa(e)&&Object.keys(e).forEach((function(t){r[t]=Va(e[t],n)})),Object.keys(t).forEach((function(i){var o=Wa(t[i])&&e[i];r[i]=o?Ga(e[i],t[i],n):Va(t[i],n)})),r}(e,t,n)}function Xa(e,t){if(void 0===t&&(t=null),!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,n){return Ga(e,n,t)}))}var Ya=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return S(t,e),t.prototype.onExport=function(e){this.emit(we.EXPORT,e)},t.prototype.onClose=function(){this.emit(we.CLOSE)},t.prototype.onHistoryChange=function(){this.emit(we.HISTORY_CHANGE)},t.prototype.onEditorReady=function(){this.emit(we.EDITOR_READY)},t}(Te),Ka={common:{error:"Error",warning:"Warning",color:{colorPicker:{hex:"Hex",r:"R",g:"G",b:"B",sliderHue:"Color",sliderOpacity:"Color Opacity"}}},mainCanvasActions:{buttonExport:"Export Image",buttonUndo:"Undo",buttonRedo:"Redo",buttonClose:"Close"},infoModals:{exporting:{heading:"Exporting...",body:"Just a few seconds..."},saving:{heading:"Saving...",body:"Just a few seconds..."},loading:{heading:"Loading...",body:"Just a few seconds..."},resizing:{heading:"Resizing...",body:"Just a few seconds..."},loadingFonts:{heading:"Loading Fonts...",body:"Just a few seconds..."}},errorModals:{imageLoading:{body:"Failed to load image. This can have multiple reasons, e.g. the file is corrupted or the file type is not supported",buttonYes:"Reload"},rendering:{body:"An error has occurred while rendering the image",buttonYes:"Reload"},fontLoading:{heading:"Failed to load font",body:"The following fonts could not be loaded: ${error}",buttonNo:"Close"},webcamUnavailable:{body:"Unable to display webcam image (Error: ${error})",buttonYes:"Close"},stickerLoading:{body:"Unable to load the sticker",buttonNo:"Close"},unexpectedError:{body:"An unexpected error has occured ${error}",buttonYes:"Reload"}},warningModals:{imageResized:{heading:"Image resized",body:"Your image has been resized to ${width}x${height} pixels"},unsupportedSerializationVersion:{body:"Your data was restored from a legacy data format and might look different",buttonYes:"Apply changes",buttonNo:"Cancel"},discardChanges:{body:"You have unsaved changes. Are you sure you want to discard the changes?",buttonYes:"Discard changes",buttonNo:"Keep Changes"},unsavedChanges:{body:"You have unsaved changes. Are you sure you want to exit?",buttonYes:"Exit without saving",buttonNo:"Cancel"}},library:{title:"Library",controls:{buttonUpload:"Upload Image",buttonWebcamOpen:"Open Webcam",buttonWebcamClose:"Close Webcam",placeholderSearch:"Search Library",noResults:"No Results"}},filter:{title:"Filters",controls:{buttonReset:"Remove Filter",sliderIntensity:"Filter Intensity"},categories:{imgly_filter_category_duotone:"DuoTone",imgly_filter_category_bw:"B & W",imgly_filter_category_vintage:"Vintage",imgly_filter_category_smooth:"Smooth",imgly_filter_category_cold:"Cold",imgly_filter_category_warm:"Warm",imgly_filter_category_legacy:"Legacy"},items:{imgly_lut_celsius:"Inferno",imgly_lut_chest:"Chestnut",imgly_lut_fixie:"Fixie",imgly_lut_fridge:"Fridge",imgly_lut_front:"Sunny 70s",imgly_lut_k2:"Flat Black",imgly_lut_mellow:"Mellow",imgly_lut_sin:"Hard Stuff",imgly_lut_texas:"Oldtimer",imgly_lut_ad1920:"1920 A.D.",imgly_lut_ancient:"Ancient",imgly_lut_bleached:"Kalmen",imgly_lut_bleachedblue:"Joran",imgly_lut_blues:"Polaroid",imgly_lut_blueshadows:"Zephyr",imgly_lut_breeze:"Levante",imgly_lut_bw:"Greyed",imgly_lut_classic:"Classic",imgly_lut_colorful:"Colorful",imgly_lut_cool:"Snappy",imgly_lut_cottoncandy:"Candy",imgly_lut_creamy:"Creamy",imgly_lut_eighties:"Low Fire",imgly_lut_elder:"Colla",imgly_lut_evening:"Sunrise",imgly_lut_fall:"Moss",imgly_lut_food:"Food",imgly_lut_glam:"Glam",imgly_lut_gobblin:"Gobblin",imgly_lut_highcarb:"High Carb",imgly_lut_highcontrast:"Hicon",imgly_lut_k1:"K1",imgly_lut_k6:"K6",imgly_lut_kdynamic:"Pebble",imgly_lut_keen:"Keen",imgly_lut_lenin:"Lemon",imgly_lut_litho:"Litho",imgly_lut_lomo:"Lomo",imgly_lut_lomo100:"Lomo 100",imgly_lut_lucid:"Lucid",imgly_lut_neat:"Neat",imgly_lut_nogreen:"Pumpkin",imgly_lut_orchid:"Solanus",imgly_lut_pale:"Pale",imgly_lut_pitched:"Pitched",imgly_lut_plate:"Weathered",imgly_lut_pola669:"Green Gap",imgly_lut_polasx:"Pola SX",imgly_lut_pro400:"Pro 400",imgly_lut_quozi:"Quozi",imgly_lut_sepiahigh:"Sepia",imgly_lut_settled:"Settled",imgly_lut_seventies:"Seventies",imgly_lut_soft:"Soft",imgly_lut_steel:"Steel",imgly_lut_summer:"Summer",imgly_lut_sunset:"Golden",imgly_lut_tender:"Tender",imgly_lut_twilight:"Twilight",imgly_lut_winter:"Softy",imgly_lut_x400:"Dusty",imgly_duotone_desert:"Desert",imgly_duotone_peach:"Peach",imgly_duotone_clash:"Clash",imgly_duotone_plum:"Plum",imgly_duotone_breezy:"Breezy",imgly_duotone_deepblue:"Deep Blue",imgly_duotone_frog:"Frog",imgly_duotone_sunset:"Sunset"}},adjustment:{title:"Adjust",controls:{buttonReset:"Reset Adjustment"},categories:{basics:"Basic",refinements:"Refinements"},items:{brightness:"Brightness",saturation:"Saturation",contrast:"Contrast",gamma:"Gamma",sharpness:"Sharpness",clarity:"Clarity",exposure:"Exposure",shadows:"Shadows",highlights:"Highlights",whites:"Whites",blacks:"Blacks",temperature:"Temperature"}},focus:{title:"Focus",controls:{buttonReset:"Remove Focus",sliderIntensity:"Focus Intensity"},items:{radial:"Radial",mirrored:"Mirrored",linear:"Linear",gaussian:"Gaussian"},history:{focusPosition:"Focus Position",focusSize:"Focus Size"}},overlay:{title:"Overlays",controls:{buttonReset:"Remove Overlay",sliderOpacity:"Overlay Opacity",carouselBlendMode:"Overlay Blend mode",blendModeNormal:"Normal",blendModeOverlay:"Overlay",blendModeHardLight:"Hard Light",blendModeSoftLight:"Soft Light",blendModeMultiply:"Multiply",blendModeDarken:"Darken",blendModeLighten:"Lighten",blendModeScreen:"Screen",blendModeColorBurn:"Color Burn",tabOpacity:"Opacity",tabBlendMode:"Blend Mode"},items:{imgly_overlay_bokeh:"Bokeh",imgly_overlay_chop:"Chop",imgly_overlay_clouds:"Clouds",imgly_overlay_golden:"Golden",imgly_overlay_grain:"Grain",imgly_overlay_hearts:"Hearts",imgly_overlay_lightleak1:"Light Leak 1",imgly_overlay_lightleak2:"Light Leak 2",imgly_overlay_metal:"Metal",imgly_overlay_mosaic:"Mosaic",imgly_overlay_painting:"Painting",imgly_overlay_paper:"Paper",imgly_overlay_rain:"Rain",imgly_overlay_vintage:"Vintage",imgly_overlay_wall1:"Wall",imgly_overlay_wall2:"Wall 2",imgly_overlay_wood:"Wood"}},sticker:{title:"Stickers",controls:{buttonUpload:"Upload Sticker",sliderOpacity:"Sticker Opacity",selectColor:"Sticker Color",tabColor:"Color",tabOpacity:"Opacity"},categories:{imgly_sticker_emoticons:"Emoticons",imgly_sticker_shapes:"Shapes",imgly_sticker_custom:"Custom"},items:{imgly_sticker_emoticons_alien:"Alien",imgly_sticker_emoticons_angel:"Angel",imgly_sticker_emoticons_angry:"Angry",imgly_sticker_emoticons_anxious:"Anxious",imgly_sticker_emoticons_asleep:"Asleep",imgly_sticker_emoticons_attention:"Attention",imgly_sticker_emoticons_baby_chicken:"Baby Chicken",imgly_sticker_emoticons_batman:"Batman",imgly_sticker_emoticons_beer:"Beer",imgly_sticker_emoticons_black:"Black",imgly_sticker_emoticons_blue:"Blue",imgly_sticker_emoticons_blush:"Blush",imgly_sticker_emoticons_boxer:"Boxer",imgly_sticker_emoticons_business:"Business",imgly_sticker_emoticons_chicken:"Chicken",imgly_sticker_emoticons_cool:"Cool",imgly_sticker_emoticons_cry:"Cry",imgly_sticker_emoticons_deceased:"Deceased",imgly_sticker_emoticons_devil:"Devil",imgly_sticker_emoticons_duckface:"Duckface",imgly_sticker_emoticons_furious:"Furious",imgly_sticker_emoticons_grin:"Grin",imgly_sticker_emoticons_guitar:"Guitar",imgly_sticker_emoticons_harry_potter:"Harry Potter",imgly_sticker_emoticons_hippie:"Hippie",imgly_sticker_emoticons_hitman:"Hitman",imgly_sticker_emoticons_humourous:"Humourous",imgly_sticker_emoticons_idea:"Idea",imgly_sticker_emoticons_impatient:"Impatient",imgly_sticker_emoticons_kiss:"Kiss",imgly_sticker_emoticons_kisses:"Kisses",imgly_sticker_emoticons_laugh:"Laugh",imgly_sticker_emoticons_loud_cry:"Loud Cry",imgly_sticker_emoticons_loving:"Loving",imgly_sticker_emoticons_masked:"Masked",imgly_sticker_emoticons_music:"Music",imgly_sticker_emoticons_nerd:"Nerd",imgly_sticker_emoticons_ninja:"Ninja",imgly_sticker_emoticons_not_speaking_to_you:"Not speaking to you",imgly_sticker_emoticons_pig:"Pig",imgly_sticker_emoticons_pumpkin:"Pumpkin",imgly_sticker_emoticons_question:"Question",imgly_sticker_emoticons_rabbit:"Rabbit",imgly_sticker_emoticons_sad:"Sad",imgly_sticker_emoticons_sick:"Sick",imgly_sticker_emoticons_skateboard:"Skateboard",imgly_sticker_emoticons_skull:"Skull",imgly_sticker_emoticons_sleepy:"Sleepy",imgly_sticker_emoticons_smile:"Smile",imgly_sticker_emoticons_smoking:"Smoking",imgly_sticker_emoticons_sobbing:"Sobbing",imgly_sticker_emoticons_star:"Star",imgly_sticker_emoticons_steaming_furious:"Steaming Furious",imgly_sticker_emoticons_sunbathing:"Sunbathing",imgly_sticker_emoticons_tired:"Tired",imgly_sticker_emoticons_tongue_out_wink:"Tongue out wink",imgly_sticker_emoticons_wave:"Wave",imgly_sticker_emoticons_wide_grin:"Wide Grin",imgly_sticker_emoticons_wink:"Wink",imgly_sticker_emoticons_wrestler:"Wrestler",imgly_sticker_shapes_arrow_02:"Arrow 1",imgly_sticker_shapes_arrow_03:"Arrow 2",imgly_sticker_shapes_badge_01:"Badge 1",imgly_sticker_shapes_badge_11:"Badge 5",imgly_sticker_shapes_badge_12:"Badge 6",imgly_sticker_shapes_badge_13:"Badge 7",imgly_sticker_shapes_badge_15:"Badge 8",imgly_sticker_shapes_badge_18:"Badge 9",imgly_sticker_shapes_badge_19:"Badge 10",imgly_sticker_shapes_badge_20:"Badge 11",imgly_sticker_shapes_badge_28:"Badge 12",imgly_sticker_shapes_badge_32:"Badge 13",imgly_sticker_shapes_badge_35:"Badge 14",imgly_sticker_shapes_badge_36:"Badge 15",imgly_sticker_shapes_badge_04:"Badge 2",imgly_sticker_shapes_badge_06:"Badge 3",imgly_sticker_shapes_badge_08:"Badge 4",imgly_sticker_shapes_spray_01:"Spray 1",imgly_sticker_shapes_spray_03:"Spray 2",imgly_sticker_shapes_spray_04:"Spray 3"},canvasActions:{buttonDelete:"Delete",buttonBringToFront:"Move to front",buttonDuplicate:"Duplicate",buttonFlipHorizontal:"Flip",buttonFlipVertical:"Flip"},history:{add:"Sticker",resize:"Sticker resize",position:"Sticker position",color:"Sticker color",delete:"Sticker delete",order:"Sticker order",opacity:"Sticker opacity",flip:"Sticker flip"}},text:{title:"Text",controls:{buttonNew:"New Text",dropdownFontFamily:"Font Family",textFontSize:"Font Size",selectAlignment:"Alignment",selectFontColor:"Font Color",selectBackgroundColor:"Background Color",sliderLineSpacing:"Line Spacing",tabColor:"Color",tabBgColor:"Bg Color",tabAlignment:"Alignment",tabLineHeight:"Line Height",tabFontSize:"Font Size"},canvasControls:{placeholderText:"Write Something",buttonSave:"Done",buttonClose:"Cancel",inputText:"Text Input"},canvasActions:{buttonEdit:"Edit",buttonDelete:"Delete",buttonBringToFront:"Move to front",buttonDuplicate:"Duplicate"},history:{add:"Text",edit:"Text edit",resize:"Text resize",position:"Text position",alignment:"Text alignment",textColor:"Text color",backgroundColor:"Text background color",fontFamily:"Font family",fontStyle:"Font style",lineSpacing:"Line spacing",width:"Text width",delete:"Text delete",order:"Text order"}},textdesign:{title:"Text Design",controls:{buttonNew:"New Text Design",buttonShuffle:"Shuffle Layout",selectColor:"Text Color",tabColor:"Color",tabShuffle:"Shuffle"},canvasControls:{placeholderText:"Write Something With Style",buttonSave:"Done",buttonClose:"Schließen",inputText:"Text Input"},canvasActions:{buttonEdit:"Edit",buttonInvert:"Invert",buttonDelete:"Delete",buttonBringToFront:"Move to front",buttonDuplicate:"Duplicate"},history:{add:"Text design",edit:"Text design edit",resize:"Text design resize",position:"Text design position",color:"Text design color",shuffle:"Text design shuffle",invert:"Text design invert",padding:"Text design padding",order:"Text design order",delete:"Text design delete"}},frame:{title:"Frames",controls:{buttonReset:"Remove Frame",sliderOpacity:"Frame Opacity",sliderSize:"Frame Size",selectColor:"Frame Color",tabColor:"Color",tabOpacity:"Opacity",tabSize:"Size"},items:{imgly_frame_dia:"Dia",imgly_frame_art_decor:"Art Decor",imgly_frame_black_passepartout:"Black",imgly_frame_lowpoly_shadow:"Low Poly",imgly_frame_wood_passepartout:"Wood"}},brush:{title:"Brush",controls:{buttonReset:"Remove Brush",sliderSize:"Brush Size",sliderHardness:"Brush Hardness",selectColor:"Brush Color",tabSize:"Size",tabHardness:"Hardness",tabColor:"Color"},history:{brushStroke:"Brush Stroke"}},transform:{title:"Transform",controls:{buttonReset:"Reset to default",checkboxKeepResolution:"Keep Resolution",inputCropSize:"Crop Size",inputHeight:"h",inputWidth:"w",tabFlipAndRotate:"Flip & Rotate",tabResolution:"Resolution",tabCropSize:"Crop Size"},categories:{imgly_transforms_common:"Common",imgly_transforms_facebook:"Facebook",imgly_transforms_twitter:"Twitter",imgly_transforms_instagram:"Instagram"},items:{imgly_transform_common_custom:"Custom",imgly_transform_common_square:"Square",imgly_transform_common_4:"4:3",imgly_transform_common_16:"16:9",imgly_transform_common_3:"3:4",imgly_transform_common_9:"9:16",imgly_transform_facebook_profile:"Profile",imgly_transform_facebook_title:"Title",imgly_transform_facebook_post:"Post",imgly_transform_instagram_story:"Story",imgly_transform_instagram_landscape:"Landscape",imgly_transform_instagram_portrait:"Portrait",imgly_transform_instagram_square:"Square",imgly_transform_twitter_profile:"Profile",imgly_transform_twitter_title:"Title",imgly_transform_twitter_post:"Post"},transformActions:{buttonFlipHorizontal:"Flip Horizontal",buttonFlipVertical:"Flip Vertical",buttonRotateClockwise:"Rotate Clockwise",buttonRotateAntiClockwise:"Rotate Counterclockwise"}}},qa={common:{error:"Fehler",warning:"Warnung",color:{colorPicker:{hex:"Hex",r:"R",g:"G",b:"B",sliderHue:"Farbe",sliderOpacity:"Farbe Transparenz"}}},mainCanvasActions:{buttonExport:"Bild Exportieren",buttonUndo:"Rückgängig machen",buttonRedo:"Wiederholen",buttonClose:"Schließen"},infoModals:{exporting:{heading:"Exportieren...",body:"Einen Moment bitte..."},saving:{heading:"Speichere...",body:"Einen Moment bitte..."},loading:{heading:"Lade...",body:"Einen Moment bitte..."},resizing:{heading:"Bild wird bearbeitet...",body:"Einen Moment bitte..."},loadingFonts:{heading:"Lade Schriftarten...",body:"Einen Moment bitte..."}},errorModals:{imageLoading:{body:"Laden des Bildes fehlgeschlagen. Dies kann verschiedene Gründe haben, beispielsweise kann die Datei defekt sein oder der Dateityp wird nicht unterstützt",buttonYes:"Neu Laden"},rendering:{body:"Beim Rendern des Bildes ist ein Fehler aufgetreten",buttonYes:"Neu Laden"},fontLoading:{heading:"Laden von Schriftarten ist fehlgeschlagen",body:"Die folgenden Schriftarten konnten nicht geladen werden: ${error}",buttonNo:"Schließen"},webcamUnavailable:{body:"Webcam-Bild kann nicht dargestellt werden. (Fehler: ${error})",buttonYes:"Schließen"},stickerLoading:{body:"Laden des Stickers fehlgeschlagen.",buttonNo:"Schließen"},unexpectedError:{body:"Ein unerwarteter Fehler ist aufgetreten, ${error}",buttonYes:"Neu Laden"}},warningModals:{imageResized:{heading:"Bild verkleinert",body:"Das Bild wurde es auf ${width}x${height} Pixel verkleinert"},discardChanges:{body:"Sind Sie sicher, dass Sie die Änderungen verwerfen wollen?",buttonYes:"Änderungen verwerfen",buttonNo:"Änderungen beibehalten"},unsavedChanges:{body:"Sind Sie sicher, dass Sie die Änderungen verwerfen wollen?",buttonYes:"Beenden ohne zu speichern",buttonNo:"Schließen"},unsupportedSerializationVersion:{body:"Ihre Daten wurden von einem veralteten Format geladen und könnten anders aussehen",buttonYes:"Änderungen anwenden",buttonNo:"Abbrechen"}},library:{title:"Bibliothek",controls:{buttonUpload:"Bild Hochladen",buttonWebcamOpen:"Webcam Öffnen",buttonWebcamClose:"Webcam Schließen",placeholderSearch:"Bibliothek durchsuchen",noResults:"Keine Ergebnisse"}},filter:{title:"Filter",controls:{buttonReset:"Zurücksetzen",sliderIntensity:"Filter Intensität"},categories:{imgly_filter_category_duotone:"DuoTone",imgly_filter_category_bw:"B & W",imgly_filter_category_vintage:"Vintage",imgly_filter_category_smooth:"Smooth",imgly_filter_category_cold:"Cold",imgly_filter_category_warm:"Warm",imgly_filter_category_legacy:"Legacy"},items:{imgly_lut_celsius:"Inferno",imgly_lut_chest:"Chestnut",imgly_lut_fixie:"Fixie",imgly_lut_fridge:"Fridge",imgly_lut_front:"Sunny 70s",imgly_lut_k2:"Flat Black",imgly_lut_mellow:"Mellow",imgly_lut_sin:"Hard Stuff",imgly_lut_texas:"Oldtimer",imgly_lut_ad1920:"1920 A.D.",imgly_lut_ancient:"Ancient",imgly_lut_bleached:"Kalmen",imgly_lut_bleachedblue:"Joran",imgly_lut_blues:"Polaroid",imgly_lut_blueshadows:"Zephyr",imgly_lut_breeze:"Levante",imgly_lut_bw:"Greyed",imgly_lut_classic:"Classic",imgly_lut_colorful:"Colorful",imgly_lut_cool:"Snappy",imgly_lut_cottoncandy:"Candy",imgly_lut_creamy:"Creamy",imgly_lut_eighties:"Low Fire",imgly_lut_elder:"Colla",imgly_lut_evening:"Sunrise",imgly_lut_fall:"Moss",imgly_lut_food:"Food",imgly_lut_glam:"Glam",imgly_lut_gobblin:"Gobblin",imgly_lut_highcarb:"High Carb",imgly_lut_highcontrast:"Hicon",imgly_lut_k1:"K1",imgly_lut_k6:"K6",imgly_lut_kdynamic:"Pebble",imgly_lut_keen:"Keen",imgly_lut_lenin:"Lemon",imgly_lut_litho:"Litho",imgly_lut_lomo:"Lomo",imgly_lut_lomo100:"Lomo 100",imgly_lut_lucid:"Lucid",imgly_lut_neat:"Neat",imgly_lut_nogreen:"Pumpkin",imgly_lut_orchid:"Solanus",imgly_lut_pale:"Pale",imgly_lut_pitched:"Pitched",imgly_lut_plate:"Weathered",imgly_lut_pola669:"Green Gap",imgly_lut_polasx:"Pola SX",imgly_lut_pro400:"Pro 400",imgly_lut_quozi:"Quozi",imgly_lut_sepiahigh:"Sepia",imgly_lut_settled:"Settled",imgly_lut_seventies:"Seventies",imgly_lut_soft:"Soft",imgly_lut_steel:"Steel",imgly_lut_summer:"Summer",imgly_lut_sunset:"Golden",imgly_lut_tender:"Tender",imgly_lut_twilight:"Twilight",imgly_lut_winter:"Softy",imgly_lut_x400:"Dusty",imgly_duotone_desert:"Desert",imgly_duotone_peach:"Peach",imgly_duotone_clash:"Clash",imgly_duotone_plum:"Plum",imgly_duotone_breezy:"Breezy",imgly_duotone_deepblue:"Deep Blue",imgly_duotone_frog:"Frog",imgly_duotone_sunset:"Sunset"}},adjustment:{title:"Korrekturen",controls:{buttonReset:"Zurücksetzen"},categories:{basics:"Grundlagen",refinements:"Feinheiten"},items:{brightness:"Helligkeit",saturation:"Sättigung",contrast:"Kontrast",gamma:"Gamma",sharpness:"Schärfe",clarity:"Klarheit",exposure:"Belichtung",shadows:"Schatten",highlights:"Lichter",whites:"Weiß",blacks:"Schwarz",temperature:"Temperatur"}},focus:{title:"Weichzeichnen",controls:{buttonReset:"Zurücksetzen",sliderIntensity:"Focus Intensität"},items:{radial:"Kreisförmig",mirrored:"Gespiegelt",linear:"Linear",gaussian:"Gaußsch"},history:{focusPosition:"Focus Position",focusSize:"Focus Größe"}},overlay:{title:"Overlays",controls:{buttonReset:"Zurücksetzen",sliderOpacity:"Overlay Transparenz",carouselBlendMode:"Overlay Mischmodus",blendModeNormal:"Normal",blendModeOverlay:"Überblenden",blendModeHardLight:"Hartes Licht",blendModeSoftLight:"Weiches Licht",blendModeMultiply:"Multiplizieren",blendModeDarken:"Abdunkeln",blendModeLighten:"Aufhellen",blendModeScreen:"Screen",blendModeColorBurn:"Color Burn",tabOpacity:"Transparenz",tabBlendMode:"Mischmodus"},items:{imgly_overlay_bokeh:"Bokeh",imgly_overlay_chop:"Chop",imgly_overlay_clouds:"Clouds",imgly_overlay_golden:"Golden",imgly_overlay_grain:"Grain",imgly_overlay_hearts:"Hearts",imgly_overlay_lightleak1:"Light Leak 1",imgly_overlay_lightleak2:"Light Leak 2",imgly_overlay_metal:"Metal",imgly_overlay_mosaic:"Mosaic",imgly_overlay_painting:"Painting",imgly_overlay_paper:"Paper",imgly_overlay_rain:"Rain",imgly_overlay_vintage:"Vintage",imgly_overlay_wall1:"Wall",imgly_overlay_wall2:"Wall 2",imgly_overlay_wood:"Wood"}},sticker:{title:"Sticker",controls:{buttonUpload:"Sticker Hochladen",sliderOpacity:"Sticker Transparenz",selectColor:"Stickerfarbe",tabColor:"Farbe",tabOpacity:"Transparenz"},categories:{imgly_sticker_emoticons:"Emoticons",imgly_sticker_shapes:"Shapes",imgly_sticker_custom:"Custom"},items:{imgly_sticker_emoticons_alien:"Alien",imgly_sticker_emoticons_angel:"Angel",imgly_sticker_emoticons_angry:"Angry",imgly_sticker_emoticons_anxious:"Anxious",imgly_sticker_emoticons_asleep:"Asleep",imgly_sticker_emoticons_attention:"Attention",imgly_sticker_emoticons_baby_chicken:"Baby Chicken",imgly_sticker_emoticons_batman:"Batman",imgly_sticker_emoticons_beer:"Beer",imgly_sticker_emoticons_black:"Black",imgly_sticker_emoticons_blue:"Blue",imgly_sticker_emoticons_blush:"Blush",imgly_sticker_emoticons_boxer:"Boxer",imgly_sticker_emoticons_business:"Business",imgly_sticker_emoticons_chicken:"Chicken",imgly_sticker_emoticons_cool:"Cool",imgly_sticker_emoticons_cry:"Cry",imgly_sticker_emoticons_deceased:"Deceased",imgly_sticker_emoticons_devil:"Devil",imgly_sticker_emoticons_duckface:"Duckface",imgly_sticker_emoticons_furious:"Furious",imgly_sticker_emoticons_grin:"Grin",imgly_sticker_emoticons_guitar:"Guitar",imgly_sticker_emoticons_harry_potter:"Harry Potter",imgly_sticker_emoticons_hippie:"Hippie",imgly_sticker_emoticons_hitman:"Hitman",imgly_sticker_emoticons_humourous:"Humourous",imgly_sticker_emoticons_idea:"Idea",imgly_sticker_emoticons_impatient:"Impatient",imgly_sticker_emoticons_kiss:"Kiss",imgly_sticker_emoticons_kisses:"Kisses",imgly_sticker_emoticons_laugh:"Laugh",imgly_sticker_emoticons_loud_cry:"Loud Cry",imgly_sticker_emoticons_loving:"Loving",imgly_sticker_emoticons_masked:"Masked",imgly_sticker_emoticons_music:"Music",imgly_sticker_emoticons_nerd:"Nerd",imgly_sticker_emoticons_ninja:"Ninja",imgly_sticker_emoticons_not_speaking_to_you:"Not speaking to you",imgly_sticker_emoticons_pig:"Pig",imgly_sticker_emoticons_pumpkin:"Pumpkin",imgly_sticker_emoticons_question:"Question",imgly_sticker_emoticons_rabbit:"Rabbit",imgly_sticker_emoticons_sad:"Sad",imgly_sticker_emoticons_sick:"Sick",imgly_sticker_emoticons_skateboard:"Skateboard",imgly_sticker_emoticons_skull:"Skull",imgly_sticker_emoticons_sleepy:"Sleepy",imgly_sticker_emoticons_smile:"Smile",imgly_sticker_emoticons_smoking:"Smoking",imgly_sticker_emoticons_sobbing:"Sobbing",imgly_sticker_emoticons_star:"Star",imgly_sticker_emoticons_steaming_furious:"Steaming Furious",imgly_sticker_emoticons_sunbathing:"Sunbathing",imgly_sticker_emoticons_tired:"Tired",imgly_sticker_emoticons_tongue_out_wink:"Tongue out wink",imgly_sticker_emoticons_wave:"Wave",imgly_sticker_emoticons_wide_grin:"Wide Grin",imgly_sticker_emoticons_wink:"Wink",imgly_sticker_emoticons_wrestler:"Wrestler",imgly_sticker_shapes_arrow_02:"Arrow 1",imgly_sticker_shapes_arrow_03:"Arrow 2",imgly_sticker_shapes_badge_01:"Badge 1",imgly_sticker_shapes_badge_11:"Badge 5",imgly_sticker_shapes_badge_12:"Badge 6",imgly_sticker_shapes_badge_13:"Badge 7",imgly_sticker_shapes_badge_15:"Badge 8",imgly_sticker_shapes_badge_18:"Badge 9",imgly_sticker_shapes_badge_19:"Badge 10",imgly_sticker_shapes_badge_20:"Badge 11",imgly_sticker_shapes_badge_28:"Badge 12",imgly_sticker_shapes_badge_32:"Badge 13",imgly_sticker_shapes_badge_35:"Badge 14",imgly_sticker_shapes_badge_36:"Badge 15",imgly_sticker_shapes_badge_04:"Badge 2",imgly_sticker_shapes_badge_06:"Badge 3",imgly_sticker_shapes_badge_08:"Badge 4",imgly_sticker_shapes_spray_01:"Spray 1",imgly_sticker_shapes_spray_03:"Spray 2",imgly_sticker_shapes_spray_04:"Spray 3"},canvasActions:{buttonDelete:"Löschen",buttonBringToFront:"In den Vordergrund",buttonDuplicate:"Duplizieren",buttonFlipHorizontal:"Horizontal spiegeln",buttonFlipVertical:"Vertikal spiegeln"},history:{add:"Sticker",resize:"Sticker resize",position:"Sticker position",color:"Sticker color",delete:"Sticker delete",order:"Sticker order",opacity:"Sticker opacity",flip:"Sticker flip"}},text:{title:"Text",controls:{buttonNew:"Neuer Text",dropdownFontFamily:"Schriftart",textFontSize:"Schriftgröße",selectAlignment:"Ausrichtung",selectFontColor:"Schriftfarbe",selectBackgroundColor:"Hintergrundfarbe",sliderLineSpacing:"Zeilenabstand",tabColor:"Farbe",tabBgColor:"Hintergrund",tabAlignment:"Ausrichtung",tabLineHeight:"Zeilenhöhe",tabFontSize:"Schriftgröße"},canvasControls:{placeholderText:"Etwas aufschreiben",buttonSave:"Fertig",buttonClose:"Abbrechen",inputText:"Texteingabe"},canvasActions:{buttonEdit:"Bearbeiten",buttonDelete:"Löschen",buttonBringToFront:"In den Vordergrund",buttonDuplicate:"Duplizieren"},history:{add:"Text",edit:"Text edit",resize:"Text resize",position:"Text position",alignment:"Text alignment",textColor:"Text color",backgroundColor:"Text background color",fontFamily:"Font family",fontStyle:"Font style",lineSpacing:"Line spacing",width:"Text width",delete:"Text delete",order:"Text order"}},textdesign:{title:"Text Design",controls:{buttonNew:"Neues Text Design",buttonShuffle:"Shuffle Layout",selectColor:"Textfarbe",tabColor:"Farbe",tabShuffle:"Shuffle"},canvasControls:{placeholderText:"Etwas aufschreiben mit Style",buttonSave:"Done",buttonClose:"Schließen",inputText:"Texteingabe"},canvasActions:{buttonEdit:"Bearbeiten",buttonInvert:"Invertieren",buttonDelete:"Löschen",buttonBringToFront:"In den Vordergrund",buttonDuplicate:"Duplizieren"},history:{add:"Text design",edit:"Text design edit",resize:"Text design resize",position:"Text design position",color:"Text design color",shuffle:"Text design shuffle",invert:"Text design invert",padding:"Text design padding",order:"Text design order",delete:"Text design delete"}},frame:{title:"Rahmen",controls:{buttonReset:"Zurücksetzen",sliderOpacity:"Rahmen Transparenz",sliderSize:"Rahmen Dicke",selectColor:"Rahmen Farbe",tabColor:"Farbe",tabOpacity:"Transparenz",tabSize:"Dicke"},items:{imgly_frame_dia:"Dia",imgly_frame_art_decor:"Art Decor",imgly_frame_black_passepartout:"Black",imgly_frame_lowpoly_shadow:"Low Poly",imgly_frame_wood_passepartout:"Wood"}},brush:{title:"Malen",controls:{buttonReset:"Zurücksetzen",sliderSize:"Dicke",sliderHardness:"Härte",selectColor:"Farbe",tabSize:"Dicke",tabHardness:"Härte",tabColor:"Farbe"},history:{brushStroke:"Brush Stroke"}},transform:{title:"Zuschneiden",controls:{buttonReset:"Zurücksetzen",checkboxKeepResolution:"Fixiere Auflösung",inputCropSize:"Bildgröße",inputHeight:"h",inputWidth:"b",tabFlipAndRotate:"Spiegeln & Drehen",tabResolution:"Auflösung",tabCropSize:"Bildgröße"},categories:{imgly_transforms_common:"Standard",imgly_transforms_facebook:"Facebook",imgly_transforms_twitter:"Twitter",imgly_transforms_instagram:"Instagram"},items:{imgly_transform_common_custom:"Frei",imgly_transform_common_square:"Quadratisch",imgly_transform_common_4:"4:3",imgly_transform_common_16:"16:9",imgly_transform_common_3:"3:4",imgly_transform_common_9:"9:16",imgly_transform_facebook_profile:"Profile",imgly_transform_facebook_title:"Titel",imgly_transform_facebook_post:"Post",imgly_transform_instagram_story:"Story",imgly_transform_instagram_landscape:"Landscape",imgly_transform_instagram_portrait:"Portrait",imgly_transform_instagram_square:"Square",imgly_transform_twitter_profile:"Profile",imgly_transform_twitter_title:"Title",imgly_transform_twitter_post:"Post"},transformActions:{buttonFlipHorizontal:"Horizontal spiegeln",buttonFlipVertical:"Vertikal spiegeln",buttonRotateClockwise:"Drehe im Uhrzeigersinn",buttonRotateAntiClockwise:"Drehe gegen Uhrzeigersinn"}}},$a=function(e){return"de"===e?qa:Ka},Za=function(){function e(){}return e.addScrollStyles=function(t){void 0===t&&(t="rgba(255, 255, 255, 0.2)");var n="\n    /* Injected by PhotoEditorSDK */\n    "+e.styles(t)+"\n  ",r=document.createElement("style");r.innerHTML=n,document.head.appendChild(r)},e.styles=function(e){return"\n    [data-simplebar] {\n      position: relative;\n      flex-direction: column;\n      flex-wrap: wrap;\n      justify-content: flex-start;\n      align-content: flex-start;\n      align-items: flex-start;\n    }\n\n    .photoeditorsdk-simplebar-wrapper {\n      overflow: hidden;\n      width: inherit;\n      height: inherit;\n      max-width: inherit;\n      max-height: inherit;\n    }\n\n    .photoeditorsdk-simplebar-mask {\n      direction: inherit;\n      position: absolute;\n      padding: 0;\n      margin: 0;\n      left: 0;\n      top: 0;\n      bottom: 0;\n      right: 0;\n      width: auto !important;\n      height: auto !important;\n      z-index: 0;\n    }\n\n    .photoeditorsdk-simplebar-offset {\n      direction: inherit !important;\n      box-sizing: inherit !important;\n      resize: none !important;\n      position: absolute;\n      top: 0;\n      left: 0;\n      bottom: 0;\n      right: 0;\n      padding: 0;\n      margin: 0;\n      -webkit-overflow-scrolling: touch;\n    }\n\n    .photoeditorsdk-simplebar-content-wrapper {\n      direction: inherit;\n      box-sizing: border-box !important;\n      position: relative;\n      display: block;\n      height: 100%; /* Required for horizontal native scrollbar to not appear if parent is taller than natural height */\n      width: auto;\n      visibility: visible;\n      overflow: auto; /* Scroll on this element otherwise element can't have a padding applied properly */\n      max-width: 100%; /* Not required for horizontal scroll to trigger */\n      max-height: 100%; /* Needed for vertical scroll to trigger */\n    }\n\n    .photoeditorsdk-simplebar-content:before,\n    .photoeditorsdk-simplebar-content:after {\n      content: ' ';\n      display: table;\n    }\n\n    .photoeditorsdk-simplebar-placeholder {\n      max-height: 100%;\n      max-width: 100%;\n      width: 100%;\n      pointer-events: none;\n    }\n\n    .photoeditorsdk-simplebar-height-auto-observer-wrapper {\n      box-sizing: inherit !important;\n      height: 100%;\n      width: 100%;\n      max-width: 1px;\n      position: relative;\n      float: left;\n      max-height: 1px;\n      overflow: hidden;\n      z-index: -1;\n      padding: 0;\n      margin: 0;\n      pointer-events: none;\n      flex-grow: inherit;\n      flex-shrink: 0;\n      flex-basis: 0;\n    }\n\n    .photoeditorsdk-simplebar-height-auto-observer {\n      box-sizing: inherit;\n      display: block;\n      opacity: 0;\n      position: absolute;\n      top: 0;\n      left: 0;\n      height: 1000%;\n      width: 1000%;\n      min-height: 1px;\n      min-width: 1px;\n      overflow: hidden;\n      pointer-events: none;\n      z-index: -1;\n    }\n\n    .photoeditorsdk-simplebar-track {\n      z-index: 1;\n      position: absolute;\n      right: 0;\n      bottom: 0;\n      pointer-events: none;\n      overflow: hidden;\n    }\n\n    [data-simplebar].photoeditorsdk-simplebar-dragging .photoeditorsdk-simplebar-track {\n      pointer-events: all;\n    }\n\n    .photoeditorsdk-simplebar-scrollbar {\n      position: absolute;\n      right: 2px;\n      width: 7px;\n      min-height: 10px;\n    }\n\n    .photoeditorsdk-simplebar-scrollbar:before {\n      position: absolute;\n      content: '';\n      background: "+e+";\n      border-radius: 7px;\n      left: 0;\n      right: 0;\n      opacity: 0;\n      transition: opacity 0.2s linear;\n    }\n\n    .photoeditorsdk-simplebar-track .photoeditorsdk-simplebar-scrollbar.photoeditorsdk-simplebar-visible:before {\n      /* When hovered, remove all transitions from drag handle */\n      opacity: 0.5;\n      transition: opacity 0s linear;\n    }\n\n    .photoeditorsdk-simplebar-track.photoeditorsdk-simplebar-vertical {\n      top: 0;\n      width: 11px;\n    }\n\n    .photoeditorsdk-simplebar-track.photoeditorsdk-simplebar-vertical .photoeditorsdk-simplebar-scrollbar:before {\n      top: 2px;\n      bottom: 2px;\n    }\n\n    .photoeditorsdk-simplebar-track.photoeditorsdk-simplebar-vertical .photoeditorsdk-simplebar-scrollbar {\n      right: 0px;\n      width: 4px;\n    }\n\n    .photoeditorsdk-simplebar-track.photoeditorsdk-simplebar-horizontal {\n      left: 0;\n      height: 11px;\n    }\n\n    .photoeditorsdk-simplebar-track.photoeditorsdk-simplebar-horizontal .photoeditorsdk-simplebar-scrollbar:before {\n      height: 100%;\n      left: 2px;\n      right: 2px;\n    }\n\n    .photoeditorsdk-simplebar-track.photoeditorsdk-simplebar-horizontal .photoeditorsdk-simplebar-scrollbar {\n      right: auto;\n      left: 0;\n      min-height: 0;\n      min-width: 10px;\n      width: auto;\n      top: 7px;\n      height: 4px;\n    }\n\n    /* Rtl support */\n    [data-simplebar-direction='rtl'] .photoeditorsdk-simplebar-track.photoeditorsdk-simplebar-vertical {\n      right: auto;\n      left: 0;\n    }\n\n    .photoeditorsdk-hs-dummy-scrollbar-size {\n      direction: rtl;\n      position: fixed;\n      opacity: 0;\n      visibility: hidden;\n      height: 500px;\n      width: 500px;\n      overflow-y: hidden;\n      overflow-x: scroll;\n    }\n  "},e}(),Ja=function(e){var t=void 0===e?{primary:"#365afc",background:"#0B0B0B",foreground:"#FFFFFF"}:e,n=t.primary,r=void 0===n?"#365afc":n,i=t.background,o=void 0===i?"#0B0B0B":i,a=t.foreground,s=void 0===a?"#FFFFFF":a,l="rgba(255, 255, 255, 0.90)",c="rgba(255, 255, 255, 0.60)",u="rgba(255, 255, 255, 0.38)";return{shape:{radiusSmall:2,radiusMedium:4,radiusLarge:4},typography:{fontFamily:"Fira Sans",provider:"google"},background:o,foreground:s,primary:r,warning:"#ffba5c",error:"#c2393a",success:"#39c26c",focusOutlineColor:"rgba(255, 255, 255, 0.12)",scrollbar:{handleColor:"rgba(255, 255, 255, 0.2)"},button:{outlinedBorderColor:"#333333",activeForeground:r,containedPrimaryBackground:r,containedPrimaryForeground:l,outlinedPrimaryBackground:"#242424",outlinedPrimaryForeground:l,outlinedSecondaryBackground:"transparent",outlinedSecondaryForeground:c,textPrimaryForeground:r,textSecondaryForeground:c,outlinedInactiveOverlayColor:"rgba(0, 0, 0, 0.3)",textInactiveOpacity:"0.5",hoverOverlayColor:"rgba(255, 255, 255, 0.08)"},checkbox:{background:"#333333",foreground:s,activeForeground:s,activeBackground:r,inactiveOpacity:"0.3",hoverOpacity:"0.8"},modal:{background:"#242424",bodyForeground:l,headerForeground:c,backdrop:"rgba(0, 0, 0, 0.6)"},card:{background:"#333333",foreground:l,activeBorderColor:r,activeOverlayColor:"rgba(89, 121, 252, 0.20)",labelBackground:"linear-gradient(transparent, rgba(0, 0, 0, 0.6))",labelForeground:l,inactiveOverlayColor:"rgba(0, 0, 0, 0.3)",hoverOverlayColor:"rgba(255, 255, 255, 0.08)"},tabTitle:{foreground:c,background:"transparent",activeBackground:"transparent",activeBorderColor:r,activeForeground:l},dropdown:{background:"transparent",foreground:l,hoverBorderColor:c,borderColor:"#333333",caretColor:u,listBackground:"#333333",listBorderColor:"#333333",listItemHoverBackground:"#424242",listForeground:c,listShadow:"0 12px 17px 2px rgba(0,0,0,0.14),\n        0 5px 22px 4px rgba(0,0,0,0.12),\n        0 7px 8px -4px rgba(0,0,0,0.20)",inactiveOpacity:"0.3"},textInput:{foreground:l,hoverBorderColor:"rgba(255, 255, 255, 0.40)",background:"transparent",borderColor:"#333333",inactiveOpacity:"0.3"},slider:{trackColor:"rgba(255, 255, 255, 0.4)",activeTrackColor:r,thumbBackground:"#171717",thumbBorderColor:r,inactiveOpacity:"0.3",hoverOpacity:"0.7"},selectColor:{activeBorderColor:r,inactiveOpacity:"0.3"},toolbar:{foreground:l,background:"#242424",activeBackground:"transparent",activeForeground:r,borderColor:"transparent"},tooltip:{background:"#424242",foreground:l},toolControlBar:{background:"rgba(23, 23, 23, 0.9)",borderColor:"transparent",shadow:"none",separatorColor:"#333333",titleForeground:c,inputLabelForeground:c,inputLabelInactiveOpacity:"0.3"},mainCanvasActionBar:{background:"linear-gradient(0deg, transparent 0%,  rgba(0, 0, 0, 0.6) 98%)",foreground:l,borderColor:"none"},canvasActionBar:{background:"#424242",foreground:l,separatorColor:u},canvas:{background:"#0B0B0B",controlsOutline:"rgba(255, 255, 255, 0.5)",controlsColor:"#ffffff",cropBackdrop:"rgba(0, 0, 0, 0.5)"},colorPicker:{listBackground:"#333333",listShadow:"0 12px 17px 2px rgba(0,0,0,0.14),\n        0 5px 22px 4px rgba(0,0,0,0.12),\n        0 7px 8px -4px rgba(0,0,0,0.20)",controlsColor:"#ffffff",inputBorderColor:"#424242"},colorItem:{borderRadius:"2px",margin:"1px"},webcam:{backdrop:"rgba(0, 0, 0, 0.3)",floatButton:s,background:"#0B0B0B"},snapping:{positionGuideColor:"#f0f",rotationGuideColor:"#0ff"},transform:{crops:{main:"#424242",highlight:"#565656",shadow:"#333333"}}}},Qa=function(e){var t=void 0===e?{primary:"#1e47fb",background:"#FBFBFB",foreground:"#000000"}:e,n=t.primary,r=void 0===n?"#1e47fb":n,i=t.background,o=void 0===i?"#FBFBFB":i,a=t.foreground,s=void 0===a?"#000000":a,l="rgba(0, 0, 0, 0.90)",c="rgba(0, 0, 0, 0.60)",u="rgba(0, 0, 0, 0.38)";return{shape:{radiusSmall:2,radiusMedium:4,radiusLarge:4},typography:{fontFamily:"Fira Sans",provider:"google"},background:o,foreground:s,primary:r,warning:"#ffb045",error:"#c01a1b",success:"#17c658",focusOutlineColor:"rgba(125, 125, 125, 0.12)",scrollbar:{handleColor:"rgba(0, 0, 0, 0.2)"},button:{outlinedBorderColor:"#D4D4D4",activeForeground:r,containedPrimaryBackground:r,containedPrimaryForeground:"rgba(255, 255, 255, 0.9)",outlinedPrimaryBackground:"#E6E6E6",outlinedPrimaryForeground:l,outlinedSecondaryBackground:"transparent",outlinedSecondaryForeground:c,textPrimaryForeground:r,textSecondaryForeground:c,outlinedInactiveOverlayColor:"rgba(0, 0, 0, 0.3)",textInactiveOpacity:"0.5",hoverOverlayColor:"rgba(125, 125, 125, 0.12)"},checkbox:{background:"#D4D4D4",foreground:s,activeForeground:s,activeBackground:r,inactiveOpacity:"0.3",hoverOpacity:"0.8"},modal:{background:"#E6E6E6",bodyForeground:l,headerForeground:c,backdrop:"rgba(0, 0, 0, 0.6)"},card:{background:"#D4D4D4",foreground:l,activeBorderColor:r,activeOverlayColor:"rgba(30, 71, 251, 0.2)",labelBackground:"linear-gradient(transparent, rgba(0, 0, 0, 0.6))",labelForeground:"rgba(255, 255, 255, 0.87)",inactiveOverlayColor:"rgba(0, 0, 0, 0.3)",hoverOverlayColor:"rgba(125, 125, 125, 0.12)"},tabTitle:{foreground:c,background:"transparent",activeBackground:"transparent",activeBorderColor:r,activeForeground:l},dropdown:{background:"transparent",foreground:l,hoverBorderColor:c,borderColor:"#D4D4D4",listBackground:"#D4D4D4",caretColor:u,listForeground:c,listBorderColor:"#D4D4D4",listItemHoverBackground:"#CCCCCC",listShadow:"0 8px 10px 1px rgba(0,0,0,0.14),\n        0 3px 14px 2px rgba(0,0,0,0.12),\n        0 5px 5px -3px rgba(0,0,0,0.20)",inactiveOpacity:"0.3"},textInput:{foreground:l,hoverBorderColor:l,background:"transparent",borderColor:"#D4D4D4",inactiveOpacity:"0.3"},slider:{trackColor:"#CCCCCC",activeTrackColor:r,thumbBackground:"#EEEEEE",thumbBorderColor:r,inactiveOpacity:"0.3",hoverOpacity:"0.7"},selectColor:{activeBorderColor:r,inactiveOpacity:"0.3"},toolbar:{foreground:l,background:"#D4D4D4",activeBackground:"transparent",activeForeground:r,borderColor:"transparent"},tooltip:{background:"#CCCCCC",foreground:l},toolControlBar:{background:"rgba(238, 238, 238, 0.9)",borderColor:"#EEEEEE",shadow:"none",separatorColor:"#D4D4D4",titleForeground:c,inputLabelForeground:c,inputLabelInactiveOpacity:"0.3"},mainCanvasActionBar:{background:"transparent",foreground:l,borderColor:"none"},canvasActionBar:{background:"#CCCCCC",foreground:l,separatorColor:u},canvas:{background:"#FBFBFB",controlsOutline:"rgba(255, 255, 255, 0.6)",controlsColor:"#ffffff",cropBackdrop:"rgba(255, 255, 255, 0.3)"},colorPicker:{listBackground:"#D4D4D4",listShadow:"0 8px 10px 1px rgba(0,0,0,0.14),\n        0 3px 14px 2px rgba(0,0,0,0.12),\n        0 5px 5px -3px rgba(0,0,0,0.20)",controlsColor:"#ffffff",inputBorderColor:"#CCCCCC"},colorItem:{borderRadius:"2px",margin:"1px"},webcam:{backdrop:"rgba(0, 0, 0, 0.3)",floatButton:s,background:"#FBFBFB"},snapping:{positionGuideColor:"#f0f",rotationGuideColor:"#0ff"},transform:{crops:{main:"#B8B8B8",highlight:"#E6E6E6",shadow:"#D4D4D4"}}}},es={headline1:{size:16,letterSpacing:1.5,case:"uppercase"},headline2:{size:14,letterSpacing:.8,case:"uppercase"},body:{size:13,letterSpacing:0,case:"none"},label:{size:13,letterSpacing:0,case:"capitalize"},label2:{size:12,letterSpacing:0,case:"capitalize"},button1:{size:12,letterSpacing:1.2,case:"uppercase"},button2:{size:14,letterSpacing:0,case:"capitalize"}},ts={toast:2,controlsBar:5,buttonGroup:5,toolControlBar:6,toolbar:7,label:10,disable:11,canvas:{knob:4,bar:5,controls:5,snappingGuide:1,crop:{grid:2,dragImage:3,backdrop:4},webcam:{backdrop:7}},input:{list:6},button:{float:5},modal:{backdrop:100},colorItem:{overlay:2,background:1,tiledBackground:0}},ns=function(){return{advancedUIToolbar:{width:55,itemHeight:48,seperatorHeight:20,marginBottom:0},advancedUIToolControlBar:{width:230,padding:"16px 24px",marginBottom:0},advancedCard:{small:{height:166/3,width:166/3},medium:{height:87,width:87},large:{height:86,width:182}},advancedSpacer:8,basicCanvasOffset:23,basicUIToolbar:{openHeight:88,closeHeight:35},basicToolControlBar:{itemsBarHeight:72,controlsBarHeight:80,maxHeight:111,maxWidth:300},basicCard:{medium:{height:56,width:90},large:{height:60,width:110}},basicSpacer:8,mainCanvasActionBar:{height:50},crop:{minSize:50},canvas:{marginTop:0},canvasControls:{sprite:{controlOffset:16,rotateHandle:{height:16},minSize:30,controlPadding:16},knob:{size:16,touchable:{desktop:24}},corner:{size:14,touchable:{desktop:24,mobile:48},borderWidth:4},width:{size:14}},buttons:{float:{size:56}},colorItem:{size:20},color:{colorPicker:{width:214,saturationSlider:{height:150},thumb:{size:14},arrow:{width:36}}},fontSystem:es,zIndex:ts}},rs=Ja(),is=ns(),os=E({},rs,{measurements:is}),as=function(e,t){var n=function(e){return"light"===e?Qa:Ja}(e);if(t&&t[e]){var r=t[e],i={primary:r.primary,background:r.background,foreground:r.foreground};return Xa([n(Object.keys(i).reduce((function(e,t){var n;return i[t]?E({},e,((n={})[t]=i[t],n)):e}),{})),t[e]])}return n()||rs},ss=["canvas","advancedUIToolbar","advancedUIToolControlBar","basicUIToolbar","mainCanvasActionBar","colorItem"],ls={config:ct,locale:Ka,theme:rs,measurements:is},cs=function(){function e(){this.checkDefaultToolAvailability=function(e,t){return-1!==t.indexOf(e)},this.state=hn(ls),this.events=new Ya}return e.prototype.saveConfig=function(e){e.mainCanvasActions&&4!==e.mainCanvasActions.length&&(e.mainCanvasActions.length=4);var t,n,r=Xa([ct,e]),i=(t=r.language,(n=r.custom.languages)&&n[t]?Xa([$a(t),n[t]]):$a(t)||Ka),o=as(r.theme,r.custom.themes),a=function(e){var t=ns();if(e){var n={};return Object.keys(e).forEach((function(t){-1!==ss.indexOf(t)&&(n[t]=e[t])})),Xa([t,n])}return t}(r.custom.measurements),s=r.library.provider;delete r.language,delete r.custom.languages,delete r.custom.themes,delete r.library.provider;var l=r.tools.reduce((function(e,t){return M(e,"object"==typeof t?t:[t])}),[]);l.length||(console.error("Empty list input for tools"),l=lt.reduce((function(e,t){return M(e,"object"==typeof t?t:[t])}),[])),this.checkDefaultToolAvailability(r.defaultTool,l)||(console.warn("Configured default tool "+r.defaultTool+" is not a part of configured list of tools: "+l.join(" ")+", using fallback default Tool "+l[0]+" is being used, pls change config.defaultTool to change the fallback tool")[r.defaultTool]=l),this.state.config=r,this.state.locale=i,this.state.theme=o,this.state.measurements=a,Za.addScrollStyles(this.state.theme.scrollbar.handleColor);var c=this.buildCustomAssetsConfig();return this.assetProvider=new nt(c),this.loadThemeFont(),s},Object.defineProperty(e.prototype,"config",{get:function(){return this.state.config},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this.state.locale},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"theme",{get:function(){return this.state.theme},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"measurements",{get:function(){return this.state.measurements},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tools",{get:function(){return this.config.tools.reduce((function(e,t){return"string"==typeof t?M(e,[t]):M(e,[""],t)}),[])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultTool",{get:function(){return this.config.defaultTool},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOrderDefault",{get:function(){return"default"===this.config.order},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLayoutAdvanced",{get:function(){return"advanced"===this.config.layout},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayCloseButton",{get:function(){return-1!==this.config.mainCanvasActions.indexOf(F.CLOSE)},enumerable:!0,configurable:!0}),e.prototype.loadThemeFont=function(){var e=this.theme.typography;e.skipLoading||this.assetProvider.getFontManager().injectFonts([e])},e.prototype.buildCustomAssetsConfig=function(){var e=this.tools,t=Ar(this.state.config),n=this.state.config.assetBaseUrl,r=this.state.theme,i=-1!==e.indexOf(j.FILTER)?t[j.FILTER]:void 0,o=-1!==e.indexOf(j.FOCUS)?t[j.FOCUS]:void 0,a=-1!==e.indexOf(j.ADJUSTMENT)?t[j.ADJUSTMENT]:void 0;return{basePath:n,theme:r,filter:i,focus:o,sticker:-1!==e.indexOf(j.STICKER)?t[j.STICKER]:void 0,frame:-1!==e.indexOf(j.FRAME)?t[j.FRAME]:void 0,overlay:-1!==e.indexOf(j.OVERLAY)?t[j.OVERLAY]:void 0,transform:-1!==e.indexOf(j.TRANSFORM)?t[j.TRANSFORM]:void 0,text:-1!==e.indexOf(j.TEXT)?t[j.TEXT]:void 0,adjustment:a,textdesign:-1!==e.indexOf(j.TEXT_DESIGN)?t[j.TEXT_DESIGN]:void 0}},C([yr],e.prototype,"saveConfig",null),C([_n],e.prototype,"config",null),C([_n],e.prototype,"locale",null),C([_n],e.prototype,"theme",null),C([_n],e.prototype,"measurements",null),C([_n],e.prototype,"tools",null),C([_n],e.prototype,"defaultTool",null),C([_n],e.prototype,"isOrderDefault",null),C([_n],e.prototype,"isLayoutAdvanced",null),C([_n],e.prototype,"displayCloseButton",null),e}(),us=function(){function e(e){this.editor=e}return e.prototype.setBackgroundImage=function(e){this.container?this.container.setData({image:e,originalImage:e}):this.container=this.engine.addImage({image:e,originalImage:e,blendMode:se.NORMAL,opacity:1})},e.prototype.getchildren=function(){return this.container.getChildren()},e.prototype.addImageToContainer=function(){var e=this;return new Promise((function(t,n){var r=e.editor.activeStore.image;if(function(e){return e instanceof HTMLImageElement}(r))e.setBackgroundImage(r),t();else{var i=e.editor.libraryStore.getRawUrl(r);e.getImageElement(i).then((function(n){e.setBackgroundImage(n),t()})).catch((function(e){n({identifier:"imageLoading",message:e.message})}))}}))},e.prototype.getImageElement=function(e){var t=this;return new Promise((function(n,r){var i=new Image;i.addEventListener("load",(function(){n(i)})),i.addEventListener("error",(function(e){r(e)})),i.crossOrigin=t.editor.configStore.config.engine.crossOrigin,i.src=e}))},e.prototype.getImgageContainerId=function(){return this.container?this.container.getID():""},Object.defineProperty(e.prototype,"engine",{get:function(){return this.editor.engine},enumerable:!0,configurable:!0}),e}(),ds=function(){function e(e){var t=this;this.applyNewImageTransform=function(){var e=t.editor.engineMediator.image.container.getBounds(),n=e.size,r=e.width,i=e.height,o=t.container;o.setTransform(P.IDENTITY),o.setResolution(n),o.setPivot(.5,.5),o.setPosition({x:r/2,y:i/2})},this.editor=e}return Object.defineProperty(e.prototype,"engine",{get:function(){return this.editor.engine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"container",{get:function(){return this.engine.getOutputContainer()},enumerable:!0,configurable:!0}),e}();function ps(e,t){return e.width/e.height>t.width/t.height?e.height/t.height:e.width/t.width}var fs,hs,ms={transform:P.IDENTITY},gs=function(){function e(e){this.initialTransform=P.IDENTITY,this.editor=e,this.state=hn(ms)}return e.prototype.createPreview=function(e){this.container=this.editor.engine.createPreview(e)},e.prototype.updateTransform=function(e,t){void 0===e&&(e=0),void 0===t&&(t=!0);var n=this.calculateTransform(e);return!!n.scale.x&&(t?this.saveInitialTransform(n):this.savePreviewTransform(n),this.container.setTransform(this.state.transform),!0)},e.prototype.saveInitialTransform=function(e){this.initialTransform=e,this.savePreviewTransform(e)},e.prototype.savePreviewTransform=function(e){var t=this;vr((function(){t.state.transform.position=e.position,t.state.transform.scale=e.scale,t.state.transform.rotation=e.rotation;var n=al.devicePixelRatio;t.previewTransformWithoutDpr={position:new z(e.position).divide(n),scale:new z(e.scale).divide(n),rotation:e.rotation}}))},Object.defineProperty(e.prototype,"transform",{get:function(){return this.state.transform},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.state.transform.position},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.state.transform.scale},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.state.transform.rotation},enumerable:!0,configurable:!0}),e.prototype.calculateTransform=function(e){void 0===e&&(e=0);var t=al.devicePixelRatio,n=this.editor.canvasStore.canvasSize,r=n.width,i=n.height,o=this.editor.engine.getOutputDimensions(),a=ps({width:r,height:i},o),s=.95;window.innerWidth<600&&(s=.98),a*=s;var l=i-o.height*a,c=2*this.editor.configStore.measurements.mainCanvasActionBar.height;return l<c&&(a=ps({width:r,height:i-c},o),a*=s),new P({x:r*t/2,y:i*t/2},{x:a*=t,y:a},e)},C([yr],e.prototype,"updateTransform",null),C([yr],e.prototype,"savePreviewTransform",null),C([_n],e.prototype,"transform",null),C([_n],e.prototype,"position",null),C([_n],e.prototype,"scale",null),C([_n],e.prototype,"rotation",null),e}(),ys=function(){function e(){this.imageContainerOrder=[],this.spriteContainerOrder=[]}return e.checkTool=function(e){if(-1!==[j.STICKER,j.TEXT,j.TEXT_DESIGN,j.BRUSH,j.FRAME].indexOf(e))throw new Error("addIndex is used for non sprites, for sprites use addSprite")},e.remove=function(e,t){var n=t.findIndex((function(t){return t===e}));-1!==n&&t.splice(n,1)},e.indexForOrder=function(e,t,n){var r=e[n],i=t.findIndex((function(e){return e===n}));if(-1!==i)return{index:i,order:t};var o=t.length;if(o){var a=void 0;for(a=0;a<o;a+=1){if(r<e[t[a]])return{index:a,order:t=M(t.slice(0,a),[n],t.slice(a))}}}return t.push(n),{index:t.length-1,order:t}},e.prototype.addIndex=function(t){e.checkTool(t);var n=e.indexForOrder(e.IMAGE_CONTAINER_INDEX,this.imageContainerOrder,t),r=n.index,i=n.order;return this.imageContainerOrder=i,r},e.prototype.removeIndex=function(t){e.checkTool(t),e.remove(t,this.imageContainerOrder)},e.prototype.addSprite=function(e){return this.spriteContainerOrder.push(e),this.imageContainerOrder.length+this.spriteContainerOrder.length-1},e.prototype.removeSprite=function(t){e.remove(t,this.spriteContainerOrder)},e.prototype.renameSprite=function(e,t){var n=this.spriteContainerOrder.findIndex((function(t){return t===e}));-1!==n&&(this.spriteContainerOrder[n]=t)},e.prototype.bringToFront=function(e){var t=this.spriteContainerOrder.findIndex((function(t){return t===e}));return-1!==t&&(this.spriteContainerOrder.splice(t,1),this.spriteContainerOrder.push(e)),this.getLastSpriteIndex()},e.prototype.getLastSpriteId=function(){var e=this.spriteContainerOrder.length;return this.spriteContainerOrder[e-1]},e.prototype.getSpriteIndex=function(e){return this.spriteContainerOrder.findIndex((function(t){return t===e}))+this.imageContainerOrder.length-1},e.prototype.getLastSpriteIndex=function(){return this.imageContainerOrder.length+this.spriteContainerOrder.length-1},e.IMAGE_CONTAINER_INDEX=((fs={})[j.ART_FILTER]=0,fs[j.FILTER]=1,fs[j.ADJUSTMENT]=2,fs[j.FOCUS]=3,fs[j.OVERLAY]=4,fs),e}(),vs=function(){function e(e){this.orderHelper=new ys;var t=e.configStore.config.engine;this.engine=new l(E({},t,{license:e.configStore.config.license,assetProvider:e.configStore.assetProvider})),this.image=new us(e),this.output=new ds(e),this.preview=new gs(e),this.editor=e}return e.prototype.render=function(e){return this.engine.render(e)},e.prototype.previewSpaceToWorldSpace=function(e,t){var n=this.preview.previewTransformWithoutDpr;if(D(e)){var r=this.editor.engine.convertPointFromPreviewIntoWorldSpace(z.ZERO,n,t),i=this.editor.engine.convertPointFromPreviewIntoWorldSpace({x:e,y:0},n,t);return z.distance(new z(r),new z(i))}return this.editor.engine.convertPointFromPreviewIntoWorldSpace(e,n,t)},e.prototype.worldSpaceToPreviewSpace=function(e){var t=this.preview.previewTransformWithoutDpr;if(D(e)){var n=this.editor.engine.convertPointFromWorldIntoPreviewSpace(z.ZERO,t),r=this.editor.engine.convertPointFromWorldIntoPreviewSpace({x:e,y:0},t);return z.distance(new z(n),new z(r))}return this.editor.engine.convertPointFromWorldIntoPreviewSpace(e,t)},e.prototype.outputSpaceToWorldSpace=function(e){return D(e)?c.getScalarInWorldSpace(e,this.editor.engine.getOutputContainer()):c.getPointInWorldSpace(e,this.editor.engine.getOutputContainer())},e.prototype.previewSpaceToOutputSpace=function(e){var t=this.preview.previewTransformWithoutDpr;if(D(e)){var n=this.editor.engine.convertPointFromPreviewIntoOutputSpace(z.ZERO,t),r=this.editor.engine.convertPointFromPreviewIntoOutputSpace({x:e,y:0},t);return z.distance(new z(n),new z(r))}return this.editor.engine.convertPointFromPreviewIntoOutputSpace(e,t)},e.prototype.previewSpaceToFlippedPreviewSpace=function(e){return this.editor.engine.convertPointFromPreviewIntoFlippedPreviewSpace(e)},e}(),bs=function(){function e(){this.snapshots=[],this.observeIndex=hn.box(-1)}return e.prototype.addSnapshot=function(e){this.index===this.snapshots.length-1?this.snapshots=this.snapshots.concat(JSON.stringify(e)):this.snapshots=M(this.snapshots.slice(0,this.index+1),[JSON.stringify(e)]),this.observeIndex.set(this.snapshots.length-1)},e.prototype.getCurrentState=function(){return this.snapshots[this.index]},e.prototype.reset=function(){this.snapshots=[],this.observeIndex.set(-1)},e.prototype.undo=function(){return this.canUndo?(this.observeIndex.set(this.index-1),JSON.parse(this.getCurrentState())):null},e.prototype.redo=function(){return this.canRedo?(this.observeIndex.set(this.index+1),JSON.parse(this.getCurrentState())):null},e.prototype.discardSnapshotsfromIndex=function(e){e>0&&e<this.snapshots.length-1&&(this.snapshots=this.snapshots.slice(0,e),this.observeIndex.set(this.snapshots.length-1))},Object.defineProperty(e.prototype,"index",{get:function(){return this.observeIndex.get()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canUndo",{get:function(){return this.index>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canRedo",{get:function(){return this.snapshots.length-1>this.index},enumerable:!0,configurable:!0}),C([_n],e.prototype,"index",null),C([_n],e.prototype,"canUndo",null),C([_n],e.prototype,"canRedo",null),e}(),_s=function(){function e(e){var t=this;this.localTransformStartIndex=null,this.awaitHistoryChange=!1,this.undo=function(){return T(t,void 0,void 0,(function(){var e;return O(this,(function(t){switch(t.label){case 0:return this.awaitHistoryChange?[3,2]:(this.awaitHistoryChange=!0,e=this.appHistoryManager.undo(),[4,this.applyState(e)]);case 1:t.sent(),this.awaitHistoryChange=!1,t.label=2;case 2:return[2]}}))}))},this.redo=function(){return T(t,void 0,void 0,(function(){var e;return O(this,(function(t){switch(t.label){case 0:return this.awaitHistoryChange?[3,2]:(this.awaitHistoryChange=!0,e=this.appHistoryManager.redo(),[4,this.applyState(e)]);case 1:t.sent(),this.awaitHistoryChange=!1,t.label=2;case 2:return[2]}}))}))},this.editor=e,this.appHistoryManager=new bs}return Object.defineProperty(e.prototype,"canUndo",{get:function(){return this.appHistoryManager.canUndo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canRedo",{get:function(){return this.appHistoryManager.canRedo},enumerable:!0,configurable:!0}),e.prototype.getHistoryState=function(){var e,t=Ar(this.editor.adjustmentsToolStore.state),n=Ar(this.editor.filterToolStore.state),r=this.editor.focusToolStore.getFocusStateForHistory(),i=Ar(this.editor.overlayToolStore.state),o=Ar(this.editor.frameToolStore.state),a=this.editor.brushToolStore.strokes||{strokes:[]},s=this.editor.spriteStore.getSpriteHistoryState(),l=this.editor.transformToolStore.serializableState;return(e={})[j.ADJUSTMENT]=t,e[j.FILTER]=n,e[j.FOCUS]=r,e[j.OVERLAY]=i,e[j.FRAME]=o,e[j.BRUSH]=a,e.sprite=s,e[j.TRANSFORM]=l,e},e.prototype.addInitialSnapshot=function(){var e=this.getHistoryState();this.appHistoryManager.addSnapshot({state:e,type:"add",description:"Initial State"})},e.prototype.addSnapshot=function(e,t,n){void 0===e&&(e=this.getHistoryState()),e&&((e.sprite||e.transform)&&(e=E({},this.getHistoryState(),e)),this.appHistoryManager.addSnapshot({state:e,type:t,description:n}),this.editor.configStore.events.onHistoryChange())},e.prototype.saveTransformLocalSnapshotIndex=function(){null===this.localTransformStartIndex&&(this.localTransformStartIndex=this.appHistoryManager.snapshots.length)},e.prototype.removeTransformLocalSnapshots=function(){null!==this.localTransformStartIndex&&(this.appHistoryManager.discardSnapshotsfromIndex(this.localTransformStartIndex-1),this.localTransformStartIndex=null)},e.prototype.applyState=function(e){var t=e.state;return T(this,void 0,void 0,(function(){var e,n,r,i,o,a,s,l;return O(this,(function(c){switch(c.label){case 0:if(c.trys.push([0,28,,29]),!t)return[3,27];r=Object.keys(t),c.label=1;case 1:c.trys.push([1,23,24,25]),i=I(r),o=i.next(),c.label=2;case 2:if(o.done)return[3,22];switch(a=o.value,a){case j.FILTER:return[3,3];case j.ADJUSTMENT:return[3,5];case j.OVERLAY:return[3,7];case j.FRAME:return[3,9];case j.FOCUS:return[3,11];case j.BRUSH:return[3,13];case"sprite":return[3,15];case"localTransform":return[3,17];case j.TRANSFORM:return[3,19]}return[3,21];case 3:return[4,this.editor.filterToolStore.updateStateFromHistory(t[a])];case 4:return c.sent(),[3,21];case 5:return[4,this.editor.adjustmentsToolStore.updateStateFromHistory(t[a])];case 6:return c.sent(),[3,21];case 7:return[4,this.editor.overlayToolStore.updateStateFromHistory(t[a])];case 8:return c.sent(),[3,21];case 9:return[4,this.editor.frameToolStore.updateStateFromHistory(t[a])];case 10:return c.sent(),[3,21];case 11:return[4,this.editor.focusToolStore.updateStateFromHistory(t[a],this.editor.canvasStore.sizeVector)];case 12:return c.sent(),[3,21];case 13:return[4,this.editor.brushToolStore.updateStateFromHistory(t[a])];case 14:return c.sent(),[3,21];case 15:return[4,this.editor.spriteStore.updateStateFromHistory(t[a])];case 16:return c.sent(),[3,21];case 17:return[4,this.editor.transformToolStore.updateLocalStateFromHistory(t.localTransform)];case 18:return c.sent(),[3,21];case 19:return this.editor.outputContainer.pauseChildrenUpdates(),this.editor.transformToolStore.onEnter(),this.editor.transformToolStore.updateStateFromSerialization(t[a],!1),this.editor.transformToolStore.onLeave(),this.editor.transformToolStore.onEnter(),this.editor.transformToolStore.onLeave(),this.editor.outputContainer.resumeChildrenUpdates(),[4,this.editor.wait()];case 20:return c.sent(),[3,21];case 21:return o=i.next(),[3,2];case 22:return[3,25];case 23:return s=c.sent(),e={error:s},[3,25];case 24:try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}return[7];case 25:return[4,this.editor.renderPromise()];case 26:c.sent(),c.label=27;case 27:return[3,29];case 28:return l=c.sent(),console.error(l),this.editor.modalStore.showActionModal({identifier:"unexpectedError",error:l,handlers:{buttonYes:function(){window.location.reload()}}}),[3,29];case 29:return[2]}}))}))},e.prototype.isDirty=function(){return this.appHistoryManager.snapshots.length>1},e.prototype.reset=function(){this.appHistoryManager.reset()},C([yr],e.prototype,"undo",void 0),C([yr],e.prototype,"redo",void 0),C([_n],e.prototype,"canUndo",null),C([_n],e.prototype,"canRedo",null),e}(),xs={type:null,modalIdentifier:null,show:!1},ws=function(){function e(e){var t=this;this.errorMessage="",this.showActionModal=function(e){var n=e.identifier,r=e.error,i=e.handlers;t.state.show=!0,t.state.modalIdentifier=n,t.handlers=E({},i||{},{close:t.hideModal}),t.errorMessage=r||""},this.hideModal=function(){t.state.show=!1,t.state.type=null},this.configStore=e.configStore,this.state=hn(xs)}return e.prototype.showInfoModal=function(e){this.state.type=Le.INFO,this.state.modalIdentifier=e,this.state.show=!0},e.prototype.showModalOfType=function(e){this.state.type=e,this.state.show=!0},Object.defineProperty(e.prototype,"infoModalProps",{get:function(){if(this.state.modalIdentifier){var e=this.configStore.locale.infoModals[this.state.modalIdentifier];return{show:this.state.show,heading:e?e.heading:"",body:e?e.body:""}}return{show:!1,heading:"",body:""}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actionModalProps",{get:function(){var e=this.configStore.locale,t=this.getProps(Le.WARNING)||this.getProps(Le.ERROR),n={error:e.common.error,warning:e.common.warning};if(this.show&&t&&t.message){var r=t.type,i=t.message,o=this.errorMessage;return i.body=i.body?i.body.replace("${error}",o):"",{type:r,message:i,show:this.show,handlers:this.handlers,preHeadingLocale:n}}return{show:xs.show,handlers:this.handlers,preHeadingLocale:n}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"show",{get:function(){return this.state.show},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this.state.type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.state.modalIdentifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positionOffset",{get:function(){var e=this.configStore,t=e.isLayoutAdvanced,n=e.measurements,r=n.advancedUIToolControlBar.width+n.advancedUIToolbar.width,i=n.basicCanvasOffset;return t?{x:r/2,y:0}:{x:0,y:-i}},enumerable:!0,configurable:!0}),e.prototype.getProps=function(e){var t=this.state.modalIdentifier,n=this.configStore.locale;return e&&Object.prototype.hasOwnProperty.call(n[e+"Modals"],t)?{type:e,message:n[e+"Modals"][t]}:null},C([yr],e.prototype,"showActionModal",void 0),C([yr],e.prototype,"showInfoModal",null),C([yr],e.prototype,"showModalOfType",null),C([_n],e.prototype,"infoModalProps",null),C([yr],e.prototype,"hideModal",void 0),C([_n],e.prototype,"actionModalProps",null),C([_n],e.prototype,"show",null),C([_n],e.prototype,"type",null),C([_n],e.prototype,"identifier",null),C([_n],e.prototype,"positionOffset",null),e}(),Ss=function(){function e(e){var t=this;this.defaultScale=1,this.SCALE_LEVELS=[8.33,12.5,16.66,25,33.33,50,66.66,100,125,150,200,300,400,500,600].map((function(e){return e/100})),this.state={position:{x:0,y:0},scaleIndex:-1},this.offset={x:0,y:0},this.in=function(){t.canZoomIn&&(t.state.scaleIndex+=1,t.scaleRender())},this.out=function(){if(t.canZoomOut){t.state.scaleIndex-=1;var e=t.checkOffset({x:0,y:0}),n=e.canDragX,r=e.canDragY,i=e.maxOffsetX,o=e.maxOffsetY;r||(t.offset.y=o),n||(t.offset.x=i),t.savePosition(),t.scaleRender()}},this.setOffset=function(e){var n=t.checkOffset(e),r=n.canDragX,i=n.canDragY;r&&(t.offset.x=e.x),i&&(t.offset.y=e.y),t.scaleRender()},this.editor=e}return e.prototype.setInitialTransform=function(e){var t=this;void 0===e&&(e=0);var n=this.editor.engineMediator.preview.transform;vr((function(){t.setDefaultScale(Math.abs(e||n.scale.x)),t.setPosition(n.position)}))},e.prototype.resetScale=function(){this.state.scaleIndex=-1},e.prototype.resetPosition=function(){var e=this.editor.canvasStore.canvas,t=e.width,n=e.height;this.setPosition({x:t/2,y:n/2})},e.prototype.resetOffset=function(){this.offset={x:0,y:0}},e.prototype.setPosition=function(e){this.state.position.x=e.x,this.state.position.y=e.y},e.prototype.savePosition=function(){this.setPosition(this.getPositionWithOffset()),this.offset={x:0,y:0}},e.prototype.setDefaultScale=function(e){var t=this;1!==this.defaultScale&&(-1!==(n=this.SCALE_LEVELS.findIndex((function(e){return e===t.defaultScale})))&&(this.SCALE_LEVELS=M(this.SCALE_LEVELS.slice(0,n),this.SCALE_LEVELS.slice(n+1))));var n,r=this.SCALE_LEVELS.findIndex((function(n,r){return 0===r?e<n:r===t.SCALE_LEVELS.length-1?n<e:t.SCALE_LEVELS[r-1]<e&&e<n}));-1!==r?(this.SCALE_LEVELS=M(this.SCALE_LEVELS.slice(0,r),[e],this.SCALE_LEVELS.slice(r)),r===this.state.scaleIndex&&this.resetScale(),this.state.scaleIndex=r,this.defaultScale=e):((n=this.SCALE_LEVELS.findIndex((function(t){return t===e})))===this.state.scaleIndex&&this.resetScale(),-1!==n&&(this.state.scaleIndex=n,this.defaultScale=e))},e.prototype.setScaleToDefault=function(){this.state.scaleIndex=this.defaultIndex},e.prototype.checkOffset=function(e){var t=window.devicePixelRatio||1,n=this.scaledSize,r=this.previewSize,i=this.editor.engineMediator.preview.initialTransform.position,o=this.getPositionWithOffset(e),a=(n.width-r.width)*t/2,s=(n.height-r.height)*t/2,l=i.x-o.x,c=i.y-o.y,u=Math.abs(l)-a,d=Math.abs(c)-s;return{canDragX:u<0,canDragY:d<0,maxOffsetX:l>0?-u:u,maxOffsetY:c>0?-d:d}},e.prototype.calculateScale=function(e,t,n){void 0===e&&(e=0),void 0===t&&(t=this.previewSize),void 0===n&&(n=this.defaultScale);var r=t.width,i=t.height,o=new z({x:r,y:i}),a=new z(Math.abs(o.x*Math.cos(e))+Math.abs(o.y*Math.sin(e)),Math.abs(o.x*Math.sin(e))+Math.abs(o.y*Math.cos(e))),s=o.subtract(a).divide(2).multiply(n).abs;return s.y>s.x?2*s.y/o.y+n:2*s.x/o.x+n},Object.defineProperty(e.prototype,"defaultIndex",{get:function(){var e=this;return this.SCALE_LEVELS.findIndex((function(t){return t===e.defaultScale}))},enumerable:!0,configurable:!0}),e.prototype.getPositionWithOffset=function(e){void 0===e&&(e=this.offset);var t=this.position;return{x:t.x-e.x,y:t.y-e.y}},e.prototype.scaleRender=function(e){void 0===e&&(e=!1);var t=this.editor.scale.getPositionWithOffset(),n=e?this.defaultScale:this.scale,r={x:n,y:n};this.editor.engineMediator.preview.container.setScale(r),this.editor.engineMediator.preview.container.setPosition(t),this.editor.engineMediator.preview.savePreviewTransform({scale:r,position:t,rotation:0}),e||this.editor.render()},Object.defineProperty(e.prototype,"scale",{get:function(){var e=this.state.scaleIndex;return-1!==e?this.SCALE_LEVELS[e]:this.defaultScale},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"zoomLevel",{get:function(){var e=window.devicePixelRatio||1;return(this.scale/e*100).toFixed(1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canDrag",{get:function(){return this.defaultScale<this.scale},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canZoomOut",{get:function(){return this.state.scaleIndex>this.defaultIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canZoomIn",{get:function(){return this.SCALE_LEVELS.length-1>this.state.scaleIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.state.position},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaledSize",{get:function(){var e=this.state.scaleIndex,t=-1!==e?this.SCALE_LEVELS[e]:this.defaultScale,n=this.previewSize;return{width:n.width*t/this.defaultScale,height:n.height*t/this.defaultScale}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"previewSize",{get:function(){return this.editor.getPreviewSize()},enumerable:!0,configurable:!0}),C([hn],e.prototype,"state",void 0),C([yr],e.prototype,"in",void 0),C([yr],e.prototype,"out",void 0),C([yr],e.prototype,"setInitialTransform",null),C([yr],e.prototype,"resetScale",null),C([yr],e.prototype,"resetPosition",null),C([yr],e.prototype,"setPosition",null),C([yr],e.prototype,"savePosition",null),C([yr],e.prototype,"setDefaultScale",null),C([yr],e.prototype,"setScaleToDefault",null),C([_n],e.prototype,"scale",null),C([_n],e.prototype,"zoomLevel",null),C([_n],e.prototype,"canDrag",null),C([_n],e.prototype,"canZoomOut",null),C([_n],e.prototype,"canZoomIn",null),C([_n],e.prototype,"position",null),C([_n],e.prototype,"scaledSize",null),e}(),Es=/^data:image\/(.+?);base64,/,ks=function(){function e(e){var t=this;this.applySerialization=function(e,n,r,i){return T(t,void 0,void 0,(function(){var t,o,a,s,l,c,u;return O(this,(function(d){switch(d.label){case 0:return this.editor.resetToolStates(),(t=this.editor.activeStore.tool===j.TRANSFORM)||this.editor.transformToolStore.onEnter(),this.editor.transformToolStore.reset(),t||this.editor.transformToolStore.onLeave(),o=new n(this.editor),a="Unexpected error occured",(s=n.deserializeImage(e)).image&&s.image.data?(l=s.image.data,[4,this.editor.setImage(l)]):[3,3];case 1:return d.sent(),this.editor.scale.defaultScale=1,this.editor.scale.resetOffset(),this.editor.transformToolStore.reset(),this.editor.activeStore.setImage(l),[4,this.editor.engineMediator.image.addImageToContainer()];case 2:d.sent(),this.editor.engineMediator.output.applyNewImageTransform(),this.editor.engineMediator.preview.updateTransform(),this.editor.scale.setInitialTransform(),this.editor.transformToolStore.setCropDefaults(),this.editor.historyStore.addInitialSnapshot(),this.editor.transformToolStore.saveTransforms(),d.label=3;case 3:return(c=o.deserializeTransformation(e))?[4,this.applyStateOnUI(c)]:[3,9];case 4:return d.sent(),(u=o.deserialize(e))?[4,this.applyStateOnUI(u)]:[3,7];case 5:return d.sent(),[4,this.editor.render()];case 6:return d.sent(),"loading"===this.editor.modalStore.identifier&&this.editor.modalStore.hideModal(),r(),[3,8];case 7:i(a),d.label=8;case 8:return[3,10];case 9:i(a),d.label=10;case 10:return[2]}}))}))},this.editor=e}return e.prototype.serialize=function(t){var n=this,r=(void 0===t?{image:!1}:t).image,i=this.editor.activeStore.tool===j.TRANSFORM;return this.editor.modalStore.showInfoModal("saving"),new Promise((function(t,o){import("./index-1563d0cf.js").then((function(a){var s=a.Serializer;return T(n,void 0,void 0,(function(){var n,a,l,c,u,d,p,f,h,m,g,y,v;return O(this,(function(b){switch(b.label){case 0:return b.trys.push([0,2,,3]),i&&this.editor.transformToolStore.onLeave(),[4,this.editor.wait()];case 1:return b.sent(),this.editor.transformToolStore.applyDefaultCrop(!1),a=this.editor.imageContainer.getData().originalImage,l=this.editor.engineMediator.output.container.getResolution(),c={width:a.width,height:a.height},u=new s(this.editor.transformToolStore.defaultCropMaskPosition,this.editor.transformToolStore.maxCropMaskSize,l,c,this.editor.engine.getRootContainers()[0],this.editor.engine.getOutputContainer()),(n={})[j.ADJUSTMENT]=Ar(this.editor.adjustmentsToolStore.state),n[j.FILTER]=Ar(this.editor.filterToolStore.state),n[j.FOCUS]=Ar(this.editor.focusToolStore.serializableState),n[j.OVERLAY]=Ar(this.editor.overlayToolStore.state),n[j.FRAME]=Ar(this.editor.frameToolStore.state),n[j.BRUSH]=this.editor.brushToolStore.strokes||{strokes:[]},d=n,p=this.editor.spriteStore.serializableState,f=p.sprite,h=p.customStickers,f.spriteIdList=f.spriteIdList.sort((function(e,t){return f.common[e].order-f.common[t].order})),d.sprite=f,d.customStickers=h,d.transform=this.editor.transformToolStore.serializableState,m=void 0,g=void 0,r&&(y=e.getDataURL(a),g=function(e){return e.match(/^data:([^;]+)/)[1]}(y),m=function(e){return e.replace(Es,"")}(y)),this.editor.modalStore.hideModal(),t(u.serialise(d,m,g)),i&&this.editor.transformToolStore.onEnter(),[3,3];case 2:return v=b.sent(),this.editor.modalStore.hideModal(),o(v),[3,3];case 3:return[2]}}))}))}))}))},e.prototype.deserialize=function(e){var t=this;return this.editor.modalStore.showInfoModal("loading"),new Promise((function(n,r){try{import("./index-1563d0cf.js").then((function(i){var o=i.Deserializer;o.checkIsSerialisationValid(e)?t.applySerialization(e,o,n,r):(t.editor.modalStore.hideModal(),t.editor.modalStore.showActionModal({identifier:"unsupportedSerializationVersion",handlers:{buttonYes:function(){return t.applySerialization(e,o,n,r)}}}))}))}catch(e){"loading"===t.editor.modalStore.identifier&&t.editor.modalStore.hideModal(),r(e)}}))},e.getDataURL=function(e){if(e instanceof HTMLCanvasElement)return e.toDataURL(Z.PNG);var t,n=e.src;if(t=n,Es.test(t))return n;var r=document.createElement("canvas");return r.width=e.width,r.height=e.height,r.getContext("2d").drawImage(e,0,0),r.toDataURL(Z.PNG)},e.prototype.applyStateOnUI=function(e){return T(this,void 0,void 0,(function(){var t,n;return O(this,(function(r){switch(r.label){case 0:t=this.editor.activeStore.tool===j.TRANSFORM,r.label=1;case 1:return r.trys.push([1,15,,16]),e.transform?(t||this.editor.transformToolStore.onEnter(),this.editor.transformToolStore.updateStateFromSerialization(e.transform,!0),[4,this.editor.wait()]):[3,4];case 2:return r.sent(),t?[3,4]:(this.editor.transformToolStore.onLeave(),this.editor.transformToolStore.onEnter(),[4,this.editor.wait()]);case 3:r.sent(),this.editor.transformToolStore.onLeave(),r.label=4;case 4:return e.filter?[4,this.editor.filterToolStore.updateStateFromSerialization(e.filter)]:[3,6];case 5:r.sent(),r.label=6;case 6:return e.adjustment&&this.editor.adjustmentsToolStore.updateStateFromSerialization(e.adjustment),e.focus?[4,this.editor.focusToolStore.updateStateFromSerialization(e.focus)]:[3,8];case 7:r.sent(),r.label=8;case 8:return e.overlay?[4,this.editor.overlayToolStore.updateStateFromSerialization(e.overlay)]:[3,10];case 9:r.sent(),r.label=10;case 10:return e.sprite?(e.sprite.spriteIdList=e.sprite.spriteIdList.sort((function(t,n){return e.sprite.common[t].order-e.sprite.common[n].order})),[4,this.editor.spriteStore.updateStateFromSerialization(e.sprite,e.customStickers)]):[3,12];case 11:r.sent(),r.label=12;case 12:return e.brush&&this.editor.brushToolStore.updateStateFromHistory(e.brush),e.frame?[4,this.editor.frameToolStore.updateStateFromSerialization(e.frame)]:[3,14];case 13:r.sent(),r.label=14;case 14:return this.editor.outputContainer.updateChildrenContainers(),[3,16];case 15:return n=r.sent(),console.error(n),this.editor.modalStore.showActionModal({identifier:"unexpectedError",error:n,handlers:{buttonYes:function(){window.location.reload()}}}),[3,16];case 16:return[2]}}))}))},e}(),Cs={identifier:"identity",opacity:1,width:0,color:at.white},Ts=new Ei(0,1),Os=function(){function e(e){this.engineMediator=e,this.state=Cs}return e.prototype.changeIdentifier=function(e){this.state.identifier=e},e.prototype.changeOpacity=function(e){var t=Ts.clamp(e);this.state.opacity=t},e.prototype.changeWidth=function(e){this.state.width=e},e.prototype.changeColor=function(e){this.state.color=e},e.prototype.reset=function(){-1===this.indexInContainer&&(this.state.identifier=Cs.identifier,this.state.opacity=Cs.opacity,this.state.width=Cs.width,this.state.color=Cs.color,this.removeIndex())},Object.defineProperty(e.prototype,"engine",{get:function(){return this.engineMediator.engine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageContainer",{get:function(){return this.engineMediator.image.container},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"indexInContainer",{get:function(){return this.effect?this.effect.getIndexInParent():-1},enumerable:!0,configurable:!0}),e.prototype.removeFrameEffect=function(){this.effect&&(this.engine.removeEffect(this.effect),this.effect=void 0)},e.prototype.setEffectProperties=function(e){return this.effect?(this.removeIndex(),this.effect.setProperties(e),this.effect.getProperties()):null},e.prototype.setFrameEffect=function(e){var t=this,n=e.identifier,r=e.width,i=e.opacity,o=e.color,a=E({},this.state);this.changeIdentifier(n),this.changeWidth(r),this.changeOpacity(i),this.changeColor(o),this.removeFrameEffect();var s=this.engineMediator.orderHelper.addSprite(n);return new Promise((function(e,l){t.engine.addFrameFromAssets(n,t.engineMediator.image.container,s).then((function(n){t.effect=n,t.effect.setProperties({tintColor:o,opacity:i,width:r}),e()})).catch((function(e){t.changeIdentifier(a.identifier),t.changeOpacity(a.opacity),t.changeWidth(a.width),t.changeColor(a.color),"identity"===a.identifier&&t.removeIndex(),l(e)}))}))},e.prototype.removeIndex=function(){this.engineMediator.orderHelper.removeSprite(this.state.identifier)},C([hn],e.prototype,"state",void 0),C([yr],e.prototype,"changeIdentifier",null),C([yr],e.prototype,"changeOpacity",null),C([yr],e.prototype,"changeWidth",null),C([yr],e.prototype,"changeColor",null),C([yr],e.prototype,"reset",null),e}(),Is=function(){function e(e){var t=this;this.changeOpacity=function(e){var n=t.frameStore.setEffectProperties({opacity:e});n&&(t.frameStore.changeOpacity(n.opacity),t.editor.render())},this.changeWidth=function(e){var n=t.frameStore.setEffectProperties({width:e});n&&(t.frameStore.changeWidth(n.width),t.editor.render())},this.changeColor=function(e){var n=t.frameStore.setEffectProperties({tintColor:e});n&&(t.frameStore.changeColor(n.tintColor),t.editor.render())},this.colorSnapshot=function(){t.addSnapshot("edit",t.locale.controls.selectColor)},this.reset=function(){t.pureReset(),t.addSnapshot("delete",t.locale.controls.buttonReset),t.editor.render()},this.editor=e,this.frameStore=new Os(this.editor.engineMediator);var n=this.editor.assetProvider.getAssets("frame"),r=this.config;this.entityManager=new Ti([{identifier:"",name:"",items:n}],E({},r,{categoryKey:"",itemKey:"thumbnailURI",flattenCategories:!0,locale:this.locale.items,getAssetPath:this.editor.getAssetPath("frame")}))}return Object.defineProperty(e,"colors",{get:function(){return al.defaultColors},enumerable:!0,configurable:!0}),e.prototype.selectFrame=function(e){return T(this,void 0,void 0,(function(){var t;return O(this,(function(n){switch(n.label){case 0:return e===this.identifier?[3,2]:(t=.1*this.editor.shortestOutputSide,[4,this.frameStore.setFrameEffect({identifier:e,width:t,opacity:1,color:Cs.color})]);case 1:n.sent(),this.editor.render(),this.addSnapshot("add",j.FRAME),n.label=2;case 2:return[2]}}))}))},e.prototype.toolSnapshot=function(e){this.addSnapshot("edit",e)},e.prototype.addSnapshot=function(e,t){this.editor.addSnapshot(void 0,e,t)},e.prototype.pureReset=function(){this.frameStore.removeFrameEffect(),this.frameStore.reset()},e.prototype.updateStateFromHistory=function(e){return"identity"===e.identifier?(this.pureReset(),new Promise((function(e){e()}))):this.frameStore.setFrameEffect(e)},e.prototype.updateStateFromSerialization=function(e){return T(this,void 0,void 0,(function(){return O(this,(function(t){return this.entityManager.items.find((function(t){return t.identifier===e.identifier}))?[2,this.frameStore.setFrameEffect(e)]:[2,new Promise((function(e,t){t(new Error("Frame Asset doesn't exist"))}))]}))}))},Object.defineProperty(e.prototype,"state",{get:function(){return this.frameStore.state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.state.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this.state.color},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.state.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tintable",{get:function(){var e=this,t=this.entityManager.items.find((function(t){return t.identifier===e.identifier}));return t&&t.tintable||!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opacity",{get:function(){return this.state.opacity},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minSize",{get:function(){return.05*this.editor.shortestOutputSide},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxSize",{get:function(){return.3*this.editor.shortestOutputSide},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this.editor.configStore.config[j.FRAME]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this.editor.configStore.locale[j.FRAME]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localeColor",{get:function(){return this.editor.configStore.locale.common.color},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"entities",{get:function(){return this.entityManager.getEntities()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOptionSelected",{get:function(){return"identity"!==this.identifier},enumerable:!0,configurable:!0}),C([yr],e.prototype,"selectFrame",null),C([yr],e.prototype,"changeOpacity",void 0),C([yr],e.prototype,"changeWidth",void 0),C([yr],e.prototype,"changeColor",void 0),C([yr],e.prototype,"pureReset",null),C([yr],e.prototype,"reset",void 0),C([yr],e.prototype,"updateStateFromHistory",null),C([yr],e.prototype,"updateStateFromSerialization",null),C([_n],e.prototype,"state",null),C([_n],e.prototype,"identifier",null),C([_n],e.prototype,"color",null),C([_n],e.prototype,"size",null),C([_n],e.prototype,"tintable",null),C([_n],e.prototype,"opacity",null),C([_n],e.prototype,"minSize",null),C([_n],e.prototype,"maxSize",null),C([_n],e.prototype,"config",null),C([_n],e.prototype,"locale",null),C([_n],e.prototype,"localeColor",null),C([_n],e.prototype,"entities",null),C([_n],e.prototype,"isOptionSelected",null),e}(),Rs={options:[],query:""},Ms=function(){function e(e){var t=this;this.initProvider=function(e){e&&(t.libraryProvider=new e)},this.addOptionsToSelectedCategory=function(e,t,n){var r=e.findIndex((function(e){return e.identifier===t}));return-1!==r?M(e.slice(0,r+1),n,e.slice(r+1)):e},this.configStore=e.configStore,this.state=hn(Rs),this.selectedCategory=""}return e.prototype.saveScrollbar=function(e){this.scrollbar=e},e.prototype.recalculateScrollContainer=function(){var e=this;setTimeout((function(){return e.scrollbar.recalculate()}),0)},e.prototype.fetchImages=function(e){return void 0===e&&(e=""),T(this,void 0,void 0,(function(){var t,n,r,i,o,a=this;return O(this,(function(s){switch(s.label){case 0:return this.libraryProvider?(t=[this.libraryProvider.getCategories(),this.libraryProvider.searchImages(e)],[4,Promise.all(t)]):[3,2];case 1:n=R.apply(void 0,[s.sent(),2]),r=n[0],i=n[1],o=r.map((function(e){var t=i.filter((function(t){return t.category===e.name}));return{identifier:e.name,defaultName:e.name,coverImage:e.coverImageUrl,options:t.map((function(e,t){return{defaultName:"image"+t,identifier:e.thumbUrl,coverImage:e.thumbUrl,rawUrl:e.rawUrl}}))}})).filter((function(e){return e.options.length})),vr((function(){a.state.query=e,a.state.options=o})),s.label=2;case 2:return[2]}}))}))},e.prototype.toggleCategorySelection=function(e){this.selectedCategory=this.selectedCategory!==e?e:""},Object.defineProperty(e.prototype,"selectedCategoryIdentifier",{get:function(){return this.selectedCategory},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"images",{get:function(){return this.state.options.map((function(e){return e.options})).reduce((function(e,t){return M(e,t)}),[])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"query",{get:function(){return this.state.query},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this.configStore.config[j.LIBRARY]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this.configStore.locale[j.LIBRARY]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"categories",{get:function(){return this.state.options.map((function(e,t){return{type:B.LARGE,identifier:e.defaultName,defaultName:e.defaultName,coverImage:e.coverImage,delay:.08*t,items:e.options.map((function(e,t){return E({type:B.MEDIUM,delay:.08*t},e)}))}}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){var e=this.selectedCategory,t=this.state.options.findIndex((function(t){return t.defaultName===e}));return-1!==t?this.state.options[t].options.map((function(e,t){return E({type:B.MEDIUM,delay:.08*t},e)})):[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"categoriesAndOptions",{get:function(){return this.addOptionsToSelectedCategory(this.categories,this.selectedCategory,this.options)},enumerable:!0,configurable:!0}),e.prototype.getRawUrl=function(e){var t=this.images.findIndex((function(t){return t.identifier===e}));return-1!==t?this.images[t].rawUrl:e},C([hn],e.prototype,"selectedCategory",void 0),C([yr],e.prototype,"saveScrollbar",null),C([yr],e.prototype,"recalculateScrollContainer",null),C([yr],e.prototype,"initProvider",void 0),C([yr],e.prototype,"fetchImages",null),C([yr],e.prototype,"toggleCategorySelection",null),C([_n],e.prototype,"selectedCategoryIdentifier",null),C([_n],e.prototype,"images",null),C([_n],e.prototype,"query",null),C([_n],e.prototype,"config",null),C([_n],e.prototype,"locale",null),C([_n],e.prototype,"categories",null),C([_n],e.prototype,"options",null),C([_n],e.prototype,"categoriesAndOptions",null),e}(),As=function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),i=new Uint8Array(r),o=0;o<t.length;o+=1)i[o]=t.charCodeAt(o);return new Blob([r],{type:n})},Ps={size:10,color:at.white,hardness:.5},zs=function(){function e(e){var t=this;this.dirty=hn.box(!1),this.id="",this.containerId=function(){return t.id},this.changeColor=function(e){t.state.color=e},this.changeSize=function(e){t.state.size=e},this.changeHardness=function(e){t.state.hardness=e},this.reset=function(){t.pureReset(),t.addSnapshot("delete",t.locale.controls.buttonReset),t.editor.render()},this.editor=e,this.state=Ps}return Object.defineProperty(e,"colors",{get:function(){return al.defaultColors},enumerable:!0,configurable:!0}),e.prototype.addSnapshot=function(e,t){this.editor.addSnapshot(void 0,e,t)},e.prototype.clickableCanvas=function(e){this.editor.clickableCanvas(e)},e.prototype.beginStroke=function(e){if(void 0===e&&(e=[]),!this.drawingContainer){var t=this.editor.orderHelper.addSprite(j.BRUSH);this.drawingContainer=this.editor.engine.addDrawing({strokes:e},this.editor.imageContainer,t)}this.id=this.drawingContainer.getID(),this.drawingContainer.beginStroke({id:"imgly_brush_radial",color:Ar(this.state.color),size:this.state.size,hardness:this.state.hardness})},e.prototype.strokePosition=function(e){if(this.drawingContainer){var t=this.editor.previewToWorld(e,!1);this.drawingContainer.addPointToCurrentStroke(t),this.editor.render()}},e.prototype.endStroke=function(){this.drawingContainer&&(this.drawingContainer.endStroke(),this.editor.render(),this.strokes=this.drawingContainer.getData(),this.addSnapshot("edit",this.locale.history.brushStroke),this.dirty.set(!0))},e.prototype.updateStateFromHistory=function(e){if(e=e||{strokes:[]},this.drawingContainer){if(this.strokes&&this.strokes.strokes.length===e.strokes.length)return;this.strokes=e,this.drawingContainer.setData(this.strokes),0!==e.strokes.length&&this.dirty.set(!0)}else{var t=this.editor.orderHelper.addSprite(j.BRUSH);this.drawingContainer=this.editor.engine.addDrawing({strokes:e.strokes},this.editor.imageContainer,t),this.strokes=this.drawingContainer.getData()}this.id=this.drawingContainer.getID()},e.prototype.pureReset=function(){this.dirty.set(!1),this.strokes={strokes:[]},this.drawingContainer&&(this.editor.engine.removeContainer(this.drawingContainer),this.drawingContainer=void 0)},Object.defineProperty(e.prototype,"config",{get:function(){return this.editor.configStore.config[j.BRUSH]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this.editor.configStore.locale[j.BRUSH]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localeColor",{get:function(){return this.editor.configStore.locale.common.color},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this.state.color},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.state.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sizeOnScreenSpace",{get:function(){return this.editor.worldToPreview(this.state.size)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hardness",{get:function(){return this.state.hardness},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDirty",{get:function(){return this.dirty.get()},enumerable:!0,configurable:!0}),C([hn],e.prototype,"state",void 0),C([hn],e.prototype,"dirty",void 0),C([yr],e.prototype,"changeColor",void 0),C([yr],e.prototype,"changeSize",void 0),C([yr],e.prototype,"changeHardness",void 0),C([yr],e.prototype,"clickableCanvas",null),C([yr],e.prototype,"beginStroke",null),C([yr],e.prototype,"strokePosition",null),C([yr],e.prototype,"endStroke",null),C([yr],e.prototype,"updateStateFromHistory",null),C([yr],e.prototype,"reset",void 0),C([_n],e.prototype,"config",null),C([_n],e.prototype,"locale",null),C([_n],e.prototype,"localeColor",null),C([_n],e.prototype,"color",null),C([_n],e.prototype,"size",null),C([_n],e.prototype,"sizeOnScreenSpace",null),C([_n],e.prototype,"hardness",null),C([_n],e.prototype,"isDirty",null),e}();!function(e){e.LEADING="leading",e.CENTER="center",e.TRAILING="trailing"}(hs||(hs={}));var Ds={horizontalGuides:[],verticalGuides:[],rotationGuides:[]},Ls=function(){function e(e){var t=this;this.previewTopLeftPosition={x:0,y:0},this.getGuideValue=function(e,n){var r=t.editor.getPreviewSize(),i=r.height,o=r.width,a=t.configStore.config.snapping.position,s=a.snapToLeft,l=a.snapToRight,c=a.snapToTop,u=a.snapToBottom,d=Math.min(i,o),p=0;return"bottom"===n?p=Math.round(i-d*u):"top"===n?p=Math.round(d*c):"right"===n?p=Math.round(o-d*l):"left"===n?p=Math.round(d*s):"vertical"===e&&"center"===n?p=Math.round(o/2):"horizontal"===e&&"center"===n&&(p=Math.round(i/2)),p},this.getVerticalGuidesFromConfig=function(){var e=t.configStore.config.snapping.position,n=e.snapToVerticalCenter,r=e.snapToLeft,i=e.snapToRight,o=[];return n&&o.push({value:t.getGuideValue("vertical","center"),edge:hs.CENTER,isVisible:!1,direction:"vertical"}),r&&o.push({value:t.getGuideValue("vertical","left"),edge:hs.LEADING,isVisible:!1,direction:"vertical"}),i&&o.push({value:t.getGuideValue("vertical","right"),edge:hs.TRAILING,isVisible:!1,direction:"vertical"}),o},this.getHorizontalGuidesFromConfig=function(){var e=t.configStore.config.snapping.position,n=e.snapToHorizontalCenter,r=e.snapToTop,i=e.snapToBottom,o=[];return n&&o.push({value:t.getGuideValue("horizontal","center"),edge:hs.CENTER,isVisible:!1,direction:"horizontal"}),r&&o.push({value:t.getGuideValue("horizontal","top"),edge:hs.LEADING,isVisible:!1,direction:"horizontal"}),i&&o.push({value:t.getGuideValue("horizontal","bottom"),edge:hs.TRAILING,isVisible:!1,direction:"horizontal"}),o},this.getRotationGuidesFromConfig=function(){var e=t.configStore.config.snapping.rotation.angles,n=[];return e.forEach((function(e){n.push(e),n.push(e+360),n.push(e-360)})),n.filter((function(e,t){return n.indexOf(e)===t})).map((function(e){return{value:e*Math.PI/180,edge:hs.CENTER,isVisible:!1,position:{x:0,y:0}}}))},this.getSpriteDimensions=function(e){var t=e.leftTop,n=e.leftBottom,r=e.rightTop,i=e.rightBottom,o=Math.min(t.y,r.y,n.y,i.y),a=Math.max(t.y,r.y,n.y,i.y),s=Math.min(t.x,r.x,n.x,i.x),l=Math.max(t.x,r.x,n.x,i.x);return{height:Math.round(a-o),width:Math.round(l-s)}},this.mapRange=function(e){var t=e.value,n=e.fromMin,r=e.fromLength,i=e.toMin;return(t-n)*e.toLength/r+i},this.updateGuides=function(){t.state.horizontalGuides=t.getHorizontalGuidesFromConfig(),t.state.verticalGuides=t.getVerticalGuidesFromConfig()},this.mapToSnapSystem=function(e,n,r,i){if(0===n.length)return e;if(n[0]>e)return e-r;for(var o=0;o<n.length-1;o+=1){var a=n[o],s=n[o+1],l=a+r,c=s-r,u=0;i&&(l+=u=o*r*2,c+=u+2*r);if(a<=e&&e<=s)return e<=a+1e-5?a+u:e>=s-1e-5?s+u+(i?2*r:0):t.mapRange({value:e,fromMin:a,fromLength:s-a,toMin:l,toLength:c-l})}return i?e+(n.length-1)*r*2+r:e},this.mapFromSnapSystem=function(e,n,r,i){if(0===n.length)return e;if(n[0]>e)return e>=n[0]-r?n[0]:e+r;for(var o=e,a=0;a<n.length-1;a+=1){var s=n[a],l=n[a+1],c=s+r,u=l-r,d=l;if(i&&(u+=2*r,d+=2*r,o=e-a*r*2),s<=o&&o<=d)return c<=o&&o<=u?t.mapRange({value:o,fromMin:c,fromLength:u-c,toMin:s,toLength:l-s}):o<c?s:l}o-=3*r;var p=n[n.length-1];return o<=p?p:o},this.centerSnapValue=function(e,t){var n=.5*t,r=e.value,i=e.edge,o=r;return i===hs.LEADING?o+=n:i===hs.TRAILING&&(o-=n),o},this.mapSnappingGuidesToCenter=function(e,n){var r=[];return e.forEach((function(e){r.push(t.centerSnapValue(e,n))})),r},this.calcSnapThresholdInRadians=function(e,t){return 0===e?0:t/e},this.calculatePreviewTopLeftPosition=function(){var e=t.editor.engineMediator.preview.container.getPosition(),n=t.editor.getPreviewSize(),r=al.devicePixelRatio;t.previewTopLeftPosition={x:e.x/r-n.width/2,y:e.y/r-n.height/2}},this.snapToRotation=function(e,n,r){var i=t.state.rotationGuides,o=t.configStore.config.snapping.rotation,a=o.enabled,s=o.threshold,l=t.previewTopLeftPosition,c=l.x,u=l.y,d=t.editor.getPreviewSize().width,p=(e+2*Math.PI)%(2*Math.PI);if(a){var f=new z(n).magnitude,h=i.map((function(e){return e.value})).sort((function(e,t){return e-t})),m=t.calcSnapThresholdInRadians(f,s);if(!t.rotationOffset){var g=t.mapToSnapSystem(e,h,m,!1);t.rotationOffset=g-p}p=t.mapFromSnapSystem(p+t.rotationOffset,h,m,!1);var y={x:r.position.x-c-d,y:r.position.y-u};return i.forEach((function(e){e.isVisible=e.value===p,e.position=y})),p}return e},this.snapToPosition=function(e,n){var r=t.state,i=r.horizontalGuides,o=r.verticalGuides,a=t.configStore.config.snapping.position,s=a.enabled,l=a.threshold,c=new z(t.previewTopLeftPosition),u=t.getSpriteDimensions(n),d=u.height,p=u.width,f=new z(e).subtract(c),h=f.x,m=f.y;if(s){var g=t.mapSnappingGuidesToCenter(i,d).sort((function(e,t){return e-t})),y=t.mapSnappingGuidesToCenter(o,p).sort((function(e,t){return e-t}));if(!t.positionOffset){var v=t.mapToSnapSystem(h,y,l,!0),b=t.mapToSnapSystem(m,g,l,!0);t.positionOffset=new z(v,b).subtract(new z(h,m))}var _=t.mapFromSnapSystem(h+t.positionOffset.x,y,l,!0),x=t.mapFromSnapSystem(m+t.positionOffset.y,g,l,!0);return _=Math.round(_),x=Math.round(x),i.forEach((function(e){var n=Math.round(t.centerSnapValue(e,d));e.isVisible=n===x})),o.forEach((function(e){var n=Math.round(t.centerSnapValue(e,p));e.isVisible=n===_})),new z(_,x).add(c)}return{x:h,y:m}},this.editor=e,this.configStore=e.configStore,this.state=hn(Ds),this.rotationOffset=null,this.positionOffset=null,this.state.horizontalGuides=this.getHorizontalGuidesFromConfig(),this.state.verticalGuides=this.getVerticalGuidesFromConfig(),this.state.rotationGuides=this.getRotationGuidesFromConfig()}return e.prototype.hidePositionGuides=function(){this.positionOffset=null,this.state.verticalGuides=this.state.verticalGuides.map((function(e){return E({},e,{isVisible:!1})})),this.state.horizontalGuides=this.state.horizontalGuides.map((function(e){return E({},e,{isVisible:!1})}))},e.prototype.hideRotationGuides=function(){this.rotationOffset=null,this.state.rotationGuides=this.state.rotationGuides.map((function(e){return E({},e,{isVisible:!1})}))},Object.defineProperty(e.prototype,"positionGuides",{get:function(){var e=this.state;return M(e.verticalGuides,e.horizontalGuides)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationGuides",{get:function(){return this.state.rotationGuides},enumerable:!0,configurable:!0}),C([hn],e.prototype,"state",void 0),C([yr],e.prototype,"snapToRotation",void 0),C([yr],e.prototype,"snapToPosition",void 0),C([yr],e.prototype,"hidePositionGuides",null),C([yr],e.prototype,"hideRotationGuides",null),C([_n],e.prototype,"positionGuides",null),C([_n],e.prototype,"rotationGuides",null),e}(),Fs={text:"Write Something",identifier:"imgly_font_open_sans_bold",fontSize:73.3,defaultFontSize:73.3,fontFamily:"Open Sans",fontStyle:"",fontWeight:"bold",lineHeight:1,alignment:"center",textColor:at.white,backgroundColor:at.transparent||[0,0,0,0],width:0},js={},Bs={100:"Extra Light",200:"Light",300:"Book",400:"Regular",500:"Medium",600:"Semibold",700:"Bold",800:"Black",900:"Extra Black",bold:"Bold",normal:"Regular",lighter:"Lighter"},Us=function(){function e(e){var t=this;this.state=hn.map(js),this.loadingObservable=hn.box(!1),this.add=function(){t.loadfonts((function(){t.editor.spriteStore.addText({state:{identifier:Fs.identifier,text:Fs.text,textColor:Fs.textColor,backgroundColor:Fs.backgroundColor,lineHeight:Fs.lineHeight,alignment:Fs.alignment,fontSize:0}})}))},this.setEditMode=function(e){t.editor.spriteStore.setEditMode(e)},this.changeFont=function(e){var n=t.fonts.find((function(t){return t.identifier===e}));t.changeIdentifier(n,t.id),t.id&&t.addSnapshot("edit",t.locale.history.fontFamily)},this.changeIdentifier=function(e,n){vr((function(){if(e&&n){var r=t.state.get(n);if(r){t.editor.spriteStore.setContainerProperties(n,{fontIdentifier:e.identifier},!0);var i=t.editor.spriteStore.getContainerProperties(n);r.identifier=i.fontIdentifier,r.fontFamily=e.fontFamily,r.fontStyle=e.fontStyle,r.fontWeight=e.fontWeight,r.fontSize=i.fontSize,r.width=i.width,r.defaultFontSize=r.fontSize,t.state.set(n,r)}}}))},this.changeFontSize=function(e,n){if(void 0===n&&(n=!1),t.id){var r=t.state.get(t.id);r&&(r.fontSize=e,n&&(r.defaultFontSize=e),t.state.set(t.id,r))}},this.updateDefaultFontSize=function(){if(t.id){var e=t.state.get(t.id);e&&(e.defaultFontSize=e.fontSize,t.state.set(t.id,e))}},this.changeSize=function(e,n){var r=t.state.get(e);r&&(r.width=n.width,r.fontSize=n.fontSize,r.defaultFontSize=n.fontSize,t.state.set(e,r))},this.changeWidth=function(e){if(t.id){var n=t.state.get(t.id);n&&(n.width=e,t.state.set(t.id,n))}},this.changeText=function(e){if(t.id){var n=t.state.get(t.id);if(n){t.editor.spriteStore.setContainerProperties(t.id,{text:e},!0);var r=t.editor.spriteStore.getContainerProperties(t.id),i=t.editor.outputContainer.getSizeInOutputSpace(),o=t.editor.spriteStore.getSize(t.id);t.config.disableAutoScaling||o.height>i.height&&t.editor.spriteStore.setContainerProperties(t.id,{fontSize:t.calculateFitFontSize(t.id,i.height)},!0),r=t.editor.spriteStore.getContainerProperties(t.id),n.text=r.text,n.fontSize=r.fontSize,n.defaultFontSize=r.fontSize,t.state.set(t.id,n),t.addSnapshot("edit",t.locale.history.edit)}}},this.changeLineHeight=function(e){if(t.id){var n=t.state.get(t.id);if(n&&e){t.editor.spriteStore.setContainerProperties(t.id,{lineHeight:e},!0);var r=t.editor.spriteStore.getContainerProperties(t.id);n.lineHeight=r.lineHeight,t.state.set(t.id,n)}}},this.changeColor=function(e){if(t.id){var n=t.state.get(t.id);if(n){t.editor.spriteStore.setContainerProperties(t.id,{textColor:e});var r=t.editor.spriteStore.getContainerProperties(t.id);n.textColor=r.textColor,t.state.set(t.id,n)}}},this.changeBackgroundColor=function(e){if(t.id){var n=t.state.get(t.id);if(n){t.editor.spriteStore.setContainerProperties(t.id,{backgroundColor:e});var r=t.editor.spriteStore.getContainerProperties(t.id);n.backgroundColor=r.backgroundColor,t.state.set(t.id,n)}}},this.colorSnapshot=function(){t.addSnapshot("edit",t.locale.history.textColor)},this.backgroundColorSnapshot=function(){t.addSnapshot("edit",t.locale.history.backgroundColor)},this.changeAlignment=function(e){if(t.id){var n=t.state.get(t.id);if(n){t.editor.spriteStore.setContainerProperties(t.id,{alignment:e});var r=t.editor.spriteStore.getContainerProperties(t.id);n.alignment=r.alignment,t.state.set(t.id,n),t.addSnapshot("edit",t.locale.history.alignment)}}},this.setFontSize=function(e){if(t.id){var n=t.state.get(t.id);if(n){t.editor.spriteStore.setContainerProperties(t.id,{fontSize:e},!0);var r=t.editor.spriteStore.getContainerProperties(t.id);n.fontSize=r.fontSize,n.defaultFontSize=r.fontSize,t.state.set(t.id,n)}}},this.editor=e,this.fonts.find((function(e){return e.identifier===Fs.identifier}))||(Fs.identifier=this.fonts[0].identifier),Fs.text=this.locale.canvasControls.placeholderText}return e.defaultText=function(){return Fs.text},Object.defineProperty(e,"defaultColors",{get:function(){return al.defaultColors},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultBackgroundColors",{get:function(){return al.defaultBackgroundColors},enumerable:!0,configurable:!0}),e.getDisplayFontStyle=function(e){return((e.fontWeight&&"regular"!==Bs[e.fontWeight].toLowerCase()?Bs[e.fontWeight]:"")+" "+(e.fontStyle&&"normal"!==e.fontStyle.toLowerCase()?e.fontStyle:"")).trim()},e.prototype.loadfonts=function(e){var t=this;if(this.fontsLoaded)e();else{var n=this.editor.assetProvider.getFontManager(),r=this.editor.assetProvider.getFontAssetsForText().map((function(e){return e.identifier}));n.loadFontsWithIdentifiers(r).then((function(){t.loadingObservable.set(!0),e()})).catch((function(e){t.editor.modalStore.showActionModal({identifier:"fontLoading",handlers:{},error:e})}))}},e.prototype.doesTextAssetExist=function(e){return-1!==this.editor.assetProvider.getFontAssets().findIndex((function(t){return t.identifier===e}))},e.prototype.addOrselect=function(){this.state.size?this.selectLast():this.add()},e.prototype.selectLast=function(){this.editor.spriteStore.selectHighestOrderSprite(Array.from(this.state.keys()))},e.prototype.duplicate=function(){if(this.id){var e=this.editor.spriteStore.getDuplicateContainerTransform(this.id);this.editor.spriteStore.addText({state:{identifier:this.identifier,text:this.text,textColor:Ar(this.textColor),lineHeight:this.lineHeight,alignment:this.alignment,fontSize:this.fontSize,backgroundColor:Ar(this.backgroundColor),width:this.width},transform:e})}},e.prototype.bringToFront=function(){this.id&&this.editor.spriteStore.bringToFront(this.id)},e.prototype.delete=function(){if(this.id){var e=this.id;this.editor.spriteStore.removeSprite(e),this.state.delete(e),this.selectLast()}},e.prototype.calculateFitFontSize=function(t,n){if(!e.measureContext){var r=document.createElement("canvas");e.measureContext=r.getContext("2d")}for(var i=this.editor.spriteStore.getContainerProperties(t),o=this.editor.engine.assetProvider.getFontManager().getFontWithId(i.fontIdentifier),a=this.config.minFontSizeForAutoScaling,s=u(e.measureContext,i.text,o,i.fontSize,i.lineHeight,i.width,o.textMetrics),l=Math.min(Math.floor(i.fontSize*(n/s.height)),1),c=Math.round(i.fontSize),d=0,p=c-l,f=Math.floor(2*(c-l)),h=p;d<=f;){p=d+Math.floor((f-d)/2);var m=u(e.measureContext,i.text,o,p,i.lineHeight,i.width,o.textMetrics);if(n<m.height)f=p-1,h=p-1;else{if(!(n>m.height)){h=p;break}if(d=p+1,l+p>=c)return c}}return a&&h<a?a:h},e.prototype.toolSnapshot=function(){this.addSnapshot("edit",this.locale.history.lineSpacing)},e.prototype.addSnapshot=function(e,t){this.currentText&&this.editor.spriteStore.addSnapshot(e,t)},e.prototype.updateStateFromHistory=function(e,t){this.setState(e,t),this.editor.spriteStore.setContainerProperties(e,t)},e.prototype.setState=function(e,t){var n=this.state.get(e);if(n)t.alignment&&(n.alignment=t.alignment),t.text&&(n.text=t.text),t.lineHeight&&(n.lineHeight=t.lineHeight),t.textColor&&(n.textColor=t.textColor),t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.fontIdentifier&&(n.identifier=t.fontIdentifier),t.fontSize&&(n.fontSize=t.fontSize,n.defaultFontSize=t.fontSize),t.width&&(n.width=t.width);else{var r=this.fonts.find((function(e){return e.identifier===t.fontIdentifier}));this.state.set(e,{text:t.text,identifier:t.fontIdentifier,alignment:t.alignment,textColor:t.textColor?t.textColor:Fs.textColor,backgroundColor:t.backgroundColor?t.backgroundColor:Fs.backgroundColor,fontFamily:r.fontFamily,fontStyle:r.fontStyle,fontSize:t.fontSize,fontWeight:r.fontWeight,lineHeight:t.lineHeight,width:t.width,defaultFontSize:t.fontSize})}},e.prototype.pureReset=function(){this.state=hn.map(js)},Object.defineProperty(e.prototype,"isEditMode",{get:function(){return this.editor.spriteStore.isEditMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTextSelected",{get:function(){return this.editor.spriteStore.isSpriteText},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontsLoaded",{get:function(){return this.loadingObservable.get()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentText",{get:function(){if(this.isTextSelected){var e=this.state.get(this.id);if(e)return e}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this.currentText?this.currentText.text:Fs.text},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this.currentText?this.currentText.fontSize:Fs.fontSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultFontSize",{get:function(){return this.currentText?this.currentText.defaultFontSize:Fs.defaultFontSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.currentText?this.currentText.width:Fs.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this.currentText?this.currentText.fontFamily:Fs.fontFamily},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this.currentText?this.currentText.fontStyle:Fs.fontStyle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this.currentText?this.currentText.fontWeight:Fs.fontWeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineHeight",{get:function(){return this.currentText?this.currentText.lineHeight:Fs.lineHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.currentText?this.currentText.identifier:Fs.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){if(this.isTextSelected)return this.editor.spriteStore.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignment",{get:function(){return this.currentText?this.currentText.alignment:Fs.alignment},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textColor",{get:function(){return this.currentText?this.currentText.textColor:Fs.textColor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this.currentText?this.currentText.backgroundColor:Fs.backgroundColor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this.editor.configStore.config[j.TEXT]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this.editor.configStore.locale[j.TEXT]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localeColor",{get:function(){return this.editor.configStore.locale.common.color},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rawOptions",{get:function(){return this.editor.assetProvider.getFontAssetsForText()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"availableOptions",{get:function(){return this.config.fonts.length?this.config.fonts.map((function(e){return e.identifier})):this.rawOptions.map((function(e){return e.identifier}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fonts",{get:function(){var e=this;return this.rawOptions.reduce((function(t,n){return-1!==e.availableOptions.indexOf(n.identifier)?M(t,[{identifier:n.identifier,fontFamily:n.fontFamily,fontStyle:n.fontStyle||"",fontWeight:n.fontWeight||""}]):t}),[])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontFamilies",{get:function(){return M(new Set(this.fonts))},enumerable:!0,configurable:!0}),C([yr],e.prototype,"addOrselect",null),C([yr],e.prototype,"selectLast",null),C([yr],e.prototype,"add",void 0),C([yr],e.prototype,"duplicate",null),C([yr],e.prototype,"bringToFront",null),C([yr],e.prototype,"delete",null),C([yr],e.prototype,"setEditMode",void 0),C([yr],e.prototype,"changeFont",void 0),C([yr],e.prototype,"changeIdentifier",void 0),C([yr],e.prototype,"changeFontSize",void 0),C([yr],e.prototype,"updateDefaultFontSize",void 0),C([yr],e.prototype,"changeSize",void 0),C([yr],e.prototype,"changeWidth",void 0),C([yr],e.prototype,"changeText",void 0),C([yr],e.prototype,"changeLineHeight",void 0),C([yr],e.prototype,"changeColor",void 0),C([yr],e.prototype,"changeBackgroundColor",void 0),C([yr],e.prototype,"changeAlignment",void 0),C([yr],e.prototype,"updateStateFromHistory",null),C([yr],e.prototype,"setState",null),C([yr],e.prototype,"setFontSize",void 0),C([yr],e.prototype,"pureReset",null),C([_n],e.prototype,"isEditMode",null),C([_n],e.prototype,"isTextSelected",null),C([_n],e.prototype,"fontsLoaded",null),C([_n],e.prototype,"currentText",null),C([_n],e.prototype,"text",null),C([_n],e.prototype,"fontSize",null),C([_n],e.prototype,"defaultFontSize",null),C([_n],e.prototype,"width",null),C([_n],e.prototype,"fontFamily",null),C([_n],e.prototype,"fontStyle",null),C([_n],e.prototype,"fontWeight",null),C([_n],e.prototype,"lineHeight",null),C([_n],e.prototype,"identifier",null),C([_n],e.prototype,"id",null),C([_n],e.prototype,"alignment",null),C([_n],e.prototype,"textColor",null),C([_n],e.prototype,"backgroundColor",null),C([_n],e.prototype,"config",null),C([_n],e.prototype,"locale",null),C([_n],e.prototype,"localeColor",null),C([_n],e.prototype,"rawOptions",null),C([_n],e.prototype,"availableOptions",null),C([_n],e.prototype,"fonts",null),C([_n],e.prototype,"fontFamilies",null),e}(),Ns={identifier:"imgly_text_design_blocks",color:at.white,isInverted:!1,text:"Write Something With Style",seed:0,padding:0,width:0},Hs={imgly_text_design_blocks:835,imgly_text_design_rotated:6,imgly_text_design_blocks_light:3,imgly_text_design_equal_width:727,imgly_text_design_masked:259,imgly_text_design_celebrate:579,imgly_text_design_sunshine:77,imgly_text_design_masked_badge:683,imgly_text_design_blocks_condensed:673,imgly_text_design_celebrate_simple:425,imgly_text_design_equal_width_fat:961,imgly_text_design_watercolor:671,imgly_text_design_particles:683,imgly_text_design_masked_speech_bubble:317,imgly_text_design_masked_speech_bubble_comic:229,imgly_text_design_multiline:831},Ws={},Vs=function(){function e(e){var t=this;this.state=hn.map(Ws),this.fontsLoaded=!1,this.add=function(){t.loadfonts((function(){t.editor.spriteStore.addTextDesign({state:{identifier:Ns.identifier,text:Ns.text,color:Ns.color,isInverted:Ns.isInverted,seed:Hs[Ns.identifier]||Ns.seed,padding:0}})}))},this.changeText=function(e){if(t.id){var n=t.state.get(t.id);if(n){t.editor.spriteStore.setContainerProperties(t.id,{text:e},!0);var r=t.editor.spriteStore.getContainerProperties(t.id);n.text=r.text,t.state.set(t.id,n),t.addSnapshot("edit",t.locale.history.edit)}}},this.setEditMode=function(e){t.editor.spriteStore.setEditMode(e)},this.changeSeed=function(){if(t.id){var e=t.state.get(t.id);if(e){t.editor.spriteStore.setContainerProperties(t.id,{seed:-1},!0);var n=t.editor.spriteStore.getContainerProperties(t.id);e.seed=n.seed,t.state.set(t.id,e),t.addSnapshot("edit",t.locale.history.shuffle)}}},this.changeIdentifier=function(e,n,r,i){if(void 0===n&&(n=!0),void 0===r&&(r=null),void 0===i&&(i=t.id),i&&e!==t.identifier){var o=t.state.get(i),a=t.editor.spriteStore.getContainerTransform(i);t.editor.spriteStore.addTextDesign({spriteId:i,state:{identifier:e,text:o.text,color:Ar(o.color),isInverted:o.isInverted,seed:r||Hs[e]||o.seed,padding:o.padding,width:o.width},transform:a},n,!0)}},this.changeColor=function(e){if(t.id){var n=t.state.get(t.id);if(n){t.editor.spriteStore.setContainerProperties(t.id,{color:e});var r=t.editor.spriteStore.getContainerProperties(t.id);n.color=r.color,t.state.set(t.id,n)}}},this.colorSnapshot=function(){t.addSnapshot("edit",t.locale.history.color)},this.invertBackground=function(){if(t.id){var e=t.state.get(t.id);if(e){t.editor.spriteStore.setContainerProperties(t.id,{inverted:!e.isInverted},!0);var n=t.editor.spriteStore.getContainerProperties(t.id);e.isInverted=n.inverted,t.state.set(t.id,e),t.addSnapshot("edit",t.locale.history.invert)}}},this.changeWidth=function(e){if(t.id){var n=t.state.get(t.id);n&&(n.width=e,t.state.set(t.id,n))}},this.changePadding=function(e){if(t.id){var n=t.state.get(t.id);n&&(n.padding=e,t.state.set(t.id,n))}},this.editor=e,this.entityManager=new Ti([{identifier:"",name:"",items:this.editor.assetProvider.getAssets("textdesign")}],E({},this.config,{categoryKey:"",itemKey:"thumbnailURI",flattenCategories:!0,locale:{},getAssetPath:this.editor.getAssetPath("textdesign")})),this.entityManager.items.find((function(e){return e.identifier===Ns.identifier}))||(Ns.identifier=this.entityManager.items[0].identifier),Ns.text=this.locale.canvasControls.placeholderText}return Object.defineProperty(e,"colors",{get:function(){return al.defaultColors},enumerable:!0,configurable:!0}),e.defaultText=function(){return Ns.text},e.prototype.loadfonts=function(e){var t=this;if(this.fontsLoaded)e();else{var n=this.editor.assetProvider.getFontManager(),r=this.editor.assetProvider.getFontAssetsForTextDesign().map((function(e){return e.identifier}));n.loadFontsWithIdentifiers(r).then((function(){t.fontsLoaded=!0,e()})).catch((function(){t.editor.modalStore.showActionModal({identifier:"fontLoading",handlers:{},error:r[0]})}))}},e.prototype.doesTextDesignAssetExist=function(e){return-1!==this.entityManager.items.findIndex((function(t){return t.identifier===e}))},e.prototype.addOrselect=function(){this.state.size?this.selectLast():this.add()},e.prototype.selectLast=function(){this.editor.spriteStore.selectHighestOrderSprite(Array.from(this.state.keys()))},e.prototype.updateStateFromHistory=function(e,t){var n=this.state.get(e);t.identifier===n.identifier?(this.setState(e,t),this.editor.spriteStore.setContainerProperties(e,t)):this.changeIdentifier(t.identifier,!1,t.seed,e)},e.prototype.setState=function(e,t){var n=this.state.get(e);n?(t.inverted&&(n.isInverted=t.inverted),t.seed&&(n.seed=t.seed),t.color&&(n.color=t.color),t.padding&&(n.padding=t.padding),t.width&&(n.width=t.width)):this.state.set(e,{width:t.width,text:t.text,isInverted:t.inverted,identifier:t.identifier,seed:t.seed,color:t.color?t.color:Ns.color,padding:t.padding})},e.prototype.duplicate=function(){if(this.id){var e=this.editor.spriteStore.getDuplicateContainerTransform(this.id);this.editor.spriteStore.addTextDesign({state:{identifier:this.identifier,text:this.text,color:Ar(this.color),isInverted:this.isInverted,seed:this.seed,padding:this.padding,width:this.width},transform:e})}},e.prototype.bringToFront=function(){this.id&&this.editor.spriteStore.bringToFront(this.id)},e.prototype.addSnapshot=function(e,t){this.currentTextDesign&&this.editor.spriteStore.addSnapshot(e,t)},e.prototype.delete=function(e){void 0===e&&(e=this.id),e&&(this.editor.spriteStore.removeSprite(e),this.state.delete(e),this.selectLast())},e.prototype.pureReset=function(){this.state=hn.map(Ws)},Object.defineProperty(e.prototype,"isTextDesignSelected",{get:function(){return this.editor.spriteStore.isSpriteTextDesign},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEditMode",{get:function(){return this.editor.spriteStore.isEditMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentTextDesign",{get:function(){if(this.isTextDesignSelected&&this.id){var e=this.state.get(this.id);if(e)return e}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){if(this.isTextDesignSelected)return this.editor.spriteStore.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this.currentTextDesign?this.currentTextDesign.text:Ns.text},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.currentTextDesign?this.currentTextDesign.seed:Ns.seed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this.currentTextDesign?this.currentTextDesign.padding:Ns.padding},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.currentTextDesign?this.currentTextDesign.width:Ns.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.currentTextDesign?this.currentTextDesign.identifier:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInverted",{get:function(){return this.currentTextDesign?this.currentTextDesign.isInverted:Ns.isInverted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this.currentTextDesign?this.currentTextDesign.color:Ns.color},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this.editor.configStore.config[j.TEXT_DESIGN]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this.editor.configStore.locale[j.TEXT_DESIGN]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localeColor",{get:function(){return this.editor.configStore.locale.common.color},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"entities",{get:function(){return this.entityManager.getEntities()},enumerable:!0,configurable:!0}),C([yr],e.prototype,"addOrselect",null),C([yr],e.prototype,"selectLast",null),C([yr],e.prototype,"add",void 0),C([yr],e.prototype,"updateStateFromHistory",null),C([yr],e.prototype,"setState",null),C([yr],e.prototype,"changeText",void 0),C([yr],e.prototype,"setEditMode",void 0),C([yr],e.prototype,"duplicate",null),C([yr],e.prototype,"bringToFront",null),C([yr],e.prototype,"delete",null),C([yr],e.prototype,"changeSeed",void 0),C([yr],e.prototype,"changeIdentifier",void 0),C([yr],e.prototype,"changeColor",void 0),C([yr],e.prototype,"invertBackground",void 0),C([yr],e.prototype,"changeWidth",void 0),C([yr],e.prototype,"changePadding",void 0),C([yr],e.prototype,"pureReset",null),C([_n],e.prototype,"isTextDesignSelected",null),C([_n],e.prototype,"isEditMode",null),C([_n],e.prototype,"currentTextDesign",null),C([_n],e.prototype,"id",null),C([_n],e.prototype,"text",null),C([_n],e.prototype,"seed",null),C([_n],e.prototype,"padding",null),C([_n],e.prototype,"width",null),C([_n],e.prototype,"identifier",null),C([_n],e.prototype,"isInverted",null),C([_n],e.prototype,"color",null),C([_n],e.prototype,"config",null),C([_n],e.prototype,"locale",null),C([_n],e.prototype,"localeColor",null),C([_n],e.prototype,"entities",null),e}(),Gs=[[0,0],[0,1],[1,0],[1,1]],Xs=[[0,1,2,3],[2,3,0,1],[1,0,3,2],[3,2,1,0]],Ys=function(){function e(t,n,r,i,o){void 0===r&&(r="center"),void 0===i&&(i=!0),void 0===o&&(o=!1),this.considerRotation=!0,this.considerFlip=!0,this.store=n,this.m="center"===r?e.movePivotTo([.5,.5]):Gs,this.considerRotation=i,this.considerFlip=o,this.configStore=t.configStore}return e.getFlippedEdgeIndex=function(e,t,n){return Xs[(t?1:0)+(n?2:0)][e]},e.movePivotTo=function(e){return Gs.map((function(t){return[t[0]-e[0],t[1]-e[1]]}))},Object.defineProperty(e.prototype,"position",{get:function(){return this.store.position},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.store.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.considerRotation?this.store.rotationWRTOutputRotation:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flipHorizontally",{get:function(){return!!this.considerFlip&&this.store.isFlippedHorizontal},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flipVertically",{get:function(){return!!this.considerFlip&&this.store.isFlippedVertical},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flipCenter",{get:function(){return this.considerFlip?this.store.flipCenter:null},enumerable:!0,configurable:!0}),e.prototype.handleOrigin=function(t,n,r){var i=e.getFlippedEdgeIndex(t,n,r);return{width:this.m[i][0]*this.size.width,height:this.m[i][1]*this.size.height}},Object.defineProperty(e.prototype,"leftTop",{get:function(){var t=this.position,n=this.flipHorizontally,r=this.flipVertically,i=this.handleOrigin(0,n,r);return e.coordinatesWithRotation(i,this.rotation,this.flipHorizontally,this.flipVertically,this.flipCenter,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftBottom",{get:function(){var t=this.position,n=this.flipHorizontally,r=this.flipVertically,i=this.handleOrigin(1,n,r);return e.coordinatesWithRotation(i,this.rotation,this.flipHorizontally,this.flipVertically,this.flipCenter,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightTop",{get:function(){var t=this.position,n=this.flipHorizontally,r=this.flipVertically,i=this.handleOrigin(2,n,r);return e.coordinatesWithRotation(i,this.rotation,this.flipHorizontally,this.flipVertically,this.flipCenter,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightBottom",{get:function(){var t=this.position,n=this.flipHorizontally,r=this.flipVertically,i=this.handleOrigin(3,n,r);return e.coordinatesWithRotation(i,this.rotation,this.flipHorizontally,this.flipVertically,this.flipCenter,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftBottomHandle",{get:function(){var t=this.position,n=this.flipHorizontally,r=this.flipVertically,i=this.handleOrigin(1,n,r);return i.height+=this.configStore.measurements.canvasControls.sprite.rotateHandle.height,e.coordinatesWithRotation(i,this.rotation,this.flipHorizontally,this.flipVertically,this.flipCenter,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightBottomHandle",{get:function(){var t=this.position,n=this.flipHorizontally,r=this.flipVertically,i=this.handleOrigin(3,n,r);return i.height+=this.configStore.measurements.canvasControls.sprite.rotateHandle.height,e.coordinatesWithRotation(i,this.rotation,this.flipHorizontally,this.flipVertically,this.flipCenter,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftMid",{get:function(){var e=new z(this.leftTop),t=new z(this.leftBottom);return e.add(t).divide(2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightMid",{get:function(){var e=new z(this.rightTop),t=new z(this.rightBottom);return e.add(t).divide(2)},enumerable:!0,configurable:!0}),e.coordinatesWithRotation=function(e,t,n,r,i,o){var a=e.width,s=e.height,l=a*Math.cos(t)-s*Math.sin(t)+o.x,c=a*Math.sin(t)+s*Math.cos(t)+o.y;return n&&(l=2*i.x-l),r&&(c=2*i.y-c),new z({x:l,y:c}).rounded},C([_n],e.prototype,"position",null),C([_n],e.prototype,"size",null),C([_n],e.prototype,"rotation",null),C([_n],e.prototype,"flipHorizontally",null),C([_n],e.prototype,"flipVertically",null),C([_n],e.prototype,"flipCenter",null),C([_n],e.prototype,"leftTop",null),C([_n],e.prototype,"leftBottom",null),C([_n],e.prototype,"rightTop",null),C([_n],e.prototype,"rightBottom",null),C([_n],e.prototype,"leftBottomHandle",null),C([_n],e.prototype,"rightBottomHandle",null),C([_n],e.prototype,"leftMid",null),C([_n],e.prototype,"rightMid",null),e}();function Ks(e,t){return void 0===t&&(t=!1),new Promise((function(n,r){var i=new Image;i.addEventListener("load",(function(){var r=null;if(t){var o=document.createElement("canvas"),a=o.getContext("2d"),s=150*i.height/i.width;o.width=150,o.height=s,a.drawImage(i,0,0,150,s),r=o.toDataURL()}n({image:e,smallImage:r})})),i.addEventListener("error",(function(){r()})),i.src=e}))}function qs(e,t){var n=this;return void 0===t&&(t=!1),new Promise((function(r,i){var o=new FileReader;o.onload=function(o){return T(n,void 0,void 0,(function(){return O(this,(function(n){return Ks(o.target.result,t).then((function(t){r(E({},t,{name:e.name||"",type:e.type,id:L()}))})).catch((function(e){i(e)})),[2]}))}))},o.readAsDataURL(e)}))}var $s,Zs=function(e){return{height:e.y,width:e.x}},Js={},Qs={x:0,y:0},el=function(){function e(e){var t=this;this.state=hn.map(Js),this.selectedId=hn.box("none"),this.editMode=hn.box(!1),this.dragMode=hn.box(!1),this.minLength=0,this.setEditMode=function(e){t.currentSprite&&-1!==[j.TEXT,j.TEXT_DESIGN].indexOf(t.tool)&&(e?t.editor.modalStore.showModalOfType(Le.TEXT_EDIT):t.editor.modalStore.hideModal(),t.editMode.set(e))},this.onWidthDrag=function(e){var n=e.x,r=e.y,i=new z(t.currentSprite.position),o=new z(n,r).subtract(i).magnitude,a=t.editor.previewToWorld(2*o);if(a>t.minLength&&(t.setContainerProperties(t.id,{width:a},!0),t.isSpriteText)){var s=t.getContainerProperties(t.id);t.textToolStore.changeWidth(s.width)}},this.onPaddingDrag=function(e){var n=e.x,r=e.y;if(t.isSpriteTextDesign){var i=t.getContainerProperties(t.id),o=new z(t.currentSprite.position),a=new z(n,r).subtract(o).magnitude,s=Math.max(t.editor.previewToWorld(a)-i.width/2,0);t.setContainerProperties(t.id,{padding:s},!0),t.isSpriteTextDesign&&(i=t.getContainerProperties(t.id),t.textDesignToolStore.changePadding(i.padding))}},this.correctTextFlip=function(){var e=t.editor.outputContainer.getData(),n=e.flipHorizontally,r=e.flipVertically;Object.values(t.container).forEach((function(e){"text"!==e.type&&"text-design"!==e.type||(e.setFlipHorizontally(n),e.setFlipVertically(r))}))},this.reverseTextHorizontally=function(){Object.values(t.container).forEach((function(e){"text"!==e.type&&"text-design"!==e.type||e.setFlipHorizontally(!e.getFlipHorizontally())}))},this.reverseTextVertically=function(){Object.values(t.container).forEach((function(e){"text"!==e.type&&"text-design"!==e.type||e.setFlipVertically(!e.getFlipVertically())}))},this.updatePositionAndSize=function(e,n){void 0===e&&(e=t.id),void 0===n&&(n=!1);var r=t.getSizePositionFromContainer(e),i=r.position,o=r.size,a=t.state.get(e);if(a){if(a.position.x=i.x,a.position.y=i.y,a.size.width=o.width,a.size.height=o.height,n){var s=t.container[e].getRotation();t.container[e].setRotation(s),a.rotation=t.container[e].getRotation()}t.state.set(e,a)}},this.getSize=function(e){void 0===e&&(e=t.id);var n=t.container[e];return n?t.editor.worldSizeToPreview(n.getSizeInWorldSpace()):{width:0,height:0}},this.editor=e,this.container={},this.stickerToolStore=new sl(e),this.textToolStore=new Us(e),this.textDesignToolStore=new Vs(e),this.rect=new Ys(this.editor,this),this.minLength=this.editor.configStore.measurements.canvasControls.sprite.minSize/Math.sqrt(2)}return e.magnitude=function(e,t){return new z(e,t||e).magnitude},e.sizeMagnitude=function(e){return Math.sqrt(e.width*e.width+e.height*e.height)},e.prototype.addSticker=function(e,t){return void 0===t&&(t=!0),T(this,void 0,void 0,(function(){return O(this,(function(n){switch(n.label){case 0:return[4,this.addStickerAsync(e,t)];case 1:return n.sent(),[2]}}))}))},e.prototype.addStickerAsync=function(t,n){var r=t.spriteId,i=t.state,o=t.transform;return void 0===n&&(n=!0),T(this,void 0,void 0,(function(){var t=this;return O(this,(function(a){return[2,new Promise((function(a,s){o=t.getInitialTransform(o);var l=i.identifier,c=t.editor.orderHelper.addSprite(l);t.editor.engine.addStickerFromAssets(l,t.editor.engineMediator.image.container,c).then((function(s){return T(t,void 0,void 0,(function(){var t,c,u,d,p,f,h,m,g;return O(this,(function(y){switch(y.label){case 0:return r&&s.setData({id:r}),t=s.getID(),this.container[t]=s,this.editor.orderHelper.renameSprite(l,t),(c=this.getSize(t)).width*=s.getScale().x,c.height*=s.getScale().y,s.setPivot(.5,.5),o.scale?u=o.scale:o.size?u={x:o.size.width/c.width,y:o.size.height/c.height}:(d=.4*this.editor.shortestOutputSide,p=e.magnitude(d)/e.sizeMagnitude(s.getSizeInWorldSpace()),u={x:p,y:p}),f=this.editor.outputContainer.getData(),h=f.flipHorizontally,m=f.flipVertically,s.setFlipHorizontally(h),s.setFlipVertically(m),s.setTransform({position:o.position,scale:u,rotation:o.rotation}),void 0!==i.flipHorizontally&&s.setFlipHorizontally(i.flipHorizontally!==h),void 0!==i.flipVertically&&s.setFlipVertically(i.flipVertically!==m),this.setContainerProperties(t,E({},i)),g=s.getData(),this.setInitialSpriteState(t,j.STICKER),this.stickerToolStore.setState(t,E({},g,{identifier:l})),[4,this.editor.renderPromise()];case 1:return y.sent(),n&&(this.selectedId.set(t),this.addSnapshot("add",this.stickerLocale.add)),a(),[2]}}))}))})).catch((function(e){console.error(e),s()}))}))]}))}))},e.prototype.addText=function(e,t){return void 0===t&&(t=!0),T(this,void 0,void 0,(function(){return O(this,(function(n){switch(n.label){case 0:return[4,this.addTextAsync(e,t)];case 1:return n.sent(),[2]}}))}))},e.prototype.addTextAsync=function(e,t){var n=this,r=e.spriteId,i=e.state,o=e.transform;return void 0===t&&(t=!0),new Promise((function(e,a){o=n.getInitialTransform(o);var s=n.editor.orderHelper.addSprite(i.identifier),l=n.editor.shortestOutputSide,c={fontIdentifier:i.identifier,text:i.text,width:i.width||.6*l,fontSize:i.fontSize||.1*l,lineHeight:i.lineHeight,alignment:i.alignment,textColor:i.textColor,backgroundColor:i.backgroundColor};i.backgroundColor===Fs.backgroundColor&&delete c.backgroundColor,n.editor.engine.addTextWithFontLoading(c,n.editor.engineMediator.image.container,s).then((function(a){return T(n,void 0,void 0,(function(){var n,s,l,c,u;return O(this,(function(d){switch(d.label){case 0:return r&&a.setData({id:r}),n=a.getID(),this.container[n]=a,this.editor.orderHelper.renameSprite(i.identifier,this.id),s=this.editor.outputContainer.getData(),l=s.flipHorizontally,c=s.flipVertically,a.setFlipHorizontally(l),a.setFlipVertically(c),a.setPivot(.5,.5),a.setPosition(o.position),a.setRotation(o.rotation),this.setInitialSpriteState(n,j.TEXT),u=a.getData(),this.textToolStore.setState(n,E({},u)),[4,this.editor.renderPromise()];case 1:return d.sent(),t&&(this.selectedId.set(n),this.addSnapshot("add",this.textLocale.add)),e(),[2]}}))}))})).catch((function(e){console.error(e),a()}))}))},e.prototype.addTextDesign=function(e,t,n){return void 0===t&&(t=!0),void 0===n&&(n=!1),T(this,void 0,void 0,(function(){return O(this,(function(r){switch(r.label){case 0:return[4,this.addTextDesignAsync(e,t,n)];case 1:return r.sent(),[2]}}))}))},e.prototype.addTextDesignAsync=function(e,t,n){var r=this,i=e.spriteId,o=e.state,a=e.transform;return void 0===t&&(t=!0),void 0===n&&(n=!1),new Promise((function(e,s){a=r.getInitialTransform(a);var l=r.editor.orderHelper.addSprite(o.identifier),c=r.editor.shortestOutputSide,u={width:o.width||.6*c,text:o.text,color:o.color,inverted:o.isInverted,seed:o.seed,padding:o.padding};r.editor.engine.addTextDesignAsync(o.identifier,u,r.editor.engineMediator.image.container,l).then((function(s){return T(r,void 0,void 0,(function(){var r,l,c,u,d;return O(this,(function(p){switch(p.label){case 0:return i&&(n&&(this.pureRemoveSprite(i),this.textDesignToolStore.state.delete(i)),s.setData({id:i})),r=s.getID(),this.container[r]=s,this.editor.orderHelper.renameSprite(o.identifier,this.id),l=this.editor.outputContainer.getData(),c=l.flipHorizontally,u=l.flipVertically,s.setFlipHorizontally(c),s.setFlipVertically(u),s.setPivot(.5,.5),s.setPosition(a.position),s.setRotation(a.rotation),this.setInitialSpriteState(r,j.TEXT_DESIGN),d=s.getData(),this.textDesignToolStore.setState(r,E({},d,{identifier:o.identifier})),[4,this.editor.renderPromise()];case 1:return p.sent(),t&&(this.selectedId.set(r),this.addSnapshot("add",this.textDesignLocale.add)),e(),[2]}}))}))})).catch((function(e){console.error(e),s()}))}))},e.prototype.spriteLocalTransform=function(){return{position:this.editor.previewToOutput(this.position),size:this.size,rotation:this.rotation}},e.prototype.clickableCanvas=function(e){this.editor.clickableCanvas(e)},e.prototype.setContainerProperties=function(e,t,n){void 0===n&&(n=!1),this.container[e].setData(t),n&&this.updatePositionAndSize(),this.editor.render()},e.prototype.setContainerPosition=function(e,t){this.container[e].setPosition(t)},e.prototype.pureRemoveSprite=function(e){return this.editor.engine.removeContainer(this.container[e]),-1===this.container[e].getIndexInParent()&&(delete this.container[e],this.state.delete(e),this.editor.orderHelper.removeSprite(e),!0)},e.prototype.deleteSprite=function(e){void 0===e&&(e=this.id);var t=this.state.get(e);t.tool===j.STICKER?this.stickerToolStore.delete():t.tool===j.TEXT?this.textToolStore.delete():t.tool===j.TEXT_DESIGN&&this.textDesignToolStore.delete()},e.prototype.removeSprite=function(e){this.pureRemoveSprite(e)&&(this.selectLast(),this.spriteSnapshot("delete"),this.editor.render())},e.prototype.addSnapshot=function(e,t){this.editor.addSnapshot(void 0,e,t)},e.prototype.spriteSnapshot=function(e){this.addSnapshot("edit",this.historyLocale[e])},e.prototype.updateStateFromHistory=function(e){return T(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,l,c,u,d,p=this;return O(this,(function(f){switch(f.label){case 0:if(t=Object.keys(this.container),(n=e.spriteIdList).length===t.length)return[3,9];r=t.filter((function(e){return-1===n.indexOf(e)})),i=n.filter((function(e){return-1===t.indexOf(e)})),r.forEach((function(e){p.pureRemoveSprite(e)})),o=0,f.label=1;case 1:return o<i.length?(a=i[o],s=e.common?e.common[a]:void 0,l=e.text?e.text[a]:void 0,c=e.sticker?e.sticker[a]:void 0,u=e.textdesign?e.textdesign[a]:void 0,s?(d={spriteId:a,transform:{size:s.size?Zs(z.fromSize(s.size)):void 0,position:new z(s.position),rotation:s.rotation}},l?[4,this.addNewText(d,l)]:[3,3]):[3,7]):[3,8];case 2:return f.sent(),[3,7];case 3:return u?[4,this.addNewTextDesign(d,u)]:[3,5];case 4:return f.sent(),[3,7];case 5:return c?[4,this.addNewSticker(d,E({},c,{flipHorizontally:s.flipHorizontally,flipVertically:s.flipVertically}))]:[3,7];case 6:f.sent(),f.label=7;case 7:return o+=1,[3,1];case 8:return[3,10];case 9:this.updateSpriteStateFromHistory(e),f.label=10;case 10:return[2]}}))}))},e.prototype.addNewText=function(e,t){return T(this,void 0,void 0,(function(){return O(this,(function(n){switch(n.label){case 0:return this.textToolStore.doesTextAssetExist(t.identifier)?[4,this.addTextAsync(E({},e,{state:t}),!1)]:[3,2];case 1:return n.sent(),[3,3];case 2:throw new Error("Text identifier "+t.identifier+" doesn't exist");case 3:return[2]}}))}))},e.prototype.addNewTextDesign=function(e,t){return T(this,void 0,void 0,(function(){return O(this,(function(n){switch(n.label){case 0:return this.textDesignToolStore.doesTextDesignAssetExist(t.identifier)?[4,this.addTextDesignAsync(E({},e,{state:t}),!1)]:[3,2];case 1:return n.sent(),[3,3];case 2:throw new Error("TextDesign identifier "+t.identifier+" doesn't exist");case 3:return[2]}}))}))},e.prototype.addNewSticker=function(e,t){return T(this,void 0,void 0,(function(){return O(this,(function(n){switch(n.label){case 0:return this.stickerToolStore.doesStickerAssetExist(t.identifier)?[4,this.addStickerAsync(E({},e,{state:t}),!1)]:[3,2];case 1:return n.sent(),[3,3];case 2:throw new Error("Sticker identifier "+t.identifier+" doesn't exist");case 3:return[2]}}))}))},e.prototype.updateSpriteStateFromHistory=function(e){return T(this,void 0,void 0,(function(){var t=this;return O(this,(function(n){return Object.keys(this.container).forEach((function(n){var r=e.common?e.common[n]:void 0,i=e.sticker?e.sticker[n]:void 0,o=e.text?e.text[n]:void 0,a=e.textdesign?e.textdesign[n]:void 0,s=t.state.get(n);if(s&&r){t.state.set(n,s);var l=t.container[n];l.setPosition(new z(r.position)),l.setRotation(r.rotation),s.rotation=l.getRotation(),void 0!==r.flipHorizontally&&l.setFlipHorizontally(r.flipHorizontally),void 0!==r.flipVertically&&l.setFlipVertically(r.flipVertically),i?(l.setSizeInWorldSpace(r.size),t.stickerToolStore.updateStateFromHistory(n,i)):o?t.textToolStore.updateStateFromHistory(n,E({},o,{fontIdentifier:o.identifier})):a&&t.textDesignToolStore.updateStateFromHistory(n,E({},a,{inverted:a.isInverted})),t.updatePositionAndSize(n)}})),[2]}))}))},e.prototype.getSpriteHistoryState=function(){var e,t=this,n=Ar(this.state),r=Ar(this.textToolStore.state),i=Ar(this.textDesignToolStore.state),o=((e={common:n})[j.STICKER]=Ar(this.stickerToolStore.state),e[j.TEXT]=r,e[j.TEXT_DESIGN]=i,e.spriteIdList=Object.keys(this.container),e);return Object.keys(o.common).forEach((function(e){o.common[e].size=t.container[e].getSizeInWorldSpace(),o.common[e].position=t.container[e].getPosition(),o.common[e].order=t.container[e].getIndexInParent()})),o},e.prototype.updateStateFromSerialization=function(e,t){return T(this,void 0,void 0,(function(){var n,r,i,o,a,s,l,c,u,d,p,f,h,m,g,y;return O(this,(function(v){switch(v.label){case 0:if(!t||!t.length)return[3,5];v.label=1;case 1:return v.trys.push([1,4,,5]),n=t.map((function(e){return Ks(e.raster.data,!0)})),[4,Promise.all(n)];case 2:return r=v.sent(),[4,this.stickerToolStore.addCustomStickerAsset(t.map((function(e,t){return{image:r[t].image,smallImage:r[t].smallImage,name:e.name,type:e.raster.type,id:e.identifier}})))];case 3:return v.sent(),[3,5];case 4:return v.sent(),this.editor.modalStore.hideModal(),this.editor.modalStore.showActionModal({identifier:"stickerLoading"}),[3,5];case 5:i=0,v.label=6;case 6:return i<e.spriteIdList.length?(o=e.spriteIdList[i],a=e.common?e.common[o]:void 0,s=e.sticker?e.sticker[o]:void 0,l=e.text?e.text[o]:void 0,c=e.textdesign?e.textdesign[o]:void 0,a?((u=a.size)&&(u={width:this.editor.worldToPreview(a.size.width),height:this.editor.worldToPreview(a.size.height)}),d=this.editor.outputContainer.getData(),p=d.flipHorizontally,f=d.flipVertically,h=this.editor.outputContainer.getRotation(),m=f!==p?a.rotation-h:a.rotation+h,g=f!==p?-m:m,y={spriteId:o,transform:{size:u,position:a.position,rotation:g}},l?[4,this.addNewText(y,l)]:[3,8]):[3,12]):[3,13];case 7:return v.sent(),[3,12];case 8:return c?[4,this.addNewTextDesign(y,c)]:[3,10];case 9:return v.sent(),[3,12];case 10:return s?[4,this.addNewSticker(y,E({},s,{flipHorizontally:a.flipHorizontally,flipVertically:a.flipVertically}))]:[3,12];case 11:v.sent(),v.label=12;case 12:return i+=1,[3,6];case 13:return[2]}}))}))},Object.defineProperty(e.prototype,"serializableState",{get:function(){var e=this,t=this.editor.spriteStore.getSpriteHistoryState();Object.keys(t.common).forEach((function(n){var r=e.editor.outputContainer.getData(),i=r.flipHorizontally,o=r.flipVertically,a=e.editor.outputContainer.getRotation(),s=o!==i?-t.common[n].rotation:t.common[n].rotation;t.common[n].rotation=o!==i?s+a:s-a}));var n=this.editor.spriteStore.stickerToolStore.customStickerIds.map((function(t){var n=t.identifier,r=t.type,i=e.editor.spriteStore.stickerToolStore.entities.find((function(e){return n===e.identifier}));if(i){var o=e.editor.assetProvider.getStickerAsset(i.identifier);if(ge(o))return{identifier:n,raster:{type:r,name:i.name,data:o.sticker}}}})).filter(Boolean);return{sprite:t,customStickers:n}},enumerable:!0,configurable:!0}),e.prototype.updateCanvasControls=function(){var e=this;Object.keys(this.container).forEach((function(t){e.updatePositionAndSize(t,!0);var n=e.state.get(t);if(n)if(n.tool===j.TEXT){var r=e.getContainerProperties(t);e.textToolStore.changeSize(t,r)}else if(n.tool===j.TEXT_DESIGN){r=e.getContainerProperties(t);e.textToolStore.changeWidth(r.width)}}))},e.prototype.setDragMode=function(e){this.dragMode.set(e)},e.prototype.setPosition=function(e){var t=this.currentSprite,n=this.container[this.id];if(t&&n){n.setPosition(this.editor.previewToWorld(e));var r=this.getSizePositionFromContainer().position;t.position.x=r.x,t.position.y=r.y,this.state.set(this.id,t),this.editor.render()}},e.prototype.setSize=function(e){var t=this.currentSprite;t&&(t.size.width=e.width,t.size.height=e.height,this.state.set(this.id,t))},e.prototype.setRotation=function(e){var t=this.currentSprite;if(t){var n=this.editor.outputContainer.getData(),r=n.flipHorizontally,i=n.flipVertically,o=this.editor.outputContainer.getRotation(),a=ji({rotation:e+o,flipHorizontally:r,flipVertically:i});this.container[this.id].setRotation(a),t.rotation=this.container[this.id].getRotation(),this.state.set(this.id,t),this.editor.render()}},e.prototype.onCanvasClick=function(e){this.isEditMode||this.selectHighestOrderSprite(e)},e.prototype.select=function(e){var t=this.state.get(e);t&&(this.editor.activeStore.tool!==t.tool&&this.editor.activeStore.selectTool(t.tool),this.selectedId.set(e))},e.prototype.selectLast=function(){var e=this.editor.orderHelper.getLastSpriteId();e&&this.select(e)},e.prototype.selectNext=function(){var e=this;if(this.currentSprite){var t=this.container[this.id].getIndexInParent();if(t){var n=Object.keys(this.container).find((function(n){return e.container[n].getIndexInParent()===t-1}));n&&this.select(n)}}},e.prototype.deselect=function(){this.selectedId.set("none")},e.prototype.bringToFront=function(e){var t=this.editor.orderHelper.bringToFront(e);this.container[e].setIndexInParent(t),this.spriteSnapshot("order"),this.editor.render()},e.prototype.flipHorizontally=function(e){var t=this.state.get(e),n=this.container[e];n.setFlipHorizontally(!n.getFlipHorizontally()),t.flipHorizontally=n.getFlipHorizontally(),this.spriteSnapshot("flip"),this.state.set(e,t),this.editor.render()},e.prototype.pureReset=function(){var e=this;this.selectedId.set("none"),Array.from(this.state.keys()).forEach((function(t){e.pureRemoveSprite(t)})),this.stickerToolStore.pureReset(),this.textToolStore.pureReset(),this.textDesignToolStore.pureReset()},e.prototype.selectHighestOrderSprite=function(e){var t=this,n=this.editor.brushToolStore.containerId();if((e=e.filter((function(e){return e!==n}))).length<1)this.deselect();else{var r="",i=0;e.forEach((function(e){var n=t.container[e],o=n&&n.getIndexInParent()||0;o>=i&&(i=o,r=e)})),this.select(r)}},e.prototype.onCornerDrag=function(t){var n=t.x,r=t.y;if(this.currentSprite){var i=new z(this.currentSprite.position),o=new z(n,r),a=o.subtract(i).magnitude,s=this.getSize(),l=2*a/e.sizeMagnitude(s);if(a>this.minLength)if(this.isSpriteSticker)if("unrestricted"!==this.stickerToolStore.resizeMode)this.setStickerSize({width:s.width*l,height:s.height*l});else{var c=this.rotationWRTOutputRotation,u=o.subtract(i),d=Math.cos(c),p=Math.sin(c),f=Math.max(Math.abs(u.x*d*2+u.y*p*2),this.minLength),h=Math.max(Math.abs(u.x*-p*2+u.y*d*2),this.minLength);this.setStickerSize({width:f,height:h})}else this.isSpriteText?this.setTextSize(s.width*l):this.isSpriteTextDesign&&this.setTextDesignScale(l);this.editor.render()}},Object.defineProperty(e.prototype,"currentSprite",{get:function(){if(this.isSpriteSelected)return this.state.get(this.id)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this.textDesignToolStore.padding},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEditMode",{get:function(){return this.editMode.get()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDragMode",{get:function(){return this.dragMode.get()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.selectedId.get()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSpriteSelected",{get:function(){return"none"!==this.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){if(this.currentSprite)return this.currentSprite.position},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tool",{get:function(){if(this.currentSprite)return this.currentSprite.tool},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){if(this.currentSprite)return this.currentSprite.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){if(this.currentSprite)return this.currentSprite.rotation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationWRTOutputRotation",{get:function(){if(this.currentSprite){var e=this.editor.outputContainer.getData(),t=e.flipHorizontally,n=e.flipVertically,r=this.editor.outputContainer.getRotation();return ji({rotation:this.currentSprite.rotation-r,flipHorizontally:t,flipVertically:n})}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flipHorizontal",{get:function(){if(this.currentSprite)return this.currentSprite.flipHorizontally},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSpriteSticker",{get:function(){return this.tool===j.STICKER},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSpriteText",{get:function(){return this.tool===j.TEXT},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSpriteTextDesign",{get:function(){return this.tool===j.TEXT_DESIGN},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spritePosition",{get:function(){if(this.currentSprite){var e=this.currentSprite.position,t=e.x,n=e.y,r=this.currentSprite.size,i=r.height,o=r.width;return{x:Math.round(t-o/2),y:Math.round(n-i/2)}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentRect",{get:function(){if(this.currentSprite)return this.rect},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftTopPosition",{get:function(){if(this.currentSprite)return this.rect.leftTop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftBottomPosition",{get:function(){if(this.currentSprite)return this.rect.leftBottom},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftMidPosition",{get:function(){if(this.currentSprite)return this.rect.leftMid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftMidPadPosition",{get:function(){if(this.currentSprite){var e=this.rect.leftMid;return{x:e.x-this.editor.worldToPreview(this.padding),y:e.y}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightTopPosition",{get:function(){if(this.currentSprite)return this.rect.rightTop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightBottomPosition",{get:function(){if(this.currentSprite)return this.rect.rightBottom},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightMidPosition",{get:function(){if(this.currentSprite)return this.rect.rightMid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightMidPadPosition",{get:function(){if(this.currentSprite){var e=this.rect.rightMid;return{x:e.x+this.editor.worldToPreview(this.padding),y:e.y}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftBottomHandlePosition",{get:function(){if(this.currentSprite)return this.rect.leftBottomHandle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightBottomHandlePosition",{get:function(){if(this.currentSprite)return this.rect.rightBottomHandle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"historyLocale",{get:function(){return this.isSpriteSticker?this.stickerLocale:this.isSpriteText?this.textDesignLocale:this.textLocale},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stickerLocale",{get:function(){return this.editor.configStore.locale[j.STICKER].history},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textLocale",{get:function(){return this.editor.configStore.locale[j.TEXT].history},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textDesignLocale",{get:function(){return this.editor.configStore.locale[j.TEXT_DESIGN].history},enumerable:!0,configurable:!0}),e.prototype.getOutputProperties=function(){return this.editor.outputContainer.getData()},e.prototype.getContainerProperties=function(e){return this.container[e].getData()},e.prototype.getContainerTransform=function(e){return this.container[e].getTransform()},e.prototype.getDuplicateContainerTransform=function(e){var t=this.container[e].getTransform(),n=.1*this.editor.shortestOutputSide,r=new z(t.position).add(new z(n,n));return E({},t,{position:r})},e.prototype.getDuplicateContainerFlip=function(e){return{flipHorizontally:this.container[e].getFlipHorizontally(),flipVertically:this.container[e].getFlipVertically()}},e.prototype.getInitialTransform=function(e){var t=this.editor.outputToWorld(Qs);return e?E({position:t},e):{rotation:this.editor.outputContainer.getRotation(),position:t}},e.prototype.setInitialSpriteState=function(e,t){var n=this.container[e],r=this.getSizePositionFromContainer(e),i=r.position,o=r.size,a=n.getRotation(),s=t===j.STICKER&&n.getFlipHorizontally(),l=t===j.STICKER&&n.getFlipVertically();this.state.set(e,{tool:t,position:i,rotation:a,size:o,flipHorizontally:s,flipVertically:l})},e.prototype.setStickerSize=function(e){var t=this.container[this.id];t.setSizeInWorldSpace(this.editor.previewSizeToWorld(e));var n=this.currentSprite;n&&(n.size=this.editor.worldSizeToPreview(t.getSizeInWorldSpace()),this.state.set(this.id,n))},e.prototype.setTextSize=function(e){var t=this.getContainerProperties(this.id),n={width:this.editor.previewToWorld(e)},r=n.width/t.width,i={fontSize:Math.round(t.fontSize*r)},o=this.isSpriteText?E({},n,i):n;n.width>this.minLength&&i.fontSize&&(this.setContainerProperties(this.id,o,!0),t=this.getContainerProperties(this.id),this.textToolStore.changeFontSize(t.fontSize,!0),this.textToolStore.changeWidth(t.width))},e.prototype.setTextDesignScale=function(e){var t=this.getContainerProperties(this.id),n=t.width*e;if(n>this.minLength){this.setContainerProperties(this.id,{width:n},!0);var r=this.getContainerProperties(this.id).width;this.textDesignToolStore.changeWidth(r),t=this.getContainerProperties(this.id),this.textDesignToolStore.changePadding(t.padding)}},e.prototype.getSizePositionFromContainer=function(e){void 0===e&&(e=this.id);var t=this.container[e];return t?{position:this.editor.worldToPreview(t.getPosition()),size:this.editor.worldSizeToPreview(t.getSizeInWorldSpace())}:{position:{x:0,y:0},size:{height:1,width:1}}},C([yr],e.prototype,"addSticker",null),C([yr],e.prototype,"addStickerAsync",null),C([yr],e.prototype,"addText",null),C([yr],e.prototype,"addTextAsync",null),C([yr],e.prototype,"addTextDesign",null),C([yr],e.prototype,"addTextDesignAsync",null),C([yr],e.prototype,"clickableCanvas",null),C([yr],e.prototype,"setContainerProperties",null),C([yr],e.prototype,"setContainerPosition",null),C([yr],e.prototype,"pureRemoveSprite",null),C([yr],e.prototype,"deleteSprite",null),C([yr],e.prototype,"removeSprite",null),C([yr],e.prototype,"addSnapshot",null),C([yr],e.prototype,"updateStateFromHistory",null),C([yr],e.prototype,"addNewText",null),C([yr],e.prototype,"addNewTextDesign",null),C([yr],e.prototype,"addNewSticker",null),C([yr],e.prototype,"updateSpriteStateFromHistory",null),C([yr],e.prototype,"updateStateFromSerialization",null),C([yr],e.prototype,"updateCanvasControls",null),C([yr],e.prototype,"setEditMode",void 0),C([yr],e.prototype,"setDragMode",null),C([yr],e.prototype,"setPosition",null),C([yr],e.prototype,"setSize",null),C([yr],e.prototype,"setRotation",null),C([yr],e.prototype,"onCanvasClick",null),C([yr],e.prototype,"select",null),C([yr],e.prototype,"selectLast",null),C([yr],e.prototype,"selectNext",null),C([yr],e.prototype,"deselect",null),C([yr],e.prototype,"bringToFront",null),C([yr],e.prototype,"flipHorizontally",null),C([yr],e.prototype,"pureReset",null),C([yr],e.prototype,"onCornerDrag",null),C([yr],e.prototype,"onWidthDrag",void 0),C([yr],e.prototype,"onPaddingDrag",void 0),C([yr],e.prototype,"correctTextFlip",void 0),C([yr],e.prototype,"reverseTextHorizontally",void 0),C([yr],e.prototype,"reverseTextVertically",void 0),C([_n],e.prototype,"currentSprite",null),C([_n],e.prototype,"padding",null),C([_n],e.prototype,"isEditMode",null),C([_n],e.prototype,"isDragMode",null),C([_n],e.prototype,"id",null),C([_n],e.prototype,"isSpriteSelected",null),C([_n],e.prototype,"position",null),C([_n],e.prototype,"tool",null),C([_n],e.prototype,"size",null),C([_n],e.prototype,"rotation",null),C([_n],e.prototype,"rotationWRTOutputRotation",null),C([_n],e.prototype,"flipHorizontal",null),C([_n],e.prototype,"isSpriteSticker",null),C([_n],e.prototype,"isSpriteText",null),C([_n],e.prototype,"isSpriteTextDesign",null),C([_n],e.prototype,"spritePosition",null),C([_n],e.prototype,"currentRect",null),C([_n],e.prototype,"leftTopPosition",null),C([_n],e.prototype,"leftBottomPosition",null),C([_n],e.prototype,"leftMidPosition",null),C([_n],e.prototype,"leftMidPadPosition",null),C([_n],e.prototype,"rightTopPosition",null),C([_n],e.prototype,"rightBottomPosition",null),C([_n],e.prototype,"rightMidPosition",null),C([_n],e.prototype,"rightMidPadPosition",null),C([_n],e.prototype,"leftBottomHandlePosition",null),C([_n],e.prototype,"rightBottomHandlePosition",null),C([_n],e.prototype,"historyLocale",null),C([_n],e.prototype,"stickerLocale",null),C([_n],e.prototype,"textLocale",null),C([_n],e.prototype,"textDesignLocale",null),e}(),tl={position:{x:0,y:0},size:{height:0,width:0},lockResolution:!1,forceDimensions:!1,ratio:"*"},nl={identifier:"identity",outputRotation:0,rotationInDegrees:0,flipHorizontally:!1,flipVertically:!1,cropState:hn.map({})},rl=function(){function e(e,t){this.minCropSize=0,this.state=nl,this.configStore=e.configStore,this.minCropSize=this.configStore.measurements.crop.minSize,this.defaults=t}return e.prototype.changeIdentifier=function(e){this.state.identifier=e,this.state.cropState.get(e)||this.state.cropState.set(e,E({},tl))},e.prototype.changeRatio=function(e){var t=this.state.cropState.get(this.identifier);t&&this.state.cropState.set(this.identifier,E({},t,{ratio:e}))},e.prototype.changeSize=function(e){var t=this.state.cropState.get(this.identifier);t&&(e.width&&e.width>0&&(t.size.width=Math.round(e.width)),e.height&&e.height>0&&(t.size.height=Math.round(e.height)),this.state.cropState.set(this.identifier,t))},e.prototype.changeHeight=function(e){var t=this.state.cropState.get(this.identifier);t&&e&&(t.size.height=Math.round(e),this.state.cropState.set(this.identifier,t))},e.prototype.changeWidth=function(e){var t=this.state.cropState.get(this.identifier);t&&e&&(t.size.width=Math.round(e),this.state.cropState.set(this.identifier,t))},e.prototype.changePositionX=function(e,t){var n=this.state.cropState.get(this.identifier);return!!(n&&e<=t-this.minCropSize&&e>=0)&&(n.position.x=Math.round(e),this.state.cropState.set(this.identifier,n),!0)},e.prototype.changePositionY=function(e,t){var n=this.state.cropState.get(this.identifier);return!!(n&&e<=t-this.minCropSize&&e>=0)&&(n.position.y=Math.round(e),this.state.cropState.set(this.identifier,n),!0)},e.prototype.changePosition=function(e,t){var n=this.state.cropState.get(this.identifier);return!!(n&&e.x<=t.width-this.minCropSize&&e.x>=0&&e.y<=t.height-this.minCropSize&&e.y>=0)&&(n.position.x=Math.round(e.x),n.position.y=Math.round(e.y),this.state.cropState.set(this.identifier,n),!0)},e.prototype.changeLockResolution=function(e){var t=this.state.cropState.get(this.identifier);t&&(t.lockResolution=void 0!==e?e:!t.lockResolution,this.state.cropState.set(this.identifier,t))},e.prototype.changeForceDimensions=function(e){var t=this.state.cropState.get(this.identifier);t&&(t.forceDimensions=e,this.state.cropState.set(this.identifier,t))},e.prototype.setRotation=function(e){this.state.rotationInDegrees=e},e.prototype.resetRotation=function(){this.state.rotationInDegrees=0},e.prototype.resetOutputRotation=function(){this.state.outputRotation=0},e.prototype.resetFlip=function(){this.state.flipHorizontally=!1,this.state.flipVertically=!1},e.prototype.updateFlip=function(e){var t=e.flipHorizontally,n=e.flipVertically;this.state.flipHorizontally=t,this.state.flipVertically=n},e.prototype.setOutputRotation=function(e){this.state.outputRotation=e},e.prototype.flipHorizontally=function(){this.state.flipHorizontally=!this.state.flipHorizontally},e.prototype.flipVertically=function(){this.state.flipVertically=!this.state.flipVertically},Object.defineProperty(e.prototype,"flipCenter",{get:function(){var e=this.defaults.maxCropMaskSize,t=e.width,n=e.height;return new z(t/2,n/2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFlippedHorizontal",{get:function(){return this.state.flipHorizontally},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFlippedVertical",{get:function(){return this.state.flipVertically},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.state.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.selectedCrop?this.selectedCrop.size.height:tl.size.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.selectedCrop?this.selectedCrop.size.width:tl.size.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.selectedCrop?this.selectedCrop.position:tl.position},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ratio",{get:function(){return this.selectedCrop?this.selectedCrop.ratio:tl.ratio},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.selectedCrop?this.selectedCrop.size:tl.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.selectedCrop?this.selectedCrop.position.x:tl.position.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.selectedCrop?this.selectedCrop.position.y:tl.position.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lockResolution",{get:function(){return this.selectedCrop?this.selectedCrop.lockResolution:tl.lockResolution},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"forceDimensions",{get:function(){return this.selectedCrop?this.selectedCrop.forceDimensions:tl.forceDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedCrop",{get:function(){return this.state.cropState.get(this.identifier)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationInDegrees",{get:function(){return this.state.rotationInDegrees},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputRotation",{get:function(){return this.state.outputRotation},enumerable:!0,configurable:!0}),C([hn],e.prototype,"state",void 0),C([yr],e.prototype,"changeIdentifier",null),C([yr],e.prototype,"changeRatio",null),C([yr],e.prototype,"changeSize",null),C([yr],e.prototype,"changeHeight",null),C([yr],e.prototype,"changeWidth",null),C([yr],e.prototype,"changePositionX",null),C([yr],e.prototype,"changePositionY",null),C([yr],e.prototype,"changePosition",null),C([yr],e.prototype,"changeLockResolution",null),C([yr],e.prototype,"changeForceDimensions",null),C([yr],e.prototype,"setRotation",null),C([yr],e.prototype,"resetRotation",null),C([yr],e.prototype,"resetOutputRotation",null),C([yr],e.prototype,"resetFlip",null),C([yr],e.prototype,"updateFlip",null),C([yr],e.prototype,"setOutputRotation",null),C([yr],e.prototype,"flipHorizontally",null),C([yr],e.prototype,"flipVertically",null),C([_n],e.prototype,"flipCenter",null),C([_n],e.prototype,"isFlippedHorizontal",null),C([_n],e.prototype,"isFlippedVertical",null),C([_n],e.prototype,"identifier",null),C([_n],e.prototype,"height",null),C([_n],e.prototype,"width",null),C([_n],e.prototype,"position",null),C([_n],e.prototype,"ratio",null),C([_n],e.prototype,"size",null),C([_n],e.prototype,"x",null),C([_n],e.prototype,"y",null),C([_n],e.prototype,"lockResolution",null),C([_n],e.prototype,"forceDimensions",null),C([_n],e.prototype,"selectedCrop",null),C([_n],e.prototype,"rotationInDegrees",null),C([_n],e.prototype,"outputRotation",null),e}(),il=function(){function e(e){this.transforms={output:JSON.stringify(P.IDENTITY),preview:JSON.stringify(P.IDENTITY)},this.editor=e,this.overlayOpacity=0,this.frameOpacity=0}return e.rotateOutput=function(e,t){switch(e%=360){case 90:case-270:return t.swapped.multiply(-1,1);case 180:case-180:return t.multiply(-1);case 270:case-90:return t.swapped.multiply(1,-1);default:return t}},e.prototype.onLeave=function(){var e=this.transformToolStore.rotateFlipState,t=e.flipHorizontally,n=e.flipVertically,r=e.rotation,i=e.outputRotation;"identity"!==this.editor.overlayToolStore.identifier&&this.editor.overlayToolStore.changeOpacity(this.overlayOpacity),"identity"!==this.editor.frameToolStore.identifier&&this.editor.frameToolStore.changeOpacity(this.frameOpacity);var o=this.editor.previewToWorld(new z(this.transformToolStore.leftTopRespectFlip).add(new z(this.transformToolStore.rightBottomRespectFlip)).divide(2).add(new z(this.transformToolStore.unRotatedDefaults.cropMaskPosition)),!0),a=this.engineMediator.preview.container,s=this.editor.outputContainer;s.setResolution(Ar(this.transformToolStore.localOutputImageSize)),s.setData({flipVertically:n,flipHorizontally:t});var l=a.getScale();this.editor.overlayToolStore.correctOverlayFlip(),this.saveTransforms();var c=1;if(this.transformToolStore.lockResolution){var u=this.transformToolStore,d=u.cropMaskSize,p=u.defaultImageSize,f=this.transformToolStore.maxCropMaskSize;c={height:d.height*p.height/f.height,width:d.width*p.width/f.width}.width/this.transformToolStore.localOutputImageSize.width}var h=c/(Math.abs(l.x)/this.transformToolStore.defaultScale),m={x:h,y:h},g=-(r-i);s.setTransform({scale:m,position:o,rotation:g}),this.editor.engineMediator.preview.updateTransform(0,!1),this.editor.scale.setInitialTransform(),this.editor.spriteStore.updateCanvasControls(),this.editor.focusToolStore.updateCanvasControls()},e.prototype.onEnter=function(){"identity"!==this.editor.overlayToolStore.identifier&&(this.overlayOpacity=this.editor.overlayToolStore.opacity,this.editor.overlayToolStore.changeOpacity(0)),"identity"!==this.editor.frameToolStore.identifier&&(this.frameOpacity=this.editor.frameToolStore.opacity,this.editor.frameToolStore.changeOpacity(0)),this.editor.scale.setScaleToDefault();var e=this.engineMediator.preview.container,t=this.editor.outputContainer,n=JSON.parse(this.transforms.preview);t.setResolution(Ar(this.transformToolStore.defaultImageSize)),e.setTransform(n),t.setTransform(JSON.parse(this.transforms.output));var r=n.scale;t.setData({flipVertically:!1,flipHorizontally:!1}),this.transformToolStore.transformStore.updateFlip({flipVertically:r.y<0,flipHorizontally:r.x<0}),this.engineMediator.preview.savePreviewTransform(n);var i=this.engineMediator.preview.calculateTransform().scale;this.editor.scale.setInitialTransform(i.x)},e.prototype.rotateOutputContainer=function(e){var t=this;void 0===e&&(e=!1),this.editor.outputContainer.rotate90(e),this.transformToolStore.transformStore.setOutputRotation(this.editor.outputContainer.getRotation());var n=this.transformToolStore.rotateFlipState.rotation;this.engineMediator.preview.updateTransform(n),vr((function(){t.editor.scale.setInitialTransform();var e=t.getScaleWithFlip(n);t.engineMediator.preview.container.setScale(e),t.transformToolStore.setCropDefaults(!0),t.transformToolStore.updateCropMask()})),this.editor.render()},e.prototype.applyPreviewTransform=function(){var e=this.transformToolStore.rotateFlipState,t=e.rotation,n=e.flipHorizontally,r=e.flipVertically,i=this.editor.scale.getPositionWithOffset(),o=this.getScaleWithFlip(),a=t;n&&(a=Fi(a)),r&&(a=Fi(a));var s={position:i,rotation:a,scale:o};this.engineMediator.preview.savePreviewTransform(s),this.engineMediator.preview.container.setTransform(s)},e.prototype.getScaleWithFlip=function(e){void 0===e&&(e=this.transformToolStore.rotateFlipState.rotation);var t=this.transformToolStore.rotateFlipState,n=t.flipHorizontally?-1:1,r=t.flipVertically?-1:1,i=this.editor.scale.calculateScale(e);return{x:i*n,y:i*r}},e.prototype.saveTransforms=function(){var e=JSON.stringify(this.engineMediator.preview.container.getTransform()),t=JSON.stringify(this.editor.outputContainer.getTransform());this.transforms={preview:e,output:t}},e.prototype.saveTransformsBasedOnFlip=function(){var e=this.engineMediator.preview.container.getTransform(),t=e.scale,n=this.editor.outputContainer.getData(),r=n.flipVertically,i=n.flipHorizontally,o=JSON.stringify(this.editor.outputContainer.getTransform());this.transforms={preview:JSON.stringify(E({},e,{scale:{x:i?-t.x:t.x,y:r?-t.y:t.y}})),output:o}},Object.defineProperty(e.prototype,"engineMediator",{get:function(){return this.editor.engineMediator},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transformToolStore",{get:function(){return this.editor.transformToolStore},enumerable:!0,configurable:!0}),e}(),ol=function(){function e(t){var n=this;this.unRotatedDefaults={cropMaskPosition:{x:0,y:0},scale:1},this.defaultAngle=0,this.dragMode=hn.box(!1),this.minCropSize=0,this.localSnapshotEnabled=!0,this.defaults={cropMaskPosition:{x:0,y:0},maxCropMaskSize:{width:0,height:0},imageSize:{width:0,height:0},scale:1},this.localOutputSize={width:0,height:0},this.defaultIdentifier="imgly_transform_common_custom",this.checkIfTransformThumbnailExits=function(e){var t=n.editor.configStore.config.assetBaseUrl;if("/"!==t[t.length-1]&&(t+="/"),t+"transform"===e)return!1;var r=new Image;try{return r.src=e,!0}catch(e){return!1}},this.reset=function(){n.transformStore.resetRotation(),n.transformStore.resetOutputRotation(),n.transformStore.resetFlip(),n.editor.spriteStore.correctTextFlip(),n.editor.overlayToolStore.correctOverlayFlip(),n.setDefaultAngle(0),0!==n.editor.outputContainer.getRotation()&&n.engineMediator.output.applyNewImageTransform(),n.engineMediator.output.container.setData({flipHorizontally:!1,flipVertically:!1}),n.engineMediator.preview.updateTransform(),n.editor.scale.setInitialTransform(),n.setCropDefaults(),n.applyInitialCrop(),n.editor.render()},this.changeLocalOutputSize=function(e){n.localOutputSize.height=Math.round(e.height),n.localOutputSize.width=Math.round(e.width)},this.changeDefaultScale=function(e){n.defaults.scale=e},this.changeLocalOutputHeight=function(e){n.localOutputSize.height=Math.round(e)},this.changeLocalOutputWidth=function(e){n.localOutputSize.width=Math.round(e)},this.changeLockResolution=function(){n.transformStore.changeLockResolution(),n.addLocalSnapshot()},this.rotateClockwise=function(){n.rotateOutputContainer(n.isFlippedVertical!==n.isFlippedHorizontal)},this.rotateAntiClockwise=function(){n.rotateOutputContainer(n.isFlippedVertical===n.isFlippedHorizontal)},this.flipHorizontally=function(e){void 0===e&&(e=!0),n.transformStore.flipHorizontally(),n.editor.spriteStore.reverseTextHorizontally(),n.transformRender(e),e&&n.addLocalSnapshot()},this.flipVertically=function(e){void 0===e&&(e=!0),n.transformStore.flipVertically(),n.editor.spriteStore.reverseTextVertically(),n.transformRender(e),e&&n.addLocalSnapshot()},this.applyDefaultCrop=function(e){void 0===e&&(e=!1),"identity"===n.identifier&&n.changeIdentifier(n.defaultIdentifier,e)},this.updateCropMask=function(){n.changeIdentifier(n.identifier,!0)},this.onLeftTop=function(e){var t=e.x,r=e.y,i=n.getRatio(),o=n.rightBottom,a=n,s=a.minCropMaskSize,l=a.maxCropMaskSize,c=Math.min(Math.max(0,t),o.x-s.width),u=Math.min(Math.max(0,r),o.y-s.height),d=o.x-c,p=o.y-u,f={width:Math.max(n.minCropSize,Math.min(d,l.width-c)),height:Math.max(n.minCropSize,Math.min(p,l.height-u))};if("*"===i)n.changePosition({x:c,y:u})&&n.changeCropAndOutputSize(f);else{var h=n.proportionalSize(i,f),m=new z(o).rounded.subtract({x:h.width,y:h.height});n.changePosition(m)&&n.changeCropAndOutputSize(h)}},this.onLeftBottom=function(e){var t=e.x,r=e.y,i=n.getRatio(),o=n.rightTop,a=n,s=a.minCropMaskSize,l=a.maxCropMaskSize,c=Math.min(Math.max(0,t),o.x-s.width),u=Math.max(0,r,o.y+s.height),d=o.x-c,p=u-o.y,f={width:Math.max(1,Math.min(d,l.width-c)),height:Math.max(1,Math.min(p,l.height-o.y))};if("*"===i){n.changeCropAndOutputSize(f)&&n.changePositionX(c)}else{var h=n.proportionalSize(i,f);n.changePositionX(Math.round(o.x)-h.width)&&n.changeCropAndOutputSize(h)}},this.onRightTop=function(e){var t=e.x,r=e.y,i=n.getRatio(),o=n.leftBottom,a=n,s=a.minCropMaskSize,l=a.maxCropMaskSize,c=Math.max(0,t,o.x+s.width),u=Math.min(Math.max(0,r),o.y-s.height),d=c-o.x,p=o.y-u,f={width:Math.max(1,Math.min(d,l.width-o.x)),height:Math.max(1,Math.min(p,l.height-u))};if("*"===i)n.changePositionY(u)&&n.changeCropAndOutputSize(f);else{var h=n.proportionalSize(i,f);n.changePositionY(Math.round(o.y)-h.height)&&n.changeCropAndOutputSize(h)}},this.onRightBottom=function(e){var t=e.x,r=e.y,i=n.getRatio(),o=n.leftTop,a=n,s=a.minCropMaskSize,l=a.maxCropMaskSize,c=Math.max(0,t,o.x+s.width),u=Math.max(0,r,o.y+s.height),d=c-o.x,p=u-o.y,f={width:Math.max(1,Math.min(d,l.width-o.x)),height:Math.max(1,Math.min(p,l.height-o.y))};if("*"===i)n.changeCropAndOutputSize(f);else{var h=n.proportionalSize(i,f);n.changeCropAndOutputSize(h)}},this.onPixelWidth=function(){var t=JSON.stringify(Ar(n.localOutputSize)),r=n.localOutputSize.width||n.minCropSize,i=n.entityManager.items.find((function(e){return e.identifier===n.identifier})),o=n.defaults.imageSize;if(i&&i.ratio){var a=Math.max(r>o.width?o.width:r,n.minCropSize),s=n.localOutputSize.height;if("*"===i.ratio)n.changeLocalOutputWidth(a);else{var l=e.placeCropMask(i.ratio,o);s=(a=Math.min(a,l.width))/i.ratio,n.changeLocalOutputSize({height:s,width:a})}n.updatePreviewSizeWRTImageSize(),n.checkAndAddSnapshot(JSON.parse(t))}},this.onPixelHeight=function(){var t=JSON.stringify(Ar(n.localOutputSize)),r=n.localOutputSize.height||n.minCropSize,i=n.entityManager.items.find((function(e){return e.identifier===n.identifier})),o=n.defaults.imageSize;if(i&&i.ratio){var a=Math.max(r>o.height?o.height:r,n.minCropSize),s=n.localOutputSize.width;if("*"===i.ratio)n.changeLocalOutputHeight(a);else{var l=e.placeCropMask(i.ratio,o);s=(a=Math.min(a,l.height))*i.ratio,n.changeLocalOutputSize({height:a,width:s})}n.updatePreviewSizeWRTImageSize(),n.checkAndAddSnapshot(JSON.parse(t))}},this.editor=t,this.selectedCategory="identity",this.transformStore=new rl(t,this.defaults),this.transformations=new il(t);var r=this.config,i=(r.enableRotation,r.enableFlip,k(r,["enableRotation","enableFlip"])),o=this.editor.assetProvider.getAssets("transform");this.entityManager=new Ti(o,E({},i,{categoryKey:"",itemKey:"thumbnailURI",flattenCategories:!1,locale:E({},this.locale.items,this.locale.categories),getAssetPath:this.editor.getAssetPath("transform")})),this.rect=new Ys(this.editor,this.transformStore,"topLeft",!1,!1),this.rectForUi=new Ys(this.editor,this.transformStore,"topLeft",!1,!0),this.defaultIdentifier=this.entityManager.items[0].identifier,this.minCropSize=this.editor.configStore.measurements.crop.minSize}return e.inRadians=function(e){return e*Math.PI/180},e.placeCropMask=function(e,t){if(t.height*e>t.width)return{height:t.width/e,width:t.width,yChanged:!0};var n=t.height*e;return{height:t.height,width:n,yChanged:!1}},e.prototype.changeIdentifier=function(e,t){void 0===t&&(t=!1),this.transformStore.changeIdentifier(e);var n=this.getCropMask(e,this.defaults.imageSize);n&&(this.transformStore.changeRatio(n.ratio),this.changeLocalOutputSize(n),this.updatePreviewSizeWRTImageSize(),void 0!==n.yChanged&&this.updateInitialCropMaskPosition(n.yChanged),n.dimensions&&this.changeLocalOutputSize({width:n.dimensions.x,height:n.dimensions.y}),t&&this.addLocalSnapshot())},e.prototype.setDragMode=function(e){this.dragMode.set(e)},e.prototype.getCropMask=function(t,n){var r=this.getTransform(t);if(r){var i=r.ratio,o=r.forceDimensions,a=r.lockDimensions,s=r.dimensions,l=void 0===s?null:s;if(o&&this.transformStore.changeForceDimensions(o),a&&this.transformStore.changeLockResolution(a),!i){var c=r.dimensions,u=c.x,d=c.y;return E({},e.placeCropMask(u/d,n),{ratio:null,dimensions:l})}switch(i){case"*":return this.changePosition({x:0,y:0}),E({},n,{yChanged:void 0,ratio:"*",dimensions:l});default:return E({},e.placeCropMask(r.ratio,n),{ratio:r.ratio,dimensions:l})}}return null},e.prototype.setCropDefaults=function(e){void 0===e&&(e=!1);var t=this.editor.outputContainer.getResolution();this.setDefaultImageSize(t);var n=this.editor.getPreviewSize(),r=this.editor.engineMediator.preview.previewTransformWithoutDpr.position;this.setMaxCropSize(n),this.setDefaultCropPosition({x:r.x-n.width/2,y:r.y-n.height/2}),this.changeDefaultScale(this.editor.scale.defaultScale),e||(this.unRotatedDefaults.cropMaskPosition=this.defaultCropMaskPosition,this.unRotatedDefaults.scale=this.defaultScale)},e.prototype.setDefaultImageSize=function(e){this.defaults.imageSize=e,this.lockResolution||(this.localOutputSize=e)},e.prototype.setMaxCropSize=function(e){this.defaults.maxCropMaskSize.height=e.height,this.defaults.maxCropMaskSize.width=e.width},e.prototype.setDefaultCropPosition=function(e){this.defaults.cropMaskPosition.x=e.x,this.defaults.cropMaskPosition.y=e.y},e.prototype.resetCrop=function(){this.state.cropState=hn.map({}),this.state.identifier="identity"},e.prototype.toggleCategorySelection=function(e){this.selectedCategory=this.selectedCategory===e?"identity":e},e.prototype.pureReset=function(){this.transformStore.resetRotation(),this.transformStore.resetOutputRotation(),this.transformStore.resetFlip(),this.editor.spriteStore.correctTextFlip(),this.editor.overlayToolStore.correctOverlayFlip(),this.resetCrop()},e.prototype.changePosition=function(e){return this.transformStore.changePosition(e,this.defaults.maxCropMaskSize)},e.prototype.changePositionX=function(e){return this.transformStore.changePositionX(e,this.defaults.maxCropMaskSize.width)},e.prototype.changePositionY=function(e){return this.transformStore.changePositionY(e,this.defaults.maxCropMaskSize.height)},e.prototype.changeCropAndOutputHeight=function(e){return!!(e&&e>=this.minCropSize)&&(this.transformStore.changeHeight(e),this.lockResolution||this.changeLocalOutputHeight(e*this.defaults.imageSize.height/this.defaults.maxCropMaskSize.height),!0)},e.prototype.changeCropAndOutputWidth=function(e){return!!(e&&e>=this.minCropSize)&&(this.transformStore.changeWidth(e),this.lockResolution||this.changeLocalOutputWidth(e*this.defaults.imageSize.width/this.defaults.maxCropMaskSize.width),!0)},e.prototype.changeCropAndOutputSize=function(e){return{widthChanged:this.changeCropAndOutputHeight(e.height),heightChanged:this.changeCropAndOutputWidth(e.width)}},e.prototype.transformRender=function(e){void 0===e&&(e=!0),this.transformations.applyPreviewTransform(),e&&this.editor.render()},e.prototype.addLocalSnapshot=function(e){if(void 0===e&&(e="Local "+this.locale.title),this.localSnapshotEnabled){var t=this.state,n=(t.cropState,k(t,["cropState"]));this.editor.addLocalTransformSnapshot(E({},n,this.cropState,{localOutputSize:Ar(this.localOutputSize),outputSize:this.engineMediator.output.container.getResolution(),defaults:Ar(this.defaults),previewTransform:this.engineMediator.preview.container.getTransform(),outputTransform:this.engineMediator.output.container.getTransform()}),e)}},e.prototype.updateLocalStateFromHistory=function(e){this.editor.activeStore.tool===j.TRANSFORM&&(this.transformStore.changeLockResolution(e.lockResolution),this.transformStore.changeForceDimensions(e.forceDimensions),this.transformStore.changeIdentifier(e.identifier),this.transformStore.setRotation(e.rotationInDegrees),this.setDefaultAngle(e.rotationInDegrees),this.transformStore.setOutputRotation(e.outputRotation),this.transformStore.updateFlip(e),this.engineMediator.output.container.setRotation(e.outputRotation),this.setDefaultImageSize(e.defaults.imageSize),this.localOutputSize=e.defaults.imageSize,this.changeLocalOutputSize(e.localOutputSize),this.transformStore.changeSize(e.size),this.changePosition(e.position),this.setMaxCropSize(e.defaults.maxCropMaskSize),this.setDefaultCropPosition(e.defaults.cropMaskPosition),this.changeDefaultScale(e.defaults.scale),this.engineMediator.output.container.setResolution(e.outputSize),this.engineMediator.preview.container.setTransform(e.previewTransform),this.engineMediator.output.container.setTransform(e.outputTransform))},e.prototype.updateStateFromHistory=function(e){this.editor.activeStore.tool!==j.TRANSFORM&&(this.engineMediator.output.container.setTransform(e.outputTransform),this.engineMediator.preview.container.setTransform(e.previewTransform),this.engineMediator.output.container.setResolution(e.outputSize),this.changeLocalOutputSize(e.outputSize))},Object.defineProperty(e.prototype,"serializableState",{get:function(){var e=this.rotateFlipState,t=e.flipHorizontally,n=e.flipVertically,r=180*this.editor.engineMediator.output.container.getRotation()/Math.PI%360,i=this.identifier,o=this.rotationInDegrees,a=o*Math.PI/180,s=r+o;s=(360-(s=(s=90*Math.round(s/90))<0?s+360:s))%360;var l=this.convertUIToOperationOptions(a,s);return{flipHorizontally:t,flipVertically:n,rotation:a,start:l.start,end:l.end,identifier:i,outputRotation:s}},enumerable:!0,configurable:!0}),e.prototype.getStartEndForOperation=function(e){var t=this.leftTop,n=this.rightBottom,r=this.maxCropMaskSize,i=t.y,o=t.x,a=n.x,s=n.y;switch(e){case 270:return{leftTop:{x:r.height-s,y:o},rightBottom:{x:r.height-i,y:a}};case 180:return{leftTop:{x:r.width-a,y:r.height-s},rightBottom:{x:r.width-o,y:r.height-i}};case 90:return{leftTop:{x:i,y:r.width-a},rightBottom:{x:s,y:r.width-o}}}return{leftTop:{x:o,y:i},rightBottom:{x:a,y:s}}},e.prototype.getStartEndForUI=function(e,t,n){var r=this.maxCropMaskSize,i=t.y,o=t.x,a=n.x,s=n.y;switch(e){case 90:return{leftTop:{x:i,y:r.height-a},rightBottom:{x:s,y:r.height-o}};case 180:return{leftTop:{x:r.width-a,y:r.height-s},rightBottom:{x:r.width-o,y:r.height-i}};case 270:return{leftTop:{x:r.width-s,y:o},rightBottom:{x:r.width-i,y:a}}}return{leftTop:{x:o,y:i},rightBottom:{x:a,y:s}}},e.prototype.convertOperationOptionsToUI=function(e){var t=e.start,n=e.end,r=e.rotation,i=e.outputRotation,o=90===i||270===i,a=o?z.fromSize(this.defaultImageSize).swapped:z.fromSize(this.defaultImageSize),s=Math.cos(r),l=Math.sin(r),c=this.calculateScale(r),u=new z(Math.min(t.x,n.x),Math.min(t.y,n.y)),d=new z(Math.max(t.x,n.x),Math.max(t.y,n.y)).subtract(u).divide(2),p=u.add(d).multiply(a).subtract(a.multiply(.5)),f=new z(p.x*s-p.y*l,p.x*l+p.y*s).multiply(c),h=a.multiply(.5).add(f).divide(a),m=h.subtract(d.multiply(c)),g=h.add(d.multiply(c)),y=o?z.fromSize(this.maxCropMaskSize).swapped:z.fromSize(this.maxCropMaskSize),v=m.multiply(y),b=g.multiply(y),_=this.getStartEndForUI(i,v,b),x=_.leftTop,w=_.rightBottom;return{start:new z(x),end:new z(w)}},e.prototype.convertUIToOperationOptions=function(e,t){var n=90===t||270===t,r=n?z.fromSize(this.defaultImageSize).swapped:z.fromSize(this.defaultImageSize),i=n?z.fromSize(this.maxCropMaskSize).swapped:z.fromSize(this.maxCropMaskSize),o=Math.cos(-e),a=Math.sin(-e),s=this.calculateScale(e,n),l=this.getStartEndForOperation(t),c=l.leftTop,u=l.rightBottom,d=new z(c).divide(i),p=new z(u).divide(i).subtract(d).divide(2),f=d.add(p).multiply(r).subtract(r.multiply(.5)),h=new z(f.x*o-f.y*a,f.x*a+f.y*o).divide(s),m=r.multiply(.5).add(h).divide(r);return{start:m.subtract(p.divide(s)),end:m.add(p.divide(s))}},e.prototype.calculateScale=function(e,t){void 0===t&&(t=!1);var n=t?z.fromSize(this.defaultImageSize).swapped:z.fromSize(this.defaultImageSize),r=new z(Math.abs(n.x*Math.cos(e))+Math.abs(n.y*Math.sin(e)),Math.abs(n.x*Math.sin(e))+Math.abs(n.y*Math.cos(e))),i=n.subtract(r.clone()).divide(2).abs;return i.y>i.x?2*i.y/n.y+1:2*i.x/n.x+1},e.prototype.updateStateFromSerialization=function(e,t){this.localSnapshotEnabled=t,this.transformStore.resetRotation(),this.transformStore.resetOutputRotation(),this.transformStore.resetFlip(),this.setDefaultAngle(0),0!==this.editor.outputContainer.getRotation()&&this.engineMediator.output.applyNewImageTransform(),this.engineMediator.output.container.setData({flipHorizontally:!1,flipVertically:!1}),this.engineMediator.preview.updateTransform(),this.editor.scale.setInitialTransform(),this.setCropDefaults(),this.applyInitialCrop();var n=Math.round(180*e.rotation/Math.PI);this.transformStore.setRotation(n>180?n-360:n),this.applyOutputRotationFromSerialization(e),e.identifier&&this.transformStore.changeIdentifier(e.identifier);var r=e.outputRotation<0?e.outputRotation+360:e.outputRotation;if(r=(360-r)%360,e.start&&e.end){0!==e.end.x&&0!==e.end.y||(e.end.x=1,e.end.y=1);var i=this.convertOperationOptionsToUI({start:new z(e.start),end:new z(e.end),rotation:e.rotation,outputRotation:r}),o=i.start,a=i.end;this.changePositionX(o.x),this.changePositionY(o.y);var s=a.x-o.x,l=a.y-o.y;this.transformStore.changeSize({width:s,height:l});var c=this.defaults,u=c.maxCropMaskSize,d=c.imageSize,p={height:l*d.height/u.height,width:s*d.width/u.width};this.changeLocalOutputSize(p)}this.editor.outputContainer.setData({flipHorizontally:e.flipHorizontally,flipVertically:e.flipVertically}),e.flipHorizontally&&this.flipHorizontally(!1),e.flipVertically&&this.flipVertically(!1),this.editor.overlayToolStore.correctOverlayFlip(),this.localSnapshotEnabled=!0},e.prototype.applyOutputRotationFromSerialization=function(e){if(void 0!==e.outputRotation)switch(e.outputRotation){case 90:this.transformations.rotateOutputContainer();break;case 180:this.transformations.rotateOutputContainer(),this.transformations.rotateOutputContainer();break;case 270:this.transformations.rotateOutputContainer(!0)}this.transformations.rotateOutputContainer(!0),this.transformations.rotateOutputContainer()},e.prototype.setDefaultAngle=function(e){this.defaultAngle=e},e.prototype.updateCanvasControls=function(e){var t=Ar(this.cropMaskPosition),n=Ar(this.cropMaskSize),r=Ar(this.defaults.maxCropMaskSize);this.changeCropAndOutputSize({height:r.height*n.height/e.height,width:r.width*n.width/e.width}),this.changePosition({y:r.height*t.y/e.height,x:r.width*t.x/e.width})},e.prototype.onLeave=function(){this.transformations.onLeave()},e.prototype.onEnter=function(){this.transformations.onEnter()},e.prototype.saveTransforms=function(){this.transformations.saveTransforms()},e.prototype.saveTransformsBasedOnFlip=function(){this.transformations.saveTransformsBasedOnFlip()},e.prototype.setRotation=function(e){this.transformStore.setRotation(e),this.transformRender()},e.prototype.rotateOutputContainer=function(e){return void 0===e&&(e=!1),T(this,void 0,void 0,(function(){return O(this,(function(t){switch(t.label){case 0:return this.setDragMode(!0),this.transformations.rotateOutputContainer(e),[4,this.editor.wait()];case 1:return t.sent(),this.setDragMode(!1),[2]}}))}))},e.prototype.applyInitialCrop=function(){this.changeIdentifier(this.defaultIdentifier,!1)},e.prototype.clickableCanvas=function(e){this.editor.clickableCanvas(e)},e.prototype.proportionalSize=function(e,t,n,r){void 0===n&&(n=this.defaults.maxCropMaskSize),void 0===r&&(r=this.minCropSize);var i={width:t.height*e,height:t.height};return(i.width>n.width||i.width<r||i.height<r)&&(i.width=t.width,i.height=t.width/e),i.width=Math.round(i.width),i.height=Math.round(i.height),i},e.prototype.checkAndAddSnapshot=function(e){var t=Ar(this.localOutputSize);e.width===t.width&&e.height===t.height||this.addLocalSnapshot()},e.prototype.updateInitialCropMaskPosition=function(e){var t=this.cropMaskSize,n=this.defaults.maxCropMaskSize;e?this.changePosition({x:0,y:Math.abs(n.height-t.height)/2}):this.changePosition({x:Math.abs(n.width-t.width)/2,y:0})},e.prototype.updatePreviewSizeWRTImageSize=function(){var e=Ar(this.localOutputSize),t=Ar(this.defaults.imageSize),n=Ar(this.defaults.maxCropMaskSize),r={height:n.height*e.height/t.height,width:n.width*e.width/t.width};this.transformStore.changeSize(r)},e.prototype.getScaleWithFlip=function(e){return void 0===e&&(e=this.rotateFlipState.rotation),this.transformations.getScaleWithFlip(e)},Object.defineProperty(e.prototype,"cropState",{get:function(){return this.transformStore.selectedCrop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.transformStore.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ratio",{get:function(){return this.transformStore.ratio},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.transformStore.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.transformStore.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localOutputImageSize",{get:function(){return this.localOutputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localOutputHeight",{get:function(){return this.localOutputSize.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localOutputWidth",{get:function(){return this.localOutputSize.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lockResolution",{get:function(){return this.transformStore.lockResolution},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"forceDimensions",{get:function(){return this.transformStore.forceDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationInDegrees",{get:function(){return this.transformStore.rotationInDegrees},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputRotation",{get:function(){return this.transformStore.outputRotation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDragMode",{get:function(){return this.dragMode.get()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotateFlipState",{get:function(){var t=this.transformStore.state,n=t.flipHorizontally,r=t.flipVertically,i=t.rotationInDegrees,o=t.outputRotation;return{flipHorizontally:n,flipVertically:r,rotation:e.inRadians(i),outputRotation:o}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedCategoryIdentifier",{get:function(){return this.selectedCategory},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"categories",{get:function(){return this.entityManager.categories},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"entities",{get:function(){return this.entityManager.getEntities(this.selectedCategoryIdentifier)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this.entityManager.categories.reduce((function(e,t){return M(e,Ti.isCategory(t)?t.items:[t])}),[])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this.editor.configStore.config[j.TRANSFORM]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this.editor.configStore.locale[j.TRANSFORM]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOptionSelected",{get:function(){return"identity"!==this.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftTop",{get:function(){return this.rect.leftTop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftBottom",{get:function(){return this.rect.leftBottom},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightTop",{get:function(){return this.rect.rightTop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightBottom",{get:function(){return this.rect.rightBottom},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFlippedHorizontal",{get:function(){return this.transformStore.isFlippedHorizontal},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFlippedVertical",{get:function(){return this.transformStore.isFlippedVertical},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftTopRespectFlip",{get:function(){return this.rectForUi.leftTop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftBottomRespectFlip",{get:function(){return this.rectForUi.leftBottom},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightTopRespectFlip",{get:function(){return this.rectForUi.rightTop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightBottomRespectFlip",{get:function(){return this.rectForUi.rightBottom},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cropMaskPosition",{get:function(){return this.transformStore.position},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cropMaskSize",{get:function(){return this.transformStore.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this.transformStore.state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultImageSize",{get:function(){return this.defaults.imageSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxCropMaskSize",{get:function(){return this.defaults.maxCropMaskSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minCropMaskSize",{get:function(){var e=this.getRatio();return"*"===e||1===e?{width:this.minCropSize,height:this.minCropSize}:e>1?{width:this.minCropSize*e,height:this.minCropSize}:{width:this.minCropSize,height:this.minCropSize*e}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultCropMaskPosition",{get:function(){return this.defaults.cropMaskPosition},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultScale",{get:function(){return this.defaults.scale},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"engineMediator",{get:function(){return this.editor.engineMediator},enumerable:!0,configurable:!0}),e.prototype.getRatio=function(){var e=this.getTransform(this.identifier);if(e){if(Object.prototype.hasOwnProperty.call(e,"ratio"))return this.lockResolution?this.localOutputWidth/this.localOutputHeight:e.ratio;var t=e.dimensions;return t.x/t.y}return"*"},e.prototype.getTransform=function(e){return this.entityManager.items.find((function(t){return t.identifier===e}))},C([hn],e.prototype,"selectedCategory",void 0),C([hn],e.prototype,"defaults",void 0),C([hn],e.prototype,"localOutputSize",void 0),C([yr],e.prototype,"changeIdentifier",null),C([yr],e.prototype,"setDragMode",null),C([yr],e.prototype,"setCropDefaults",null),C([yr],e.prototype,"setDefaultImageSize",null),C([yr],e.prototype,"setMaxCropSize",null),C([yr],e.prototype,"setDefaultCropPosition",null),C([yr],e.prototype,"resetCrop",null),C([yr],e.prototype,"toggleCategorySelection",null),C([yr],e.prototype,"pureReset",null),C([yr],e.prototype,"reset",void 0),C([yr],e.prototype,"changePosition",null),C([yr],e.prototype,"changePositionX",null),C([yr],e.prototype,"changePositionY",null),C([yr],e.prototype,"changeCropAndOutputHeight",null),C([yr],e.prototype,"changeCropAndOutputWidth",null),C([yr],e.prototype,"changeCropAndOutputSize",null),C([yr],e.prototype,"onLeave",null),C([yr],e.prototype,"onEnter",null),C([yr],e.prototype,"changeLocalOutputSize",void 0),C([yr],e.prototype,"changeDefaultScale",void 0),C([yr],e.prototype,"changeLocalOutputHeight",void 0),C([yr],e.prototype,"changeLocalOutputWidth",void 0),C([yr],e.prototype,"changeLockResolution",void 0),C([yr],e.prototype,"setRotation",null),C([yr],e.prototype,"rotateClockwise",void 0),C([yr],e.prototype,"rotateAntiClockwise",void 0),C([yr],e.prototype,"rotateOutputContainer",null),C([yr],e.prototype,"flipHorizontally",void 0),C([yr],e.prototype,"flipVertically",void 0),C([yr],e.prototype,"applyDefaultCrop",void 0),C([yr],e.prototype,"applyInitialCrop",null),C([yr],e.prototype,"updateCropMask",void 0),C([yr],e.prototype,"clickableCanvas",null),C([yr],e.prototype,"onLeftTop",void 0),C([yr],e.prototype,"onLeftBottom",void 0),C([yr],e.prototype,"onRightTop",void 0),C([yr],e.prototype,"onRightBottom",void 0),C([yr],e.prototype,"proportionalSize",null),C([yr],e.prototype,"onPixelWidth",void 0),C([yr],e.prototype,"onPixelHeight",void 0),C([yr],e.prototype,"updateInitialCropMaskPosition",null),C([yr],e.prototype,"updatePreviewSizeWRTImageSize",null),C([_n],e.prototype,"cropState",null),C([_n],e.prototype,"identifier",null),C([_n],e.prototype,"ratio",null),C([_n],e.prototype,"height",null),C([_n],e.prototype,"width",null),C([_n],e.prototype,"localOutputImageSize",null),C([_n],e.prototype,"localOutputHeight",null),C([_n],e.prototype,"localOutputWidth",null),C([_n],e.prototype,"lockResolution",null),C([_n],e.prototype,"forceDimensions",null),C([_n],e.prototype,"rotationInDegrees",null),C([_n],e.prototype,"outputRotation",null),C([_n],e.prototype,"isDragMode",null),C([_n],e.prototype,"rotateFlipState",null),C([_n],e.prototype,"selectedCategoryIdentifier",null),C([_n],e.prototype,"categories",null),C([_n],e.prototype,"entities",null),C([_n],e.prototype,"items",null),C([_n],e.prototype,"config",null),C([_n],e.prototype,"locale",null),C([_n],e.prototype,"isOptionSelected",null),C([_n],e.prototype,"leftTop",null),C([_n],e.prototype,"leftBottom",null),C([_n],e.prototype,"rightTop",null),C([_n],e.prototype,"rightBottom",null),C([_n],e.prototype,"isFlippedHorizontal",null),C([_n],e.prototype,"isFlippedVertical",null),C([_n],e.prototype,"leftTopRespectFlip",null),C([_n],e.prototype,"leftBottomRespectFlip",null),C([_n],e.prototype,"rightTopRespectFlip",null),C([_n],e.prototype,"rightBottomRespectFlip",null),C([_n],e.prototype,"cropMaskPosition",null),C([_n],e.prototype,"cropMaskSize",null),C([_n],e.prototype,"state",null),C([_n],e.prototype,"defaultImageSize",null),C([_n],e.prototype,"maxCropMaskSize",null),C([_n],e.prototype,"minCropMaskSize",null),C([_n],e.prototype,"defaultCropMaskPosition",null),C([_n],e.prototype,"defaultScale",null),e}(),al=function(){function e(e){var t=this;this.checkImageResize=function(){t.engine.on(d.BEGAN_IMAGE_DOWNSCALING,(function(){t.modalStore.showInfoModal("resizing")})),t.engine.on(d.IMAGE_DOWNSCALED,(function(){}))},this.onToolChange=function(e,n,r){if(void 0===n&&(n=null),void 0===r&&(r=!0),e!==n&&t.engineMediator.preview.container){if(-1!==[e,n].indexOf(j.TRANSFORM)){var i=t.canvasStore.canvasSize,o=t.configStore.measurements.basicToolControlBar.controlsBarHeight;if(e===j.TRANSFORM){t.transformToolStore.onLeave(),t.historyStore.removeTransformLocalSnapshots();var a=t.engineMediator.preview.container.getScale().x,s=t.engineMediator.output.container.getResolution(),l=t.transformToolStore.defaultImageSize;(1!==a||l.width!==s.width||l.height!==s.height)&&t.addSnapshot(void 0,"edit",t.configStore.locale.transform.title),t.snappingStore.calculatePreviewTopLeftPosition(),t.configStore.isLayoutAdvanced||(t.canvasStore.state.canvasSize.height=i.height+o,t.resize(!0))}else n===j.TRANSFORM&&(t.configStore.isLayoutAdvanced||(t.canvasStore.state.canvasSize.height=i.height-o,t.resize(),t.render()),t.transformToolStore.onEnter(),t.transformToolStore.addLocalSnapshot(),t.historyStore.saveTransformLocalSnapshotIndex())}else t.scale.resetOffset(),t.scale.resetPosition(),t.scale.setScaleToDefault(),t.scale.scaleRender(!0);r&&t.render()}},this.resize=function(e){void 0===e&&(e=!1);try{t.transformToolStore.applyDefaultCrop(),t.canvasStore.updateCanvasDimensions();var n=Ar(t.transformToolStore.maxCropMaskSize),r=t.activeStore.tool===j.TRANSFORM;r&&!e||t.transformToolStore.onEnter();var i=t.engineMediator.preview.container.getRotation();if(t.engineMediator.preview.updateTransform(i)){t.scale.setInitialTransform(),t.transformToolStore.setCropDefaults(),t.transformToolStore.updateCanvasControls(n),t.focusToolStore.updateCanvasControls(),t.spriteStore.updateCanvasControls();var o=t.transformToolStore.getScaleWithFlip(i);t.engineMediator.preview.container.setScale(o),r&&!e||(t.transformToolStore.onLeave(),t.transformToolStore.onEnter(),t.transformToolStore.onLeave()),t.snappingStore.calculatePreviewTopLeftPosition(),t.render()}}catch(e){t.modalStore.showActionModal({identifier:"rendering",handlers:{buttonYes:function(){window.location.reload()}}})}},this.export=function(e){void 0===e&&(e={});var n=e.preventExportEvent,r=k(e,["preventExportEvent"]);return new Promise((function(e,i){t.modalStore.showInfoModal("exporting");var o=t.activeStore.tool===j.TRANSFORM;o&&t.transformToolStore.onLeave();var a=t.configStore.config,s=E({},a.export.image,r),l=s.exportType,c=s.format,u=s.quality,d=s.enableDownload;t.engineMediator.engine.export(l,c,u).then((function(r){d&&t.triggerFileDownload(a.export.filename,c,l,r),n||t.configStore.events.onExport(r),e(r),o&&t.transformToolStore.onEnter(),t.modalStore.hideModal()})).catch((function(e){i(e),o&&t.transformToolStore.onEnter(),t.modalStore.hideModal()}))}))},this.wait=function(e){return void 0===e&&(e=0),new Promise((function(t){return setTimeout(t,e)}))},this.getAssetPath=function(e){return t.assetProvider.getPathForCategory(e)},this.getPreviewSize=function(){var e=t.engine.getOutputDimensions(),n=e.width,r=e.height;return n&&r?{width:Math.round(t.worldToPreview(t.outputToWorld(n))),height:Math.round(t.worldToPreview(t.outputToWorld(r)))}:{height:r,width:n}},this.configStore=new cs;var n=this.configStore.saveConfig(e);if(this.engineMediator=new vs(this),this.serializationMediator=new ks(this),this.spriteStore=new el(this),this.scale=new Ss(this),this.filterToolStore=new Ai(this),this.adjustmentsToolStore=new Oi(this),this.focusToolStore=new Bi(this),this.overlayToolStore=new Wi(this),this.frameToolStore=new Is(this),this.brushToolStore=new zs(this),this.transformToolStore=new ol(this),this.libraryStore=new Ms(this),this.modalStore=new ws(this),this.snappingStore=new Ls(this),this.activeStore=new Na(this),this.canvasStore=new Ha(this),this.historyStore=new _s(this),this.modalStore.showInfoModal("loading"),this.libraryStore.initProvider(n),this.configStore.config.displayResizeWarning&&this.checkImageResize(),this.configStore.config.filter.enablePreviewThumbnails){var r=this.configStore.config.engine;this.previewThumbnails=new Ba(E({},r,{license:this.configStore.config.license,assetProvider:this.configStore.assetProvider}))}}return Object.defineProperty(e,"defaultColors",{get:function(){return Object.keys(at).map((function(e){var t=at[e];return{identifier:e,color:t,colorString:ot(t)}}))},enumerable:!0,configurable:!0}),Object.defineProperty(e,"defaultBackgroundColors",{get:function(){return Object.keys(st).map((function(e){var t=st[e];return{identifier:e,color:t,colorString:ot(t)}}))},enumerable:!0,configurable:!0}),Object.defineProperty(e,"devicePixelRatio",{get:function(){return window.devicePixelRatio||1},enumerable:!0,configurable:!0}),e.prototype.init=function(e){var t=this;this.historyStore.isDirty()?this.modalStore.showActionModal({identifier:"discardChanges",handlers:{buttonYes:function(){t.setImage(e),t.resetToolStates()},buttonNo:function(){t.setImage(e,!0)}}}):(this.setImage(e,!0),this.historyStore.reset()),this.libraryStore.fetchImages()},e.prototype.setImage=function(e,t){return void 0===t&&(t=!1),T(this,void 0,void 0,(function(){var n,r,i,o;return O(this,(function(a){switch(a.label){case 0:return a.trys.push([0,4,,5]),this.modalStore.showInfoModal(this.configStore.config.displayResizeWarning?"resizing":"loading"),this.scale.defaultScale=1,this.scale.resetOffset(),this.activeStore.setImage(e),[4,this.engineMediator.image.addImageToContainer()];case 1:return a.sent(),this.engineMediator.output.applyNewImageTransform(),this.engineMediator.preview.updateTransform(),this.scale.setInitialTransform(),this.transformToolStore.setCropDefaults(),this.historyStore.addInitialSnapshot(),n=this.transformToolStore.rotateFlipState,r=n.flipHorizontally,i=n.flipVertically,this.outputContainer.setData({flipVertically:i,flipHorizontally:r}),t?(this.focusToolStore.updateCanvasControls(),this.spriteStore.updateCanvasControls(),this.transformToolStore.resetCrop(),this.transformToolStore.applyDefaultCrop(),this.transformToolStore.saveTransformsBasedOnFlip(),this.transformToolStore.onEnter(),this.transformToolStore.setRotation(this.transformToolStore.rotationInDegrees),this.transformToolStore.onLeave(),this.transformToolStore.onEnter(),this.transformToolStore.onLeave()):this.transformToolStore.saveTransforms(),this.snappingStore.calculatePreviewTopLeftPosition(),[4,this.renderPromise()];case 2:return a.sent(),[4,this.filterToolStore.setImageAndGetPreviews()];case 3:return a.sent(),this.activeStore.tool||this.onReady(),this.modalStore.hideModal(),[3,5];case 4:return o=a.sent(),this.modalStore.hideModal(),this.modalStore.showActionModal({identifier:o.identifier?o.identifier:"rendering",error:o,handlers:{buttonYes:function(){window.location.reload()}}}),[3,5];case 5:return[2]}}))}))},e.prototype.serialize=function(e){var t=(void 0===e?{image:!0}:e).image;return this.serializationMediator.serialize({image:t})},e.prototype.deserialize=function(e){return this.serializationMediator.deserialize(e)},e.prototype.close=function(){var e=this;this.hasChanges()&&this.configStore.config.displayCloseWarning?this.modalStore.showActionModal({identifier:"unsavedChanges",handlers:{buttonYes:function(){e.configStore.events.onClose()}}}):this.configStore.events.onClose()},e.prototype.hasChanges=function(){return this.historyStore.isDirty()},e.prototype.clickableCanvas=function(e){return T(this,void 0,void 0,(function(){return O(this,(function(t){switch(t.label){case 0:return e?[4,new Promise((function(e){return setTimeout(e,0)}))]:[3,2];case 1:return t.sent(),this.canvasStore.enableCanvasClick(),[3,3];case 2:this.canvasStore.disableCanvasClick(),t.label=3;case 3:return[2]}}))}))},Object.defineProperty(e.prototype,"shortestOutputSide",{get:function(){var e=this.outputContainer.getBounds();return Math.min(e.width,e.height)},enumerable:!0,configurable:!0}),e.prototype.onReady=function(){return T(this,void 0,void 0,(function(){var e,t,n,r,i,o;return O(this,(function(a){return e=this.configStore.config,t=e.layout,n=e.forceCrop,"advanced"===t&&this.activeStore.selectTool(this.configStore.defaultTool),n&&(r=this.transformToolStore.localOutputImageSize,i=r.width/r.height,-1!==(o=this.transformToolStore.entityManager.items.map((function(e){return"*"===e.ratio||e.ratio?e.ratio:e.dimensions.x/e.dimensions.y}))).indexOf("*")?console.error('ForceCrop will not work if "*" is one of the ratios'):-1===o.indexOf(i.toFixed(2))&&this.activeStore.selectTool(j.TRANSFORM)),this.configStore.events.onEditorReady(),[2]}))}))},e.prototype.addSnapshot=function(e,t,n){this.historyStore.addSnapshot(e,t,n)},e.prototype.addLocalTransformSnapshot=function(e,t,n){void 0===n&&(n="edit"),this.historyStore.addSnapshot({localTransform:e},n,t)},e.prototype.resetToolStates=function(){this.filterToolStore.pureReset(),this.focusToolStore.pureReset(),this.adjustmentsToolStore.pureReset(),this.overlayToolStore.pureReset(),this.frameToolStore.pureReset(),this.brushToolStore.pureReset(),this.spriteStore.pureReset(),this.transformToolStore.pureReset(),this.historyStore.reset(),this.render()},Object.defineProperty(e.prototype,"assetProvider",{get:function(){return this.configStore.assetProvider},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"engine",{get:function(){return this.engineMediator.engine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageContainer",{get:function(){return this.engineMediator.image.container},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orderHelper",{get:function(){return this.engineMediator.orderHelper},enumerable:!0,configurable:!0}),e.prototype.render=function(){return T(this,void 0,void 0,(function(){return O(this,(function(e){switch(e.label){case 0:return[4,this.renderPromise()];case 1:return e.sent(),[2]}}))}))},e.prototype.renderPromise=function(){return this.engineMediator.render(this.engineMediator.preview.container)},e.prototype.previewToWorld=function(e,t){return D(e),this.engineMediator.previewSpaceToWorldSpace(e,t)},e.prototype.worldToPreview=function(e){return D(e),this.engineMediator.worldSpaceToPreviewSpace(e)},e.prototype.worldSizeToPreview=function(e){return{width:this.engineMediator.worldSpaceToPreviewSpace(e.width),height:this.engineMediator.worldSpaceToPreviewSpace(e.height)}},e.prototype.previewSizeToWorld=function(e,t){return{width:this.engineMediator.previewSpaceToWorldSpace(e.width,t),height:this.engineMediator.previewSpaceToWorldSpace(e.height,t)}},e.prototype.outputToWorld=function(e){return D(e),this.engineMediator.outputSpaceToWorldSpace(e)},e.prototype.previewToOutput=function(e){return D(e),this.engineMediator.previewSpaceToOutputSpace(e)},e.prototype.applyFlipToPreview=function(e){return this.engineMediator.previewSpaceToFlippedPreviewSpace(e)},Object.defineProperty(e.prototype,"outputContainer",{get:function(){return this.engineMediator.output.container},enumerable:!0,configurable:!0}),e.prototype.triggerFileDownload=function(e,t,n,r){var i=e+(t===Z.JPEG&&n!==$.MSBLOB?".jpeg":".png"),o=this.blobFromExportData(r);this.triggerBlobDownload(i,o)},e.prototype.triggerBlobDownload=function(e,t){if(navigator.msSaveBlob)navigator.msSaveBlob(t,e);else{var n=document.createElement("a"),r=URL.createObjectURL(t);n.href=r,n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n),void 0===i&&(i=Ze()),i.match(/iP(hone|od|ad)|AppleWebKit/)||URL.revokeObjectURL(r)}var i},e.prototype.blobFromExportData=function(e){return"string"==typeof e?As(e):e instanceof HTMLImageElement?As(e.src):e},C([yr],e.prototype,"resize",void 0),C([yr],e.prototype,"export",void 0),C([yr],e.prototype,"clickableCanvas",null),e}(),sl=function(){function e(e){var t=this;this.state=hn.map(Gi),this.customStickerIds=[],this.changeOpacity=function(e){if(t.id){var n=t.state.get(t.id);if(n){t.editor.spriteStore.setContainerProperties(t.id,{opacity:e});var r=t.editor.spriteStore.getContainerProperties(t.id);n.opacity=r.opacity,t.state.set(t.id,n)}}},this.changeTintColor=function(e){if(t.id){var n=t.state.get(t.id);if(n){var r=t.entityManager.items.find((function(e){return e.identifier===t.identifier})).tintMode;t.editor.spriteStore.setContainerProperties(t.id,{tintColor:e,tintMode:r});var i=t.editor.spriteStore.getContainerProperties(t.id);n.tintColor=i.tintColor,n.tintMode=i.tintMode||Vi.tintMode,t.state.set(t.id,n)}}},this.tintColorSnapshot=function(){t.addSnapshot("edit",t.locale.history.color)},this.editor=e,this.selectedCategory="identity";var n=this.config,r=this.editor.assetProvider.getAssets("sticker");this.entityManager=new Ti(r,E({},n,{categoryKey:"thumbnailURI",categoryDynamicKey:"thumbnail",itemKey:"stickerURI",itemDynamicKey:"sticker",locale:E({},this.locale.items,this.locale.categories),getAssetPath:this.editor.getAssetPath("sticker")}))}return Object.defineProperty(e,"defaultColors",{get:function(){return al.defaultColors},enumerable:!0,configurable:!0}),e.prototype.selectLast=function(){this.editor.spriteStore.selectHighestOrderSprite(Array.from(this.state.keys()))},e.prototype.doesStickerAssetExist=function(e){return-1!==this.entityManager.items.findIndex((function(t){return t.identifier===e}))},e.prototype.add=function(e){var t=this.entities.find((function(t){return t.identifier===e})),n=t?t.tintMode:Vi.tintMode,r=t?t.resizeMode:Vi.resizeMode;this.editor.spriteStore.addSticker({state:{identifier:e,tintMode:n,tintColor:Vi.tintColor,opacity:Vi.opacity,tintColorId:"white",resizeMode:r}})},e.prototype.duplicate=function(){if(this.id){var e=this.editor.spriteStore.getDuplicateContainerTransform(this.id),t=this.editor.spriteStore.getDuplicateContainerFlip(this.id),n=this.editor.outputContainer.getData(),r=n.flipHorizontally,i=n.flipVertically;this.editor.spriteStore.addSticker({state:{identifier:this.identifier,tintColor:Ar(this.tintColor),tintMode:this.tintMode,resizeMode:this.resizeMode,opacity:this.opacity,flipHorizontally:r!==t.flipHorizontally,flipVertically:i!==t.flipVertically},transform:e})}},e.prototype.bringToFront=function(){this.id&&this.editor.spriteStore.bringToFront(this.id)},e.prototype.flipHorizontally=function(){this.id&&this.editor.spriteStore.flipHorizontally(this.id)},e.prototype.delete=function(){if(this.id){var e=this.id;this.editor.spriteStore.removeSprite(e),this.state.delete(e),this.selectLast()}},e.prototype.updateStateFromHistory=function(e,t){this.setState(e,t),this.editor.spriteStore.setContainerProperties(e,t)},e.prototype.setState=function(e,t){var n=this.state.get(e);n?("opacity"in t&&(n.opacity=t.opacity),t.tintColor&&(n.tintColor=t.tintColor),t.tintMode&&(n.tintMode=t.tintMode),t.resizeMode&&(n.resizeMode=t.resizeMode),this.state.set(e,n)):this.state.set(e,{identifier:t.identifier,opacity:t.opacity,tintMode:t.tintMode,resizeMode:t.resizeMode,tintColor:t.tintColor?t.tintColor:Vi.tintColor})},e.prototype.addFiles=function(e){return T(this,void 0,void 0,(function(){var t,n,r;return O(this,(function(i){switch(i.label){case 0:if(this.editor.modalStore.showInfoModal("loading"),!e.length)return[3,4];for(t=0,n=[],t=0;t<e.length;t+=1)n.push(qs(e[t],!0));i.label=1;case 1:return i.trys.push([1,3,,4]),[4,Promise.all(n)];case 2:return r=i.sent(),this.addCustomStickerAsset(r),[3,4];case 3:return i.sent(),this.editor.modalStore.hideModal(),this.editor.modalStore.showActionModal({identifier:"stickerLoading"}),[3,4];case 4:return[2]}}))}))},e.prototype.addCustomStickerAsset=function(e){return T(this,void 0,void 0,(function(){var t,n,r,i,o=this;return O(this,(function(a){switch(a.label){case 0:return t=e.map((function(e){return{sticker:e.image,thumbnailURI:e.smallImage,name:e.name,tintMode:o.customStickerTintMode,resizeMode:"keepAspect",identifier:e.id,type:e.type}})),this.customStickerIds=this.customStickerIds.concat(t.map((function(e){return{identifier:e.identifier,type:e.type}}))),n=this.locale.categories.imgly_sticker_custom,this.editor.assetProvider.addCustomStickerAsset(t,"imgly_sticker_custom",n),r=this.editor.assetProvider.getAssets("sticker"),i=this.config,this.entityManager=new Ti(r,E({},i,{categoryKey:"thumbnailURI",categoryDynamicKey:"thumbnail",itemDynamicKey:"thumbnailURI",itemKey:"stickerURI",locale:this.locale.items,getAssetPath:this.editor.getAssetPath("sticker")})),this.selectedCategory=Vi.identifier,[4,this.editor.wait()];case 1:return a.sent(),this.selectedCategory="imgly_sticker_custom",this.editor.modalStore.hideModal(),[2]}}))}))},e.prototype.toolSnapshot=function(){this.addSnapshot("edit",this.locale.history.opacity)},e.prototype.addSnapshot=function(e,t){this.currentSticker&&this.editor.spriteStore.addSnapshot(e,t)},e.prototype.toggleCategorySelection=function(e){this.selectedCategory=this.selectedCategory===e?"identity":e},e.prototype.pureReset=function(){this.state=hn.map(Gi)},Object.defineProperty(e.prototype,"isStickerSelected",{get:function(){return this.editor.spriteStore.isSpriteSticker},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCustomStickerEnabled",{get:function(){return this.config.enableCustomUpload},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"customStickerTintMode",{get:function(){return this.config.customStickerTintMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentSticker",{get:function(){if(this.isStickerSelected){var e=this.state.get(this.id);if(e)return e}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){if(this.isStickerSelected){var e=this.state.get(this.id);if(e)return e.identifier}return"none"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){if(this.isStickerSelected)return this.editor.spriteStore.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"opacity",{get:function(){return this.currentSticker?this.currentSticker.opacity:Vi.opacity},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tintMode",{get:function(){return this.currentSticker?this.currentSticker.tintMode:Vi.tintMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resizeMode",{get:function(){return this.currentSticker?this.currentSticker.resizeMode:Vi.resizeMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tintable",{get:function(){return!!this.currentSticker&&("solid"===this.currentSticker.tintMode||"colorized"===this.currentSticker.tintMode)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tintColor",{get:function(){return this.currentSticker?this.currentSticker.tintColor:Vi.tintColor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this.editor.configStore.config[j.STICKER]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this.editor.configStore.locale[j.STICKER]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localeColor",{get:function(){return this.editor.configStore.locale.common.color},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedCategoryIdentifier",{get:function(){return this.selectedCategory},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"entities",{get:function(){return this.entityManager.getEntities(this.selectedCategoryIdentifier)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"categories",{get:function(){return this.entityManager.getCategories(this.selectedCategoryIdentifier)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"flattenCategories",{get:function(){return this.config.flattenCategories},enumerable:!0,configurable:!0}),C([hn],e.prototype,"selectedCategory",void 0),C([yr],e.prototype,"selectLast",null),C([yr],e.prototype,"add",null),C([yr],e.prototype,"duplicate",null),C([yr],e.prototype,"bringToFront",null),C([yr],e.prototype,"flipHorizontally",null),C([yr],e.prototype,"delete",null),C([yr],e.prototype,"updateStateFromHistory",null),C([yr],e.prototype,"setState",null),C([yr],e.prototype,"changeOpacity",void 0),C([yr],e.prototype,"changeTintColor",void 0),C([yr],e.prototype,"addFiles",null),C([yr],e.prototype,"addCustomStickerAsset",null),C([yr],e.prototype,"toggleCategorySelection",null),C([yr],e.prototype,"pureReset",null),C([_n],e.prototype,"isStickerSelected",null),C([_n],e.prototype,"isCustomStickerEnabled",null),C([_n],e.prototype,"customStickerTintMode",null),C([_n],e.prototype,"currentSticker",null),C([_n],e.prototype,"identifier",null),C([_n],e.prototype,"id",null),C([_n],e.prototype,"opacity",null),C([_n],e.prototype,"tintMode",null),C([_n],e.prototype,"resizeMode",null),C([_n],e.prototype,"tintable",null),C([_n],e.prototype,"tintColor",null),C([_n],e.prototype,"config",null),C([_n],e.prototype,"locale",null),C([_n],e.prototype,"localeColor",null),C([_n],e.prototype,"selectedCategoryIdentifier",null),C([_n],e.prototype,"entities",null),C([_n],e.prototype,"categories",null),C([_n],e.prototype,"flattenCategories",null),e}(),ll=new RegExp(/\uFE0F|\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\uD000-\uDFFF]|[\u0D7A-\u0D7F]|[\u110e-\u11e0]|\uffba|\u03A7|\u03C7|\u0E09|\u10B9|\u10E9|\u132A|\u1396|\u1665|\u166D|\u1842|\u1D61|\u1D6A|\uD834|\uD835|\uDEBE|\uDED8|\uDEF8|\uDF0E|\uDF12|\uDF32|\uDF4C|\uDF6C|\uDF86|\uDFA6|\uDFC0|[\u1C50-\u1C56]|[\uA700-\uA707]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff]/g),cl=e.div($s||($s=A(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  background: ",";\n  color: ",";\n  display: flex;\n  flex-direction: row;\n  overflow-y: hidden;\n  overflow-x: hidden;\n  -webkit-touch-callout: none;\n  user-select: none;\n  * {\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    font-family: '","', sans-serif;\n    /* css reset for a global box-sizing: border-box */\n    box-sizing: content-box;\n    /* todo: fix the issue with these settings */\n    font-size: inherit;\n    color: inherit;\n    line-height: normal;\n  }\n"],["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  background: ",";\n  color: ",";\n  display: flex;\n  flex-direction: row;\n  overflow-y: hidden;\n  overflow-x: hidden;\n  -webkit-touch-callout: none;\n  user-select: none;\n  * {\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    font-family: '","', sans-serif;\n    /* css reset for a global box-sizing: border-box */\n    box-sizing: content-box;\n    /* todo: fix the issue with these settings */\n    font-size: inherit;\n    color: inherit;\n    line-height: normal;\n  }\n"])),(function(e){return e.theme.background}),(function(e){return e.theme.foreground}),(function(e){return e.theme.typography.fontFamily}));cl.defaultProps={theme:os};var ul,dl,pl,fl=t(ul||(ul=A(["\n  from { transform: translate(-50%, 0%); }\n  to { transform: translate(-50%, 50%); }\n"],["\n  from { transform: translate(-50%, 0%); }\n  to { transform: translate(-50%, 50%); }\n"]))),hl=e.div(pl||(pl=A(["\n  position: absolute;\n  top: ","px;\n  left: ","px;\n  transform: translate(-50%, 50%);\n  background: black;\n  color: white;\n  border-radius: ","px;\n  padding: 10px 16px;\n  text-align: center;\n  z-index: ",";\n  visibility: hidden;\n\n  ","\n"],["\n  position: absolute;\n  top: ","px;\n  left: ","px;\n  transform: translate(-50%, 50%);\n  background: black;\n  color: white;\n  border-radius: ","px;\n  padding: 10px 16px;\n  text-align: center;\n  z-index: ",";\n  visibility: hidden;\n\n  ","\n"])),(function(e){return e.position.y}),(function(e){return e.position.x}),(function(e){return e.theme.shape.radiusMedium}),(function(e){return e.theme.measurements.zIndex.toast}),(function(e){return e.show&&n(dl||(dl=A(["\n      visibility: visible;\n      animation: "," 0.5s, fadeout 0.5s 2.5s;\n    "],["\n      visibility: visible;\n      animation: "," 0.5s, fadeout 0.5s 2.5s;\n    "])),fl)}));
/** @license mobx-react v5.4.4
 * index.module.js
 *
 * Copyright (c) 2015 Michel Weststrate.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
function ml(e){return(ml="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vl(e,t,n){return t&&yl(e.prototype,t),n&&yl(e,n),e}function bl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wl(e,t)}function xl(e){return(xl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wl(e,t){return(wl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sl(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function El(e,t){return e(t={exports:{}},t.exports),t.exports}var kl,Cl=El((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116;function g(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case s:case a:return e;default:switch(e=e&&e.$$typeof){case c:case p:case l:return e;default:return t}}case i:return t}}}function y(e){return g(e)===d}t.typeOf=g,t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=p,t.Fragment=o,t.Profiler=s,t.Portal=i,t.StrictMode=a,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===s||e===a||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===h||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p)},t.isAsyncMode=function(e){return y(e)||g(e)===u},t.isConcurrentMode=y,t.isContextConsumer=function(e){return g(e)===c},t.isContextProvider=function(e){return g(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return g(e)===p},t.isFragment=function(e){return g(e)===o},t.isProfiler=function(e){return g(e)===s},t.isPortal=function(e){return g(e)===i},t.isStrictMode=function(e){return g(e)===a}}));(kl=Cl)&&kl.__esModule&&Object.prototype.hasOwnProperty.call(kl,"default")&&kl.default;Cl.typeOf,Cl.AsyncMode,Cl.ConcurrentMode,Cl.ContextConsumer,Cl.ContextProvider,Cl.Element,Cl.ForwardRef,Cl.Fragment,Cl.Profiler,Cl.Portal,Cl.StrictMode,Cl.isValidElementType,Cl.isAsyncMode,Cl.isConcurrentMode,Cl.isContextConsumer,Cl.isContextProvider,Cl.isElement,Cl.isForwardRef,Cl.isFragment,Cl.isProfiler,Cl.isPortal,Cl.isStrictMode;var Tl=El((function(e){e.exports=Cl})),Ol={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Il={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Rl={};Rl[Tl.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var Ml=Object.defineProperty,Al=Object.getOwnPropertyNames,Pl=Object.getOwnPropertySymbols,zl=Object.getOwnPropertyDescriptor,Dl=Object.getPrototypeOf,Ll=Object.prototype;var Fl=function e(t,n,r){if("string"!=typeof n){if(Ll){var i=Dl(n);i&&i!==Ll&&e(t,i,r)}var o=Al(n);Pl&&(o=o.concat(Pl(n)));for(var a=Rl[t.$$typeof]||Ol,s=Rl[n.$$typeof]||Ol,l=0;l<o.length;++l){var c=o[l];if(!(Il[c]||r&&r[c]||s&&s[c]||a&&a[c])){var u=zl(n,c);try{Ml(t,c,u)}catch(e){}}}return t}return t},jl=function(){function e(){gl(this,e),this.listeners=[]}return vl(e,[{key:"on",value:function(e){var t=this;return this.listeners.push(e),function(){var n=t.listeners.indexOf(e);-1!==n&&t.listeners.splice(n,1)}}},{key:"emit",value:function(e){this.listeners.forEach((function(t){return t(e)}))}}]),e}();function Bl(e){function t(t,n,r,i,o,a){for(var s=arguments.length,l=new Array(s>6?s-6:0),c=6;c<s;c++)l[c-6]=arguments[c];return Tn((function(){if(i=i||"<<anonymous>>",a=a||r,null==n[r]){if(t){var s=null===n[r]?"null":"undefined";return new Error("The "+o+" `"+a+"` is marked as required in `"+i+"`, but its value is `"+s+"`.")}return null}return e.apply(void 0,[n,r,i,o,a].concat(l))}))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function Ul(e){var t=ml(e);return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function Nl(e,t){return Bl((function(n,r,i,o,a){return Tn((function(){if(e&&Ul(n[r])===t.toLowerCase())return null;var o;switch(t){case"Array":o=ti;break;case"Object":o=mi;break;case"Map":o=oi;break;default:throw new Error("Unexpected mobxType: ".concat(t))}var s=n[r];if(!o(s)){var l=function(e){var t=Ul(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}(s),c=e?" or javascript `"+t.toLowerCase()+"`":"";return new Error("Invalid prop `"+a+"` of type `"+l+"` supplied to `"+i+"`, expected `mobx.Observable"+t+"`"+c+".")}return null}))}))}function Hl(e,t){return Bl((function(n,r,i,o,a){for(var s=arguments.length,l=new Array(s>5?s-5:0),c=5;c<s;c++)l[c-5]=arguments[c];return Tn((function(){if("function"!=typeof t)return new Error("Property `"+a+"` of component `"+i+"` has invalid PropType notation.");var s=Nl(e,"Array")(n,r,i);if(s instanceof Error)return s;for(var c=n[r],u=0;u<c.length;u++)if((s=t.apply(void 0,[c,u,i,o,a+"["+u+"]"].concat(l)))instanceof Error)return s;return null}))}))}Nl(!1,"Array"),Hl.bind(null,!1),Nl(!1,"Map"),Nl(!1,"Object"),Nl(!0,"Array"),Hl.bind(null,!0);var Wl=Nl(!0,"Object");var Vl=0;var Gl={};function Xl(e){return Gl[e]||(Gl[e]=function(e){if("function"==typeof Symbol)return Symbol(e);var t="__$mobx-react ".concat(e," (").concat(Vl,")");return Vl++,t}(e)),Gl[e]}var Yl=Xl("patchMixins"),Kl=Xl("patchedDefinition");function ql(e,t){var n=e[Yl]=e[Yl]||{},r=n[t]=n[t]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}function $l(e,t){for(var n=this,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t.locks++;try{var a;return null!=e&&(a=e.apply(this,i)),a}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,i)}))}}function Zl(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];$l.call.apply($l,[this,e,t].concat(r))}}function Jl(e,t,n,r,i){var o,a=Zl(i,r);return bl(o={},Kl,!0),bl(o,"get",(function(){return a})),bl(o,"set",(function(i){if(this===e)a=Zl(i,r);else{var o=Jl(this,t,n,r,i);Object.defineProperty(this,t,o)}})),bl(o,"configurable",!0),bl(o,"enumerable",n),o}var Ql={mobxStores:Wl};Object.seal(Ql);var ec={contextTypes:{get:function(){return Ql},set:function(e){console.warn("Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`")},configurable:!0,enumerable:!1},isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}};function tc(e,t,n){var r="inject-"+(t.displayName||t.name||t.constructor&&t.constructor.name||"Unknown");n&&(r+="-with-"+n);var i=function(n){function r(){var e,t;gl(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=Sl(this,(e=xl(r)).call.apply(e,[this].concat(i)))).storeRef=function(e){t.wrappedInstance=e},t}return _l(r,h),vl(r,[{key:"render",value:function(){var n={};for(var r in this.props)this.props.hasOwnProperty(r)&&(n[r]=this.props[r]);var i=e(this.context.mobxStores||{},n,this.context)||{};for(var o in i)n[o]=i[o];return function(e){return!(e.prototype&&e.prototype.render)}(t)||(n.ref=this.storeRef),g(t,n)}}]),r}();return i.displayName=r,Fl(i,t),i.wrappedComponent=t,Object.defineProperties(i,ec),i}function nc(e){return function(t,n){return e.forEach((function(e){if(!(e in n)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");n[e]=t[e]}})),n}}function rc(){var e;if("function"==typeof arguments[0])return e=arguments[0],function(t){var n=tc(e,t);return n.isMobxInjector=!1,(n=wc(n)).isMobxInjector=!0,n};for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e=nc(t),function(n){return tc(e,n,t.join("-"))}}var ic=Xl("isUnmounted"),oc=!1,ac=!1,sc="undefined"!=typeof WeakMap?new WeakMap:void 0,lc=new jl,cc=Xl("skipRender"),uc=Xl("isForcingUpdate"),dc="function"==typeof f&&f((function(e,t){})).$$typeof;function pc(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}function fc(e){if(_)try{return _(e)}catch(e){return null}return null}function hc(e){var t=fc(e);t&&sc&&sc.set(t,e),lc.emit({event:"render",renderTime:e.__$mobRenderEnd-e.__$mobRenderStart,totalTime:Date.now()-e.__$mobRenderStart,component:e,node:t})}var mc=new jl;function gc(e,t){!function(e,t){for(var n=ql(e,t),r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];for(var a=0;a<i.length;a++){var s=i[a];n.methods.indexOf(s)<0&&n.methods.push(s)}var l=Object.getOwnPropertyDescriptor(e,t);if(!l||!l[Kl]){var c=e[t],u=Jl(e,t,l?l.enumerable:void 0,n,c);Object.defineProperty(e,t,u)}}(e,t,_c[t])}function yc(e,t){if(vc(e,t))return!0;if("object"!==ml(e)||null===e||"object"!==ml(t)||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!hasOwnProperty.call(t,n[i])||!vc(e[n[i]],t[n[i]]))return!1;return!0}function vc(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function bc(e){var t=this;function n(){var e=this;a=!1;var t=void 0,n=void 0;if(s.track((function(){oc&&(e.__$mobRenderStart=Date.now());try{n=function(e,t){var n,r=Bn(e);try{n=t()}finally{Un(r)}return n}(!1,o)}catch(e){t=e}oc&&(e.__$mobRenderEnd=Date.now())})),t)throw mc.emit(t),t;return n}var r=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",i=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID||this._reactInternalInstance&&this._reactInternalInstance._debugID||this._reactInternalFiber&&this._reactInternalFiber._debugID;pc(this,cc,!1),pc(this,uc,!1);var o=e.bind(this),a=!1,s=new nr("".concat(r,"#").concat(i,".render()"),(function(){if(!a&&(a=!0,"function"==typeof t.componentWillReact&&t.componentWillReact(),!0!==t[ic])){var e=!0;try{pc(t,uc,!0),t[cc]||h.prototype.forceUpdate.call(t),e=!1}finally{pc(t,uc,!1),e&&s.dispose()}}}));return s.reactComponent=this,n.$mobx=s,this.render=n,n.call(this)}var _c={componentWillUnmount:function(){if(this.render.$mobx&&this.render.$mobx.dispose(),this[ic]=!0,oc){var e=fc(this);e&&sc&&sc.delete(e),lc.emit({event:"destroy",component:this,node:e})}},componentDidMount:function(){oc&&hc(this)},componentDidUpdate:function(){oc&&hc(this)},shouldComponentUpdate:function(e,t){return this.state!==t||!yc(this.props,e)}};function xc(e,t){var n=Xl("reactProp_".concat(t,"_valueHolder")),r=Xl("reactProp_".concat(t,"_atomHolder"));function i(){return this[r]||pc(this,r,Gt("reactive "+t)),this[r]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return i.call(this).reportObserved(),this[n]},set:function(e){this[uc]||yc(this[n],e)?pc(this,n,e):(pc(this,n,e),pc(this,cc,!0),i.call(this).reportChanged(),pc(this,cc,!1))}})}function wc(e,t){if("string"==typeof e)throw new Error("Store names should be provided as array");if(Array.isArray(e))return ac||(ac=!0,console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))` instead of `@observer(["store1", "store2"]) ComponentClass`')),t?rc.apply(null,e)(wc(t)):function(t){return wc(e,t)};var n=e;if(!0===n.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),n.__proto__===m&&console.warn("Mobx observer: You are using 'observer' on React.PureComponent. These two achieve two opposite goals and should not be used together"),dc&&n.$$typeof===dc){var r=n.render;if("function"!=typeof r)throw new Error("render property of ForwardRef was not a function");return f((function(){var e=arguments;return p.createElement(Sc,null,(function(){return r.apply(void 0,e)}))}))}if(!("function"!=typeof n||n.prototype&&n.prototype.render||n.isReactClass||h.isPrototypeOf(n))){var i,o,a=wc((o=i=function(e){function t(){return gl(this,t),Sl(this,xl(t).apply(this,arguments))}return _l(t,h),vl(t,[{key:"render",value:function(){return n.call(this,this.props,this.context)}}]),t}(),i.displayName=n.displayName||n.name,i.contextTypes=n.contextTypes,i.propTypes=n.propTypes,i.defaultProps=n.defaultProps,o));return Fl(a,n),a}if(!n)throw new Error("Please pass a valid component to 'observer'");var s=n.prototype||n;!function(e){["componentDidMount","componentWillUnmount","componentDidUpdate"].forEach((function(t){gc(e,t)})),e.shouldComponentUpdate?e.shouldComponentUpdate!==_c.shouldComponentUpdate&&console.warn("Use `shouldComponentUpdate` in an `observer` based component breaks the behavior of `observer` and might lead to unexpected results. Manually implementing `sCU` should not be needed when using mobx-react."):e.shouldComponentUpdate=_c.shouldComponentUpdate}(s),n.isMobXReactObserver=!0,xc(s,"props"),xc(s,"state");var l=s.render;return s.render=function(){return bc.call(this,l)},n}var Sc=wc((function(e){var t=e.children,n=e.inject,r=e.render,i=t||r;if(void 0===i)return null;if(!n)return i();console.warn("<Observer inject=.../> is no longer supported. Please use inject on the enclosing component instead");var o=rc(n)(i);return p.createElement(o,null)}));Sc.displayName="Observer";var Ec=function(e,t,n,r,i){var o="children"===t?"render":"children";return"function"==typeof e[t]&&"function"==typeof e[o]?new Error("Invalid prop,do not use children and render in the same time in`"+n):"function"!=typeof e[t]&&"function"!=typeof e[o]?new Error("Invalid prop `"+i+"` of type `"+ml(e[t])+"` supplied to `"+n+"`, expected `function`."):void 0};function kc(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function Cc(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function Tc(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Sc.propTypes={render:Ec,children:Ec},kc.__suppressDeprecationWarning=!0,Cc.__suppressDeprecationWarning=!0,Tc.__suppressDeprecationWarning=!0;var Oc={children:!0,key:!0,ref:!0},Ic=function(e){function t(e,n){var r;return gl(this,t),(r=Sl(this,xl(t).call(this,e,n))).state={},Rc(e,r.state),r}return _l(t,h),vl(t,[{key:"render",value:function(){return y.only(this.props.children)}},{key:"getChildContext",value:function(){var e={};return Rc(this.context.mobxStores,e),Rc(this.props,e),{mobxStores:e}}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!e)return null;if(!t)return e;if(Object.keys(e).filter(Mc).length!==Object.keys(t).filter(Mc).length&&console.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!e.suppressChangedStoreWarning)for(var n in e)Mc(n)&&t[n]!==e[n]&&console.warn("MobX Provider: Provided store '"+n+"' has changed. Please avoid replacing stores as the change might not propagate to all children");return e}}]),t}();function Rc(e,t){if(e)for(var n in e)Mc(n)&&(t[n]=e[n])}function Mc(e){return!Oc[e]&&"suppressChangedStoreWarning"!==e}Ic.contextTypes={mobxStores:Wl},Ic.childContextTypes={mobxStores:Wl.isRequired},function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,i=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?i="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(i="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==i){var o=e.displayName||e.name,a="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+o+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==i?"\n  "+i:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=kc,t.componentWillReceiveProps=Cc),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=Tc;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;s.call(this,e,t,r)}}}(Ic);Xl("disposeOnUnmount");if(!h)throw new Error("mobx-react requires React to be available");if(!fr)throw new Error("mobx-react requires mobx to be available");if("function"==typeof b&&function(e){var t=e.enforceActions,n=e.computedRequiresReaction,r=e.computedConfigurable,i=e.disableErrorBoundaries,o=e.arrayBuffer,a=e.reactionScheduler,s=e.reactionRequiresObservable,l=e.observableRequiresReaction;if(!0===e.isolateGlobalState&&((Kn.pendingReactions.length||Kn.inBatch||Kn.isRunningReactions)&&xt("isolateGlobalState should be called before MobX is running any reactions"),Yn=!0,Xn&&(0==--bt().__mobxInstanceCount&&(bt().__mobxGlobals=void 0),Kn=new Gn)),void 0!==t){"boolean"!=typeof t&&"strict"!==t||Et("Deprecated value for 'enforceActions', use 'false' => '\"never\"', 'true' => '\"observed\"', '\"strict\"' => \"'always'\" instead");var c=void 0;switch(t){case!0:case"observed":c=!0;break;case!1:case"never":c=!1;break;case"strict":case"always":c="strict";break;default:xt("Invalid value for 'enforceActions': '"+t+"', expected 'never', 'always' or 'observed'")}Kn.enforceActions=c,Kn.allowStateChanges=!0!==c&&"strict"!==c}void 0!==n&&(Kn.computedRequiresReaction=!!n),void 0!==s&&(Kn.reactionRequiresObservable=!!s),void 0!==l&&(Kn.observableRequiresReaction=!!l,Kn.allowStateReads=!Kn.observableRequiresReaction),void 0!==r&&(Kn.computedConfigurable=!!r),void 0!==i&&(!0===i&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors if this is on."),Kn.disableErrorBoundaries=!!i),"number"==typeof o&&Qr(o),a&&sr(a)}({reactionScheduler:b}),"object"===("undefined"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__?"undefined":ml(__MOBX_DEVTOOLS_GLOBAL_HOOK__))){var Ac={spy:fr,extras:{getDebugName:yi}},Pc={renderReporter:lc,componentByNodeRegistry:sc,componentByNodeRegistery:sc,trackComponents:function(){if("undefined"==typeof WeakMap)throw new Error("[mobx-react] tracking components is not supported in this browser.");oc||(oc=!0)}};__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(Pc,Ac)}var zc,Dc,Lc=n(zc||(zc=A(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: ","px;\n  width: ","px;\n  border-radius: ",";\n  pointer-events: none;\n"],["\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: ","px;\n  width: ","px;\n  border-radius: ",";\n  pointer-events: none;\n"])),(function(e){return e.theme.measurements.colorItem.size}),(function(e){return e.theme.measurements.colorItem.size}),(function(e){return e.theme.colorItem.borderRadius||e.theme.shape.radiusSmall+"px"})),Fc=e.div.attrs((function(e){return{style:{background:e.color}}}))(Dc||(Dc=A(["\n  ","\n  z-index: ",";\n"],["\n  ","\n  z-index: ",";\n"])),Lc,(function(e){return e.theme.measurements.zIndex.colorItem.background}));Fc.defaultProps={theme:os};var jc,Bc=e.div.attrs((function(e){return{style:e.url?{backgroundImage:"url("+e.url+")"}:{}}}))(jc||(jc=A(["\n  ","\n  z-index: ",";\n"],["\n  ","\n  z-index: ",";\n"])),Lc,(function(e){return e.theme.measurements.zIndex.colorItem.tiledBackground}));Bc.defaultProps={theme:os};var Uc,Nc,Hc,Wc=e.div(Nc||(Nc=A(["\n  ","\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: ",";\n\n  box-sizing: border-box;\n  border: 2px solid transparent;\n  border-radius: ",";\n  transition: border-color 300ms ease-in-out;\n  ","\n"],["\n  ","\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: ",";\n\n  box-sizing: border-box;\n  border: 2px solid transparent;\n  border-radius: ",";\n  transition: border-color 300ms ease-in-out;\n  ","\n"])),Lc,(function(e){return e.theme.measurements.zIndex.colorItem.overlay}),(function(e){return e.theme.colorItem.borderRadius||e.theme.shape.radiusSmall+"px"}),(function(e){return e.isActive&&n(Uc||(Uc=A(["\n      border-color: ",";\n    "],["\n      border-color: ",";\n    "])),e.theme.selectColor.activeBorderColor)})),Vc=e.span(Hc||(Hc=A(["\n  display: inline-block;\n  height: 2px;\n  width: 2px;\n  border-radius: 50%;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.6);\n  background: rgba(255, 255, 255, 0.87);\n  margin: 1px;\n  pointer-events: none;\n"],["\n  display: inline-block;\n  height: 2px;\n  width: 2px;\n  border-radius: 50%;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.6);\n  background: rgba(255, 255, 255, 0.87);\n  margin: 1px;\n  pointer-events: none;\n"]))),Gc=function(e){var t=e.isActive,n=e.className,r=e.style;return p.createElement(Wc,{isActive:t,className:n,style:r},t&&p.createElement(p.Fragment,null,p.createElement(Vc,null),p.createElement(Vc,null),p.createElement(Vc,null)))};Wc.defaultProps={theme:os};var Xc,Yc,Kc,qc,$c,Zc,Jc,Qc,eu,tu,nu,ru,iu,ou,au,su,lu,cu,uu,du,pu,fu,hu,mu,gu,yu,vu,bu,_u,xu,wu,Su,Eu,ku,Cu,Tu=n(Xc||(Xc=A(["\n  &:focus {\n    outline: none;\n    box-shadow: 0 0 2px ",";\n  }\n  &:-moz-focusring {\n    outline: none;\n    box-shadow: 0 0 2px ",";\n  }\n"],["\n  &:focus {\n    outline: none;\n    box-shadow: 0 0 2px ",";\n  }\n  &:-moz-focusring {\n    outline: none;\n    box-shadow: 0 0 2px ",";\n  }\n"])),(function(e){return e.theme.focusOutlineColor}),(function(e){return e.theme.focusOutlineColor})),Ou=n(Yc||(Yc=A(["\n  position: absolute !important;\n  height: 1px;\n  width: 1px;\n  overflow: hidden;\n  clip: rect(1px 1px 1px 1px); /* IE6, IE7 */\n  clip: rect(1px, 1px, 1px, 1px);\n"],["\n  position: absolute !important;\n  height: 1px;\n  width: 1px;\n  overflow: hidden;\n  clip: rect(1px 1px 1px 1px); /* IE6, IE7 */\n  clip: rect(1px, 1px, 1px, 1px);\n"]))),Iu=n(Kc||(Kc=A(["\n  -webkit-overflow-scrolling: touch;\n  &::-webkit-scrollbar {\n    display: none;\n    /* Safari */\n    -webkit-appearance: none; /* stylelint-disable-line */\n    width: 0;\n    height: 0;\n  }\n  -ms-overflow-style: none; /* IE 11 */\n  scrollbar-width: none; /* Firefox 64 */\n"],["\n  -webkit-overflow-scrolling: touch;\n  &::-webkit-scrollbar {\n    display: none;\n    /* Safari */\n    -webkit-appearance: none; /* stylelint-disable-line */\n    width: 0;\n    height: 0;\n  }\n  -ms-overflow-style: none; /* IE 11 */\n  scrollbar-width: none; /* Firefox 64 */\n"]))),Ru=t(qc||(qc=A(["\nfrom {\n  opacity: 1;\n  transform: scale(0);\n}\nto {\n  opacity: 0;\n  transform: scale(10);\n}\n"],["\nfrom {\n  opacity: 1;\n  transform: scale(0);\n}\nto {\n  opacity: 0;\n  transform: scale(10);\n}\n"]))),Mu=t($c||($c=A(["\n  0% {\n    opacity: 0;\n    transform: scale(0.9);\n  }\n  100% {\n    opacity: 1;\n    transform: scale(1);\n  }\n"],["\n  0% {\n    opacity: 0;\n    transform: scale(0.9);\n  }\n  100% {\n    opacity: 1;\n    transform: scale(1);\n  }\n"]))),Au=t(Zc||(Zc=A(["\n  0% {\n    opacity: 0;\n    transform: scale(0.9) translateY(-20px);\n  }\n  100% {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n  }\n"],["\n  0% {\n    opacity: 0;\n    transform: scale(0.9) translateY(-20px);\n  }\n  100% {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n  }\n"]))),Pu=e.span(Jc||(Jc=A(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"],["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"]))),zu=e(Pu)(Qc||(Qc=A([""],[""]))),Du=e(Pu)(eu||(eu=A([""],[""]))),Lu=e(Pu)(tu||(tu=A([""],[""]))),Fu={display:"none",left:0,top:0},ju=e(Pu)(nu||(nu=A(["\n  display: ",";\n  left: ","px;\n  top: ","px;\n  pointer-events: none;\n  border-radius: 50%;\n  background-color: rgba(255, 255, 255, 0.12);\n  animation: "," 1.2s;\n  width: 100px;\n  height: 100px;\n  margin-top: -50px;\n  margin-left: -50px;\n  opacity: 0;\n"],["\n  display: ",";\n  left: ","px;\n  top: ","px;\n  pointer-events: none;\n  border-radius: 50%;\n  background-color: rgba(255, 255, 255, 0.12);\n  animation: "," 1.2s;\n  width: 100px;\n  height: 100px;\n  margin-top: -50px;\n  margin-left: -50px;\n  opacity: 0;\n"])),(function(e){return e.display}),(function(e){return e.left}),(function(e){return e.top}),Ru),Bu=n(ru||(ru=A(["\n  color: ",";\n"],["\n  color: ",";\n"])),(function(e){return e.theme.button.activeForeground})),Uu=e.button(iu||(iu=A(["\n  &&& {\n    box-sizing: border-box;\n  }\n  text-align: center;\n  position: relative;\n  padding: 4px 8px;\n  min-height: 32px;\n  border-radius: ","px;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  font-family: ",", sans-serif;\n  cursor: pointer;\n  border: none;\n  background-color: transparent;\n  overflow: hidden;\n  ","\n\n  /* Active */\n\n  &:active {\n    ","\n  }\n\n  ","\n\n  /* Disabled */\n\n  &:disabled {\n    cursor: default;\n    pointer-events: none;\n\n    "," {\n      background-color: ",";\n    }\n  }\n\n  /* Hover */\n\n  &:hover {\n    "," {\n      background-color: ",";\n    }\n  }\n"],["\n  &&& {\n    box-sizing: border-box;\n  }\n  text-align: center;\n  position: relative;\n  padding: 4px 8px;\n  min-height: 32px;\n  border-radius: ","px;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  font-family: ",", sans-serif;\n  cursor: pointer;\n  border: none;\n  background-color: transparent;\n  overflow: hidden;\n  ","\n\n  /* Active */\n\n  &:active {\n    ","\n  }\n\n  ","\n\n  /* Disabled */\n\n  &:disabled {\n    cursor: default;\n    pointer-events: none;\n\n    "," {\n      background-color: ",";\n    }\n  }\n\n  /* Hover */\n\n  &:hover {\n    "," {\n      background-color: ",";\n    }\n  }\n"])),(function(e){return e.theme.shape.radiusMedium}),(function(e){return e.theme.measurements.fontSystem.button1.size}),(function(e){return e.theme.measurements.fontSystem.button1.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.button1.case}),(function(e){return e.theme.typography.fontFamily}),Tu,Bu,(function(e){return e.isActive&&Bu}),Du,(function(e){return e.theme.button.outlinedInactiveOverlayColor}),Lu,(function(e){return e.theme.button.hoverOverlayColor})),Nu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state=Fu,t.timeout=null,t.onClick=function(e){var n=e.currentTarget.getBoundingClientRect(),r=e.pageX-n.left,i=e.pageY-n.top;"block"===t.state.display?t.setState({display:"none"},(function(){t.setRippleState(r,i)})):t.setRippleState(r,i),t.props.onClick(e)},t.setRippleState=function(e,n){t.setState({left:e,top:n,display:"block"}),t.timeout=setTimeout((function(){t.setState({display:"none"})}),1200)},t}return S(t,e),t.prototype.componentWillUnmount=function(){clearTimeout(this.timeout)},t.prototype.render=function(){var e=this.props,t=e.isActive,n=e.isDisabled,r=e.label,i=e.ariaLabel,o=e.children,a=e.className,s=k(e,["isActive","isDisabled","label","ariaLabel","children","className"]),l=this.state,c=l.left,u=l.top,d=l.display;return p.createElement(Uu,E({"data-test-id":i,className:a,isActive:t,disabled:n,"aria-label":i},s,{onClick:this.onClick}),r,o,p.createElement(ju,{display:d,left:c,top:u}),p.createElement(Du,null),p.createElement(Lu,null))},t.defaultProps={type:"button",isDisabled:!1,isActive:!1},t}(p.Component),Hu=e(Nu)(au||(au=A(["\n  ","\n"],["\n  ","\n"])),(function(e){return e.fullWidth&&n(ou||(ou=A(["\n      width: 100%;\n    "],["\n      width: 100%;\n    "])))})),Wu=e.div(su||(su=A(["\n  &:focus {\n    outline: none;\n  }\n\n  > img {\n    height: 18px;\n    width: 18px;\n  }\n\n  > svg {\n    height: 18px;\n    width: 18px;\n  }\n  display: none;\n\n  @media all and (min-width: 0) and (max-width: 599px) {\n    display: flex;\n  }\n"],["\n  &:focus {\n    outline: none;\n  }\n\n  > img {\n    height: 18px;\n    width: 18px;\n  }\n\n  > svg {\n    height: 18px;\n    width: 18px;\n  }\n  display: none;\n\n  @media all and (min-width: 0) and (max-width: 599px) {\n    display: flex;\n  }\n"]))),Vu=e.div(cu||(cu=A(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  &:focus {\n    outline: none;\n  }\n\n  ","\n"],["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  &:focus {\n    outline: none;\n  }\n\n  ","\n"])),(function(e){return e.hasIcon&&n(lu||(lu=A(["\n      @media all and (min-width: 0) and (max-width: 599px) {\n        display: none;\n      }\n    "],["\n      @media all and (min-width: 0) and (max-width: 599px) {\n        display: none;\n      }\n    "])))})),Gu=function(e){var t=e.label,n=e.children,r=e.icon,i=e.fullWidth,o=k(e,["label","children","icon","fullWidth"]),a=p.createElement(Vu,{hasIcon:!!r},t,n);return p.createElement(Hu,E({fullWidth:i},o),r&&p.createElement(Wu,null,r),(n||t)&&a)},Xu=e(Gu)(uu||(uu=A(["\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  font-size: ","px;\n  min-width: 32px;\n"],["\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  font-size: ","px;\n  min-width: 32px;\n"])),(function(e){return e.theme.button.outlinedPrimaryBackground}),(function(e){return e.theme.button.outlinedPrimaryForeground}),(function(e){return e.theme.button.outlinedBorderColor}),(function(e){return e.theme.measurements.fontSystem.button1.size})),Yu=e(Nu)(du||(du=A(["\n  color: ",";\n  font-size: ","px;\n\n  /* Repeat active styles so they are not overwritten */\n  ","\n\n  "," {\n    display: none;\n  }\n\n  &:disabled {\n    opacity: ",";\n  }\n"],["\n  color: ",";\n  font-size: ","px;\n\n  /* Repeat active styles so they are not overwritten */\n  ","\n\n  "," {\n    display: none;\n  }\n\n  &:disabled {\n    opacity: ",";\n  }\n"])),(function(e){return e.theme.button.textSecondaryForeground}),(function(e){return e.theme.measurements.fontSystem.button1.size}),(function(e){return e.isActive&&Bu}),Du,(function(e){return e.theme.button.textInactiveOpacity})),Ku=e(Gu)(pu||(pu=A(["\n  &&& {\n    background: ",";\n    color: ",";\n    border: 1px solid ",";\n    font-size: ","px;\n  }\n"],["\n  &&& {\n    background: ",";\n    color: ",";\n    border: 1px solid ",";\n    font-size: ","px;\n  }\n"])),(function(e){return e.theme.button.outlinedSecondaryBackground}),(function(e){return e.theme.button.outlinedSecondaryForeground}),(function(e){return e.theme.button.outlinedBorderColor}),(function(e){return e.theme.measurements.fontSystem.button1.size})),qu=e(Nu)(fu||(fu=A(["\n  color: ",";\n  /* Repeat active styles so they are not overwritten */\n  ","\n\n  "," {\n    display: none;\n  }\n\n  &:disabled {\n    opacity: ",";\n  }\n"],["\n  color: ",";\n  /* Repeat active styles so they are not overwritten */\n  ","\n\n  "," {\n    display: none;\n  }\n\n  &:disabled {\n    opacity: ",";\n  }\n"])),(function(e){return e.theme.foreground}),(function(e){return e.isActive&&Bu}),Du,(function(e){return e.theme.button.textInactiveOpacity})),$u=e.div(hu||(hu=A(["\n  display: flex;\n  &:focus {\n    outline: none;\n  }\n"],["\n  display: flex;\n  &:focus {\n    outline: none;\n  }\n"]))),Zu=function(e){e.label;var t=e.icon,n=(e.children,k(e,["label","icon","children"]));return p.createElement(qu,E({},n),p.createElement($u,null,t))},Ju=e(Gu)(mu||(mu=A(["\n  &&& {\n    background: ",";\n    color: ",";\n    border: 1px solid ",";\n    font-size: ","px;\n\n    &:active {\n      color: ",";\n    }\n  }\n"],["\n  &&& {\n    background: ",";\n    color: ",";\n    border: 1px solid ",";\n    font-size: ","px;\n\n    &:active {\n      color: ",";\n    }\n  }\n"])),(function(e){return e.theme.button.containedPrimaryBackground}),(function(e){return e.theme.button.containedPrimaryForeground}),(function(e){return e.theme.button.containedPrimaryBackground}),(function(e){return e.theme.measurements.fontSystem.button1.size}),(function(e){return e.theme.button.containedPrimaryForeground})),Qu=n(yu||(yu=A(["\n  border: 1px solid ",";\n  "," {\n    background-color: ",";\n  }\n"],["\n  border: 1px solid ",";\n  "," {\n    background-color: ",";\n  }\n"])),(function(e){return e.theme.card.activeBorderColor}),zu,(function(e){return e.theme.card.activeOverlayColor})),ed=e.button.attrs((function(e){var t={};return e.image&&(t.backgroundImage="url("+e.image+")"),{style:t}}))(vu||(vu=A(["\n  &&& {\n    box-sizing: border-box;\n  }\n\n  padding: 0;\n  cursor: pointer;\n  /* Safari will change the height of the toolbar and position the category cards at the bottom for some reason */\n  vertical-align: top;\n  border: none;\n  box-sizing: border-box;\n  background-size: cover;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-color: ",";\n  color: ",";\n  border-radius: ","px;\n  ",";\n  animation-fill-mode: both;\n  overflow: hidden;\n\n  ","\n\n  /* Active */\n\n  /* No :active styles on purpose. */\n\n  ","\n\n  /* Disabled */\n\n  &:disabled {\n    cursor: default;\n    pointer-events: none;\n\n    "," {\n      background-color: ",";\n    }\n  }\n\n  /* Hover */\n\n  &:hover {\n    "," {\n      background-color: ",";\n    }\n  }\n"],["\n  &&& {\n    box-sizing: border-box;\n  }\n\n  padding: 0;\n  cursor: pointer;\n  /* Safari will change the height of the toolbar and position the category cards at the bottom for some reason */\n  vertical-align: top;\n  border: none;\n  box-sizing: border-box;\n  background-size: cover;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-color: ",";\n  color: ",";\n  border-radius: ","px;\n  ",";\n  animation-fill-mode: both;\n  overflow: hidden;\n\n  ","\n\n  /* Active */\n\n  /* No :active styles on purpose. */\n\n  ","\n\n  /* Disabled */\n\n  &:disabled {\n    cursor: default;\n    pointer-events: none;\n\n    "," {\n      background-color: ",";\n    }\n  }\n\n  /* Hover */\n\n  &:hover {\n    "," {\n      background-color: ",";\n    }\n  }\n"])),(function(e){return e.theme.card.background}),(function(e){return e.theme.card.foreground}),(function(e){return e.theme.shape.radiusMedium}),(function(){return n(gu||(gu=A(["\n    animation: "," 0.2s linear;\n  "],["\n    animation: "," 0.2s linear;\n  "])),Au)}),Tu,(function(e){return e.isActive&&Qu}),Du,(function(e){return e.theme.card.inactiveOverlayColor}),Lu,(function(e){return e.theme.card.hoverOverlayColor})),td=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state=Fu,t.timeout=null,t.onKeyDown=function(e){"Space"!==e.key&&"Enter"!==e.key||t.props.onClick&&t.props.onClick()},t.onClick=function(e){var n=e.currentTarget.getBoundingClientRect(),r=e.pageX-n.left,i=e.pageY-n.top;"block"===t.state.display?t.setState({display:"none"},(function(){t.setRippleState(r,i)})):t.setRippleState(r,i),t.props.onClick(e)},t.setRippleState=function(e,n){t.setState({left:e,top:n,display:"block"}),t.timeout=setTimeout((function(){t.setState({display:"none"})}),1200)},t}return S(t,e),t.prototype.componentWillUnmount=function(){clearTimeout(this.timeout)},t.prototype.render=function(){var e=this.props,t=e.children,n=e.label,r=e.isActive,i=e.isDisabled,o=e.image,a=e.style,s=e.className,l=this.state,c=l.left,u=l.top,d=l.display;return p.createElement(ed,{isActive:r,"data-test-id":n,"aria-label":n,disabled:i,image:o,onClick:this.onClick,onKeyDown:this.onKeyDown,style:a,className:s},t,p.createElement(ju,{display:d,left:c,top:u}),p.createElement(zu,null),p.createElement(Du,null),p.createElement(Lu,null))},t}(p.Component),nd=e.div(bu||(bu=A(["\n  &&& {\n    font-size: ","px;\n    letter-spacing: ","px;\n    text-transform: ",";\n    left: 50%;\n    position: absolute;\n    transform: translateX(-50%);\n    top: 13px;\n    width: 100%;\n  }\n"],["\n  &&& {\n    font-size: ","px;\n    letter-spacing: ","px;\n    text-transform: ",";\n    left: 50%;\n    position: absolute;\n    transform: translateX(-50%);\n    top: 13px;\n    width: 100%;\n  }\n"])),(function(e){return e.theme.measurements.fontSystem.label.size}),(function(e){return e.theme.measurements.fontSystem.label.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.label.case})),rd=e.div(wu||(wu=A(["\n  position: absolute;\n  bottom: 0px;\n  border-radius: ","px;\n  left: 0;\n  ","\n  width: 100%;\n  text-align: center;\n  cursor: pointer;\n"],["\n  position: absolute;\n  bottom: 0px;\n  border-radius: ","px;\n  left: 0;\n  ","\n  width: 100%;\n  text-align: center;\n  cursor: pointer;\n"])),(function(e){return e.theme.shape.radiusMedium}),(function(e){return e.withBackground?n(_u||(_u=A(["\n          color: ",";\n          height: 40px;\n          background: ",";\n        "],["\n          color: ",";\n          height: 40px;\n          background: ",";\n        "])),e.theme.card.labelForeground,e.theme.card.labelBackground):n(xu||(xu=A(["\n          color: ",";\n          height: 32px;\n        "],["\n          color: ",";\n          height: 32px;\n        "])),e.theme.card.foreground)})),id=e.div(Su||(Su=A(["\n  position: absolute;\n  top: 6px;\n  width: 0;\n  height: 0;\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n  border-top: 5px solid ",";\n  transform: rotate(","deg);\n  display: inline-block;\n  transition-duration: 0.3s;\n  transition-timing-function: ease-in;\n"],["\n  position: absolute;\n  top: 6px;\n  width: 0;\n  height: 0;\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n  border-top: 5px solid ",";\n  transform: rotate(","deg);\n  display: inline-block;\n  transition-duration: 0.3s;\n  transition-timing-function: ease-in;\n"])),(function(e){return e.theme.card.labelForeground}),(function(e){return e.rotation||0})),od=e.span(Eu||(Eu=A(["\n  position: relative;\n  padding-left: 10px;\n"],["\n  position: relative;\n  padding-left: 10px;\n"]))),ad=e.div(ku||(ku=A(["\n  ","\n"],["\n  ","\n"])),Ou),sd=function(e){var t=e.children,n=e.className,r=e.caret,i=e.isActive,o=e.style,a=e.withBackground;if(e.hidden)return p.createElement(ad,null,t);return p.createElement(rd,{className:n,withBackground:a,style:o},p.createElement(nd,null,t,r&&p.createElement(od,null,p.createElement(id,{"aria-hidden":!0,rotation:i?180:0}))))},ld={Focused:Tu,HiddenScrollbar:Iu,VisuallyHidden:Ou},cd={ripple:Ru,scale:Mu,slide:Au},ud=e.button.attrs({type:"button"})(Cu||(Cu=A(["\n  &&& {\n    box-sizing: border-box;\n  }\n  position: relative;\n  background: transparent;\n  border: none;\n  height: ","px;\n  width: ","px;\n  margin: ",";\n  padding: 0;\n  cursor: pointer;\n  border-radius: ",";\n\n  &:hover {\n    opacity: 0.7;\n  }\n\n  ","\n\n  &:disabled {\n    opacity: ",";\n    cursor: default;\n  }\n"],["\n  &&& {\n    box-sizing: border-box;\n  }\n  position: relative;\n  background: transparent;\n  border: none;\n  height: ","px;\n  width: ","px;\n  margin: ",";\n  padding: 0;\n  cursor: pointer;\n  border-radius: ",";\n\n  &:hover {\n    opacity: 0.7;\n  }\n\n  ","\n\n  &:disabled {\n    opacity: ",";\n    cursor: default;\n  }\n"])),(function(e){return e.theme.measurements.colorItem.size}),(function(e){return e.theme.measurements.colorItem.size}),(function(e){return e.theme.colorItem.margin}),(function(e){return e.theme.colorItem.borderRadius||e.theme.shape.radiusSmall+"px"}),ld.Focused,(function(e){return e.theme.selectColor.inactiveOpacity}));ud.defaultProps={theme:os};var dd,pd,fd=rc("config")(wc((function(e){var t=e.isActive,n=e.onClick,r=e.color,i=e.label,o=e.isDisabled,a=e.tiledBackgroundUrl,s=e.className,l=e.style,c=e.children;return p.createElement(ud,{disabled:o,onClick:n,"aria-label":i,className:s,style:l},p.createElement(Bc,{url:a}),p.createElement(Fc,{color:r}),p.createElement(Gc,{isActive:t}),c)}))),hd=n(dd||(dd=A(["\n  opacity: 1;\n  visibility: visible;\n  display: block;\n"],["\n  opacity: 1;\n  visibility: visible;\n  display: block;\n"]))),md=e.div(pd||(pd=A(["\n  opacity: 0;\n  visibility: hidden;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: ",";\n  text-align: left;\n  background: ",";\n  transition: opacity 0.25s ease;\n  display: none;\n  height: 100%;\n  width: 100%;\n  ","\n"],["\n  opacity: 0;\n  visibility: hidden;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: ",";\n  text-align: left;\n  background: ",";\n  transition: opacity 0.25s ease;\n  display: none;\n  height: 100%;\n  width: 100%;\n  ","\n"])),(function(e){return e.theme.measurements.zIndex.modal.backdrop}),(function(e){return e.theme.modal.backdrop}),(function(e){return e.show&&hd}));md.defaultProps={theme:os};var gd,yd,vd,bd=e.div(gd||(gd=A(["\n  position: relative;\n  height: inherit;\n  width: inherit;\n"],["\n  position: relative;\n  height: inherit;\n  width: inherit;\n"]))),_d=e.div.attrs((function(e){return{role:"dialog","aria-hidden":!1,"aria-labelledby":e.heading}}))(yd||(yd=A(["\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: column;\n  transition: top 0.25s ease;\n  position: absolute;\n  top: ",";\n  left: ",";\n  width: ",";\n  height: ",";\n  transform: translate(-50%, -50%);\n  border-radius: ","px;\n  background: ",";\n  color: ",";\n"],["\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: column;\n  transition: top 0.25s ease;\n  position: absolute;\n  top: ",";\n  left: ",";\n  width: ",";\n  height: ",";\n  transform: translate(-50%, -50%);\n  border-radius: ","px;\n  background: ",";\n  color: ",";\n"])),(function(e){return e.y}),(function(e){return e.x}),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.theme.shape.radiusLarge}),(function(e){return e.theme.modal.background}),(function(e){return e.theme.modal.bodyForeground})),xd=e.div(vd||(vd=A(["\n  &&& {\n    display: flex;\n    flex: 0 0 auto;\n    flex-direction: row;\n    overflow: hidden;\n    width: inherit;\n    padding: 11px 20px;\n    box-sizing: border-box;\n  }\n"],["\n  &&& {\n    display: flex;\n    flex: 0 0 auto;\n    flex-direction: row;\n    overflow: hidden;\n    width: inherit;\n    padding: 11px 20px;\n    box-sizing: border-box;\n  }\n"]))),wd=function(e){var t=e.show,n=e.height,r=e.width,i=e.position,o=e.children,a=e.footer,s=e.heading,l=e.className,c=i?{x:"calc(50% + "+i.x+"px)",y:"calc(50% + "+i.y+"px)"}:{x:"50%",y:"50%"},u=c.x,d=c.y;return p.createElement(md,{show:t,className:l},p.createElement(bd,null,p.createElement(_d,{heading:s,x:u,y:d,height:n,width:r},p.createElement(xd,null,o),a&&a())))};_d.defaultProps={theme:os};var Sd,Ed,kd,Cd,Td,Od,Id,Rd=t(Sd||(Sd=A(["\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"],["\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"]))),Md=n(Ed||(Ed=A(["\n  animation: "," 2s infinite ease 1.5s;\n"],["\n  animation: "," 2s infinite ease 1.5s;\n"])),Rd),Ad=n(kd||(kd=A(["\n  animation: "," 2s infinite ease;\n"],["\n  animation: "," 2s infinite ease;\n"])),Rd),Pd=e.div(Cd||(Cd=A(["\n  margin-left: 30px;\n  h3 {\n    font-size: ","px;\n    letter-spacing: ","px;\n    text-transform: ",";\n    color: ",";\n  }\n  p {\n    font-size: ","px;\n    letter-spacing: ","px;\n    text-transform: ",";\n    color: ",";\n  }\n"],["\n  margin-left: 30px;\n  h3 {\n    font-size: ","px;\n    letter-spacing: ","px;\n    text-transform: ",";\n    color: ",";\n  }\n  p {\n    font-size: ","px;\n    letter-spacing: ","px;\n    text-transform: ",";\n    color: ",";\n  }\n"])),(function(e){return e.theme.measurements.fontSystem.headline2.size}),(function(e){return e.theme.measurements.fontSystem.headline2.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.body.case}),(function(e){return e.theme.modal.headerForeground}),(function(e){return e.theme.measurements.fontSystem.label.size}),(function(e){return e.theme.measurements.fontSystem.label.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.label.case}),(function(e){return e.theme.modal.bodyForeground})),zd=(e.div(Td||(Td=A(["\n  height: 4px;\n  padding: 0;\n  margin: 0;\n  background: rgba(54, 90, 252, 0.5);\n  &:after {\n    position: absolute;\n    bottom: 0px;\n    content: '';\n    width: ","%;\n    border-bottom: 4px solid ",";\n  }\n"],["\n  height: 4px;\n  padding: 0;\n  margin: 0;\n  background: rgba(54, 90, 252, 0.5);\n  &:after {\n    position: absolute;\n    bottom: 0px;\n    content: '';\n    width: ","%;\n    border-bottom: 4px solid ",";\n  }\n"])),(function(e){return e.percentage}),(function(e){return e.theme.primary})),e.div(Od||(Od=A(["\n  color: ",";\n  margin: 12px 0;\n  position: relative;\n  width: 40px;\n  height: 40px;\n  box-shadow: inset 0 0 0 2px;\n  transform: translateZ(0);\n  border-radius: 50%;\n  &:before,\n  &:after {\n    border-radius: 50%;\n    position: absolute;\n    content: '';\n  }\n  &:before {\n    width: 25px;\n    height: 45px;\n    background: ",";\n    border-radius: 45px 0 0 45px;\n    top: -2.5px;\n    left: -2.5px;\n    transform-origin: 25px 25px;\n    ",";\n  }\n  &:after {\n    width: 25px;\n    height: 45px;\n    background: ",";\n    border-radius: 0 45px 45px 0;\n    top: -2.5px;\n    left: 25px;\n    transform-origin: 0px 25px;\n    ",";\n  }\n"],["\n  color: ",";\n  margin: 12px 0;\n  position: relative;\n  width: 40px;\n  height: 40px;\n  box-shadow: inset 0 0 0 2px;\n  transform: translateZ(0);\n  border-radius: 50%;\n  &:before,\n  &:after {\n    border-radius: 50%;\n    position: absolute;\n    content: '';\n  }\n  &:before {\n    width: 25px;\n    height: 45px;\n    background: ",";\n    border-radius: 45px 0 0 45px;\n    top: -2.5px;\n    left: -2.5px;\n    transform-origin: 25px 25px;\n    ",";\n  }\n  &:after {\n    width: 25px;\n    height: 45px;\n    background: ",";\n    border-radius: 0 45px 45px 0;\n    top: -2.5px;\n    left: 25px;\n    transform-origin: 0px 25px;\n    ",";\n  }\n"])),(function(e){return e.theme.primary}),(function(e){return e.theme.modal.background}),Md,(function(e){return e.theme.modal.background}),Ad)),Dd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return S(t,e),t.prototype.render=function(){var e=this.props,t=e.show,n=e.heading,r=e.body,i=e.position,o=e.className;return p.createElement(wd,{show:t,position:i,height:"90px",width:"350px",className:o},p.createElement(zd,null),p.createElement(Pd,null,p.createElement("h3",null,n),p.createElement("p",null,r)))},t.defaultProps={position:{x:0,y:0}},t}(p.PureComponent),Ld=e.div(Id||(Id=A(["\n  padding-bottom: ","px;\n"],["\n  padding-bottom: ","px;\n"])),(function(e){return 8*(e.count||1)}));Ld.defaultProps={count:1};var Fd,jd,Bd,Ud=e.label(Fd||(Fd=A(["\n  ","\n"],["\n  ","\n"])),ld.VisuallyHidden),Nd=e.label(Bd||(Bd=A(["\n  &&& {\n    display: block;\n    font-size: ","px;\n    letter-spacing: ","px;\n    text-transform: ",";\n    color: ",";\n    margin: 0;\n\n    ","\n  }\n"],["\n  &&& {\n    display: block;\n    font-size: ","px;\n    letter-spacing: ","px;\n    text-transform: ",";\n    color: ",";\n    margin: 0;\n\n    ","\n  }\n"])),(function(e){return e.theme.measurements.fontSystem.body.size}),(function(e){return e.theme.measurements.fontSystem.body.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.body.case}),(function(e){return e.theme.toolControlBar.inputLabelForeground}),(function(e){return e.isDisabled&&n(jd||(jd=A(["\n        opacity: ",";\n        cursor: default;\n        pointer-events: none;\n      "],["\n        opacity: ",";\n        cursor: default;\n        pointer-events: none;\n      "])),(function(e){return e.theme.toolControlBar.inputLabelInactiveOpacity}))})),Hd=function(e){var t=e.label,n=e.htmlFor,r=e.show,i=e.style,o=e.isDisabled,a=e.className,s=r?Nd:Ud,l=n||(t?t.replace(" ","-"):void 0);return p.createElement(s,{style:i,isDisabled:o,htmlFor:l,className:a},t)};Hd.defaultProps={show:!0},Nd.defaultProps={theme:os};var Wd,Vd,Gd,Xd=n(Wd||(Wd=A(["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  width: 100%;\n  height: 26px;\n  color: ",";\n  padding-bottom: 7px;\n  border: none;\n  appearance: none;\n  border-bottom: 1px solid ",";\n  background: ",";\n  font-family: '","', sans-serif;\n  transition: border-color 0.4s ease-in-out;\n\n  &:focus {\n    outline: none;\n    border-color: ",";\n  }\n\n  &:-moz-focusring {\n    outline: none;\n    border-color: ",";\n  }\n\n  &:disabled {\n    opacity: ",";\n    pointer-events: none;\n  }\n\n  &:hover {\n    border-color: ",";\n  }\n"],["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  width: 100%;\n  height: 26px;\n  color: ",";\n  padding-bottom: 7px;\n  border: none;\n  appearance: none;\n  border-bottom: 1px solid ",";\n  background: ",";\n  font-family: '","', sans-serif;\n  transition: border-color 0.4s ease-in-out;\n\n  &:focus {\n    outline: none;\n    border-color: ",";\n  }\n\n  &:-moz-focusring {\n    outline: none;\n    border-color: ",";\n  }\n\n  &:disabled {\n    opacity: ",";\n    pointer-events: none;\n  }\n\n  &:hover {\n    border-color: ",";\n  }\n"])),(function(e){return e.theme.measurements.fontSystem.body.size}),(function(e){return e.theme.measurements.fontSystem.body.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.body.case}),(function(e){return e.theme.textInput.foreground}),(function(e){return e.theme.textInput.borderColor}),(function(e){return e.theme.textInput.background}),(function(e){return e.theme.typography.fontFamily}),(function(e){return e.theme.textInput.hoverBorderColor}),(function(e){return e.theme.textInput.hoverBorderColor}),(function(e){return e.theme.textInput.inactiveOpacity}),(function(e){return e.theme.textInput.hoverBorderColor})),Yd=e.input(Vd||(Vd=A(["\n  ","\n  /* override user agent style */\n  padding: 0;\n  &:disabled {\n    opacity: ",";\n    cursor: default;\n    pointer-events: none;\n  }\n"],["\n  ","\n  /* override user agent style */\n  padding: 0;\n  &:disabled {\n    opacity: ",";\n    cursor: default;\n    pointer-events: none;\n  }\n"])),Xd,(function(e){return e.theme.textInput.inactiveOpacity})),Kd=e.div(Gd||(Gd=A(["\n  position: relative;\n  &:first-child {\n    margin-right: 15px;\n  }\n"],["\n  position: relative;\n  &:first-child {\n    margin-right: 15px;\n  }\n"]))),qd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onChange=function(e){var n=t.props.onChange;n&&n(e.target.value)},t}return S(t,e),t.prototype.render=function(){var e=this.props,t=e.id,n=e.testId,r=e.value,i=e.type,o=e.min,a=e.max,s=e.onBlur,l=e.onFocus,c=e.onKeyUp,u=e.onKeyDown,d=e.onMouseUp,f=e.onTouchEnd,h=e.isDisabled,m=e.className,g=e.children;return p.createElement(Kd,{className:m},p.createElement(Yd,{id:t,"data-test-id":n,"aria-hidden":h,disabled:h,value:r,type:i,min:o,max:a,onChange:this.onChange,onBlur:s,onFocus:l,onKeyUp:c,onKeyDown:u,onMouseUp:d,onTouchEnd:f}),g)},t.defaultProps={type:"text"},t}(p.Component);Yd.defaultProps={theme:os};var $d,Zd,Jd,Qd,ep,tp,np,rp,ip,op=e.div(Jd||(Jd=A(["\n  ","\n"],["\n  ","\n"])),Qe()?n($d||($d=A([""],[""]))):n(Zd||(Zd=A(["\n        display: flex;\n        flex: 0 1 auto;\n        flex-direction: column;\n      "],["\n        display: flex;\n        flex: 0 1 auto;\n        flex-direction: column;\n      "])))),ap=function(e){function t(n){var r=e.call(this,n)||this;return r.node=null,r.handleOutsideClick=function(e){var t=r.props.value;r.node&&r.node.current&&r.node.current.contains(e.target)||r.setState({isActive:!1,value:t})},r.onSubmit=function(){var e=r.props.onSubmit,n=r.state.value;if(e){var i=parseFloat(t.cleanValue(n));Number.isNaN(i)||e(""+i)}r.setState({isActive:!1})},r.onFocus=function(){r.setState({isActive:!0})},r.onKeyDown=function(e){var n=r.state.value;if("Enter"===e.key)r.onSubmit();else if("ArrowUp"===e.key){"number"==typeof(i=parseFloat(t.cleanValue(n)))&&r.setState({value:(i+1).toString(),isActive:!0})}else if("ArrowDown"===e.key){var i;"number"==typeof(i=parseFloat(t.cleanValue(n)))&&r.setState({value:(i-1).toString(),isActive:!0})}},r.onChange=function(e){r.setState({value:e,isActive:!0})},r.state={value:r.props.value||"",isActive:!1},r.node=p.createRef(),document.addEventListener("mousedown",r.handleOutsideClick,!1),document.addEventListener("touchstart",r.handleOutsideClick,!1),r}return S(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.value,r=t.value,i=t.isActive;return n===r||i?null:{value:n}},t.cleanValue=function(e){return e?e.replace(",",".").replace(/[a-zA-Z]/g,"").trim():""},t.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleOutsideClick,!1),document.removeEventListener("touchstart",this.handleOutsideClick,!1)},t.prototype.render=function(){var e=this.props,t=e.id,n=e.label,r=e.isDisabled,i=e.ariaHidden,o=e.onMouseUp,a=e.onTouchEnd,s=e.className,l=this.state.value;return p.createElement(op,{ref:this.node,className:s},p.createElement(Hd,{htmlFor:t,label:n,show:!!n,isDisabled:r}),!!n&&p.createElement(Ld,null),p.createElement(qd,{id:t,value:l,isDisabled:r,"aria-hidden":i,onChange:this.onChange,onKeyDown:this.onKeyDown,onBlur:this.handleOutsideClick,onFocus:this.onFocus,onMouseUp:o,onTouchEnd:a}))},t.defaultProps={showLabel:!0},t}(p.Component),sp=n(Qd||(Qd=A(["\n  width: 20px;\n  height: 20px;\n  background: ",";\n  border: 2px solid ",";\n  border-radius: 50%;\n  cursor: pointer;\n"],["\n  width: 20px;\n  height: 20px;\n  background: ",";\n  border: 2px solid ",";\n  border-radius: 50%;\n  cursor: pointer;\n"])),(function(e){return e.theme.slider.thumbBackground}),(function(e){return e.theme.slider.thumbBorderColor})),lp=e.input(np||(np=A(["\n  display: flex;\n  flex: 1 0 auto;\n  appearance: none;\n  max-width: calc(100% - 50px);\n  outline: none;\n  border-radius: 0; /* iOS */\n  ","\n  &::-moz-focus-outer {\n    /** This is to remove the dotted focus lines in firefox */\n    border: 0;\n  }\n  &:disabled {\n    opacity: ",";\n    pointer-events: none;\n  }\n  ","\n  &:hover {\n    opacity: ",";\n  }\n  &::-webkit-slider-runnable-track {\n    cursor: pointer;\n    appearance: none;\n  }\n  &::-moz-range-track {\n    appearance: none;\n    cursor: pointer;\n  }\n  &::-ms-track {\n    cursor: pointer;\n    height: 5px;\n    appearance: none;\n    background: transparent;\n    color: transparent;\n    border-color: transparent;\n    border-width: 6px 0;\n  }\n  &::-webkit-slider-thumb {\n    appearance: none;\n    ","\n  }\n  &::-moz-range-thumb {\n    appearance: none;\n    ","\n  }\n  &::-ms-thumb {\n    appearance: none;\n    ","\n  }\n  &::-ms-fill-lower {\n    background: ",";\n  }\n  &::-ms-fill-upper {\n    background: ",";\n  }\n  &::-ms-tooltip {\n    display: none;\n  }\n  @media all and (min-width: 0) and (max-width: 599px) {\n    width: 200px;\n  }\n"],["\n  display: flex;\n  flex: 1 0 auto;\n  appearance: none;\n  max-width: calc(100% - 50px);\n  outline: none;\n  border-radius: 0; /* iOS */\n  ","\n  &::-moz-focus-outer {\n    /** This is to remove the dotted focus lines in firefox */\n    border: 0;\n  }\n  &:disabled {\n    opacity: ",";\n    pointer-events: none;\n  }\n  ","\n  &:hover {\n    opacity: ",";\n  }\n  &::-webkit-slider-runnable-track {\n    cursor: pointer;\n    appearance: none;\n  }\n  &::-moz-range-track {\n    appearance: none;\n    cursor: pointer;\n  }\n  &::-ms-track {\n    cursor: pointer;\n    height: 5px;\n    appearance: none;\n    background: transparent;\n    color: transparent;\n    border-color: transparent;\n    border-width: 6px 0;\n  }\n  &::-webkit-slider-thumb {\n    appearance: none;\n    ","\n  }\n  &::-moz-range-thumb {\n    appearance: none;\n    ","\n  }\n  &::-ms-thumb {\n    appearance: none;\n    ","\n  }\n  &::-ms-fill-lower {\n    background: ",";\n  }\n  &::-ms-fill-upper {\n    background: ",";\n  }\n  &::-ms-tooltip {\n    display: none;\n  }\n  @media all and (min-width: 0) and (max-width: 599px) {\n    width: 200px;\n  }\n"])),Je()||Qe()?n(ep||(ep=A(["\n        margin-top: 10px;\n        height: 24px;\n      "],["\n        margin-top: 10px;\n        height: 24px;\n      "]))):n(tp||(tp=A(["\n        height: 2px;\n        background: ",";\n      "],["\n        height: 2px;\n        background: ",";\n      "])),(function(e){return"linear-gradient(to right, "+function(e){var t=100*(e.value-e.min)/(e.max-e.min);return e.adjust?e.value>0?(t=e.value*(e.max/2)*100,e.theme.slider.trackColor+" 0%,\n      "+e.theme.slider.trackColor+" 50%,\n      "+e.theme.slider.activeTrackColor+" 50%,\n      "+e.theme.slider.activeTrackColor+" "+(50+t)+"%,\n      "+e.theme.slider.trackColor+" "+(50+t)+"%,\n      "+e.theme.slider.trackColor+" 100%\n      "):e.value<0?(t=e.value*(e.min/2)*100,e.theme.slider.trackColor+" 0%,\n      "+e.theme.slider.trackColor+" "+(50-t)+"%,\n      "+e.theme.slider.activeTrackColor+" "+(50-t)+"%,\n      "+e.theme.slider.activeTrackColor+" 50%,\n      "+e.theme.slider.trackColor+" 50%,\n      "+e.theme.slider.trackColor+" 100%\n      "):e.theme.slider.trackColor+" 0%,\n    "+e.theme.slider.trackColor+" 100%":e.theme.slider.activeTrackColor+" 0%,\n    "+e.theme.slider.activeTrackColor+" "+t+"%,\n    "+e.theme.slider.trackColor+" "+t+"%,\n    "+e.theme.slider.trackColor+" 100%"}(e)+")"})),(function(e){return e.theme.slider.inactiveOpacity}),ld.Focused,(function(e){return e.theme.slider.hoverOpacity}),sp,sp,sp,(function(e){return""+e.theme.slider.activeTrackColor}),(function(e){return""+e.theme.slider.trackColor})),cp=e.div(rp||(rp=A(["\n  display: flex;\n  align-items: center;\n  height: 26px;\n  margin-right: ","px;\n"],["\n  display: flex;\n  align-items: center;\n  height: 26px;\n  margin-right: ","px;\n"])),(function(e){return e.centerSlider?-56:0})),up=e(ap)(ip||(ip=A(["\n  max-width: 50px;\n  padding-left: 16px;\n  > div > input {\n    text-align: center;\n  }\n"],["\n  max-width: 50px;\n  padding-left: 16px;\n  > div > input {\n    text-align: center;\n  }\n"]))),dp=function(e){function t(t){var n=e.call(this,t)||this;return n.onSubmit=function(e){var t=n.props,r=t.onChange,i=t.suffix,o=t.divider,a=t.min,s=t.max,l=t.value,c=e.replace(i,""),u=c?parseFloat(c)/o:l,d=Math.max(a,Math.min(s,u));Number.isNaN(d)||(r(d),n.props.onMouseUp?n.props.onMouseUp():n.props.onTouchEnd&&n.props.onTouchEnd())},n.onSliderChange=function(e){(0,n.props.onChange)(parseFloat(e.target.value))},n.randomId=L(),n}return S(t,e),t.prototype.render=function(){var e=this.props,t=e.value,n=e.snap,r=e.min,i=e.max,o=e.divider,a=e.suffix,s=e.decimal,l=e.showLabel,c=e.showInput,u=e.style,d=e.centerSlider,f=e.adjust,h=e.label,m=e.isDisabled,g=e.step,y=e["aria-hidden"],v=e.onMouseUp,b=e.onTouchEnd,_=e.className,x="photoeditorsdk-slider-"+this.randomId,w=x+"-list",S=x+"-input",E="number"==typeof n,k=E&&p.createElement("datalist",{id:w},p.createElement("option",{value:n})),C=""+(t*o).toFixed(s)+a,T=c&&p.createElement(up,{id:S,value:C,isDisabled:m,"aria-hidden":y,onSubmit:this.onSubmit});return p.createElement("div",{className:_},p.createElement(Hd,{isDisabled:m,label:h,show:l}),p.createElement(Ld,{count:.25}),p.createElement(cp,{centerSlider:c&&d},p.createElement(lp,{type:"range",role:"slider","aria-hidden":y,tabIndex:0,value:t,min:r,max:i,step:g,style:u,disabled:m,id:x,list:E?w:void 0,onChange:this.onSliderChange,adjust:f,name:h,onKeyUp:this.onSliderChange,onKeyDown:this.onSliderChange,onMouseUp:v,onTouchEnd:b}),k,T))},t.defaultProps={showLabel:!0,showInput:!0,adjust:!1,centerSlider:!1,min:-1,max:1,value:0,step:.01,decimal:0,divider:100,suffix:""},t}(p.Component);lp.defaultProps={theme:os};var pp,fp=e.input.attrs({type:"search"})(pp||(pp=A(["\n  ","\n"],["\n  ","\n"])),Xd);fp.defaultProps={theme:os};var hp,mp,gp,yp,vp,bp,_p,xp=e(Nu)(hp||(hp=A(["\n  height: inherit;\n  background: transparent;\n  color: ",";\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n"],["\n  height: inherit;\n  background: transparent;\n  color: ",";\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n"])),(function(e){return e.theme.button.textPrimaryForeground}),(function(e){return e.theme.measurements.fontSystem.label.size}),(function(e){return e.theme.measurements.fontSystem.label.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.label.case})),wp=e(Nu)(mp||(mp=A(["\n  height: inherit;\n  background: transparent;\n  font-size: ","px;\n  color: ",";\n  letter-spacing: ","px;\n  text-transform: ",";\n"],["\n  height: inherit;\n  background: transparent;\n  font-size: ","px;\n  color: ",";\n  letter-spacing: ","px;\n  text-transform: ",";\n"])),(function(e){return e.theme.measurements.fontSystem.label.size}),(function(e){return e.theme.button.textSecondaryForeground}),(function(e){return e.theme.measurements.fontSystem.label.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.label.case})),Sp=e.div(gp||(gp=A(["\n  display: flex;\n  justify-content: flex-end;\n  width: inherit;\n  text-align: right;\n  height: 40px;\n"],["\n  display: flex;\n  justify-content: flex-end;\n  width: inherit;\n  text-align: right;\n  height: 40px;\n"]))),Ep=e.div(yp||(yp=A(["\n  textarea {\n    caret-color: ",";\n    ","\n    height: 44px;\n    outline-offset: -8px;\n    color: ",";\n    resize: none;\n    font-family: '","', sans-serif;\n    &:selection, &:-moz-selection {\n      background-color: ",";\n      color: ",";\n    }\n  }\n"],["\n  textarea {\n    caret-color: ",";\n    ","\n    height: 44px;\n    outline-offset: -8px;\n    color: ",";\n    resize: none;\n    font-family: '","', sans-serif;\n    &:selection, &:-moz-selection {\n      background-color: ",";\n      color: ",";\n    }\n  }\n"])),(function(e){return e.theme.primary}),Xd,(function(e){return e.theme.modal.bodyForeground}),(function(e){return e.theme.typography.fontFamily}),(function(e){return e.theme.primary}),(function(e){return e.theme.foreground})),kp=e.label(vp||(vp=A(["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n"],["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n"])),(function(e){return e.theme.measurements.fontSystem.label.size}),(function(e){return e.theme.measurements.fontSystem.label.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.label.case}),(function(e){return e.theme.modal.headerForeground})),Cp=function(e){function t(t){var n=e.call(this,t)||this;return n.state={value:""},n.handleKeydown=function(e){switch(e.key){case"Escape":n.close()}},n.close=function(){n.props.close(!1)},n.save=function(){var e=n.input.value;e&&(n.props.save(e),n.close())},n.onChange=function(e){var t=function(e){return e.replace(ll,"")}(e.target.value);n.input.value=t,n.setState({value:t})},n.onSubmit=function(e){e.preventDefault()},n.inputRef=function(e){n.input=e},n}return S(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.text,n=e.defaultText;this.input.focus(),this.input.value=t||n||"",this.setState({value:this.input.value}),document.addEventListener("keydown",this.handleKeydown,!1),t===n&&this.input.select()},t.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this.handleKeydown,!1)},t.prototype.componentDidUpdate=function(e){e.show!==this.props.show&&this.props.show&&this.input.focus()},t.prototype.render=function(){var e=this,t=this.props,n=t.show,r=t.position,i=t.maxLength;return p.createElement(wd,{show:n||!1,height:"fit-content",width:"350px",position:r,footer:function(){return p.createElement(Sp,null,p.createElement(wp,{ariaLabel:e.props.closeLabel,onClick:e.close},e.props.closeLabel||"Cancel"),p.createElement(xp,{ariaLabel:e.props.saveLabel,isDisabled:!e.state.value,onClick:e.save},e.props.saveLabel||"Done"))},"aria-describedby":"Edit the selected text content"},p.createElement("form",{style:{width:"inherit"},onSubmit:this.onSubmit},p.createElement(kp,{htmlFor:"photoeditorsdk-TextInput"},this.props.editLabel||"Text Input"),p.createElement(Ld,null),p.createElement(Ep,null,p.createElement("textarea",{id:"photoeditorsdk-TextInput",placeholder:"Write Something",rows:3,autoFocus:!0,onChange:this.onChange,maxLength:i,ref:this.inputRef}))))},t.defaultProps={defaultText:"Write Something"},t}(p.Component),Tp=e.input.attrs({type:"file",id:"fileUpload",accept:"image/png, image/jpeg"})(bp||(bp=A(["\n  display: none;\n"],["\n  display: none;\n"]))),Op=e.ul.attrs((function(e){var t=e.scrollable;return{"data-simplebar":t?"init":null,"data-simplebar-auto-hide":t?"false":null}}))(_p||(_p=A(["\n  list-style: none;\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  box-shadow: ",";\n  visibility: hidden;\n  opacity: 0;\n  min-width: 5rem;\n  position: absolute;\n  transition: all 0.5s ease;\n  left: -1px;\n  display: none;\n  padding: unset;\n  width: 100%;\n  z-index: ",";\n  max-height: 160px;\n  overflow-x: hidden;\n  margin: 5px 0;\n  border-radius: 0 0 ","px ","px;\n  &[data-simplebar] {\n    position: absolute;\n  }\n"],["\n  list-style: none;\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  box-shadow: ",";\n  visibility: hidden;\n  opacity: 0;\n  min-width: 5rem;\n  position: absolute;\n  transition: all 0.5s ease;\n  left: -1px;\n  display: none;\n  padding: unset;\n  width: 100%;\n  z-index: ",";\n  max-height: 160px;\n  overflow-x: hidden;\n  margin: 5px 0;\n  border-radius: 0 0 ","px ","px;\n  &[data-simplebar] {\n    position: absolute;\n  }\n"])),(function(e){return e.theme.dropdown.listBackground}),(function(e){return e.theme.dropdown.listForeground}),(function(e){return e.theme.dropdown.listBorderColor}),(function(e){return e.theme.dropdown.listShadow}),(function(e){return e.theme.measurements.zIndex.input.list}),(function(e){return e.theme.shape.radiusMedium}),(function(e){return e.theme.shape.radiusMedium}));Op.defaultProps={theme:os,scrollable:!0};var Ip,Rp,Mp,Ap,Pp=n(Ip||(Ip=A(["\n  outline: none;\n"],["\n  outline: none;\n"]))),zp=n(Rp||(Rp=A(["\n  opacity: ",";\n  pointer-events: none;\n"],["\n  opacity: ",";\n  pointer-events: none;\n"])),(function(e){return e.theme.dropdown.inactiveOpacity})),Dp=e.div(Ap||(Ap=A(["\n  color: ",";\n  background-color: ",";\n  display: block;\n  position: relative;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  width: 100%;\n  white-space: nowrap;\n  transition-duration: 0.5s;\n\n  &:focus a {\n    ","\n  }\n\n  ","\n\n  &:hover {\n    color: ",";\n  }\n\n  &:disabled {\n    ","\n  }\n\n  ","\n"],["\n  color: ",";\n  background-color: ",";\n  display: block;\n  position: relative;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  width: 100%;\n  white-space: nowrap;\n  transition-duration: 0.5s;\n\n  &:focus a {\n    ","\n  }\n\n  ","\n\n  &:hover {\n    color: ",";\n  }\n\n  &:disabled {\n    ","\n  }\n\n  ","\n"])),(function(e){return e.theme.dropdown.foreground}),(function(e){return e.theme.dropdown.background}),(function(e){return e.theme.measurements.fontSystem.label.size}),(function(e){return e.theme.measurements.fontSystem.label.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.label.case}),Pp,(function(e){return e.isOpen&&n(Mp||(Mp=A(["\n      a {\n        ","\n      }\n      "," {\n        visibility: visible;\n        opacity: 1;\n        display: block;\n      }\n    "],["\n      a {\n        ","\n      }\n      "," {\n        visibility: visible;\n        opacity: 1;\n        display: block;\n      }\n    "])),Pp,Op)}),(function(e){return e.theme.dropdown.hoverBorderColor}),zp,(function(e){return e.isDisabled&&zp}));Dp.defaultProps={theme:os};var Lp,Fp,jp=e.li(Fp||(Fp=A(["\n  padding: 10px 16px;\n  text-overflow: ellipsis;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  white-space: nowrap;\n  color: ",";\n\n  &:hover {\n    cursor: pointer;\n    background: ",";\n  }\n\n  ","\n\n  ","\n"],["\n  padding: 10px 16px;\n  text-overflow: ellipsis;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  white-space: nowrap;\n  color: ",";\n\n  &:hover {\n    cursor: pointer;\n    background: ",";\n  }\n\n  ","\n\n  ","\n"])),(function(e){return e.theme.measurements.fontSystem.button2.size}),(function(e){return e.theme.measurements.fontSystem.button2.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.button2.case}),(function(e){return e.theme.dropdown.foreground}),(function(e){return e.theme.dropdown.listItemHoverBackground}),(function(e){return e.isActive&&n(Lp||(Lp=A(["\n      border-left: 2px solid ",";\n    "],["\n      border-left: 2px solid ",";\n    "])),(function(e){return e.theme.primary}))}),ld.Focused);jp.defaultProps={theme:os};var Bp,Up,Np,Hp,Wp,Vp,Gp,Xp,Yp=e.div(Bp||(Bp=A(["\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n  border-top: 5px solid ",";\n  transform: rotate(","deg);\n  display: inline-block;\n  transition-duration: 0.3s;\n  transition-timing-function: ease-in;\n  right: 0;\n  top: 13px;\n"],["\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n  border-top: 5px solid ",";\n  transform: rotate(","deg);\n  display: inline-block;\n  transition-duration: 0.3s;\n  transition-timing-function: ease-in;\n  right: 0;\n  top: 13px;\n"])),(function(e){return e.theme.dropdown.caretColor}),(function(e){return e.rotation||0})),Kp=e.div(Up||(Up=A(["\n  line-height: 17px;\n  color: ",";\n  background-color: ",";\n  border: none;\n  border-bottom: 1px solid ",";\n  padding: 5px 0;\n  cursor: ",";\n  &:hover {\n    border-color: ",";\n  }\n  transition: border-color 0.4s ease-in-out;\n  ","\n"],["\n  line-height: 17px;\n  color: ",";\n  background-color: ",";\n  border: none;\n  border-bottom: 1px solid ",";\n  padding: 5px 0;\n  cursor: ",";\n  &:hover {\n    border-color: ",";\n  }\n  transition: border-color 0.4s ease-in-out;\n  ","\n"])),(function(e){return e.theme.dropdown.foreground}),(function(e){return e.theme.dropdown.background}),(function(e){return e.theme.dropdown.borderColor}),(function(e){return e.showList?"pointer":"default"}),(function(e){return e.theme.dropdown.hoverBorderColor}),ld.Focused),qp=e.div(Np||(Np=A([""],[""]))),$p=function(e){function t(t){var n=e.call(this,t)||this;return n.state={isOpen:!1},n.handleOutsideClick=function(e){n.node&&n.node.contains(e.target)||n.setState({isOpen:!1})},n.onSelect=function(e){n.props.onSelect(e),n.setState({isOpen:!1})},n.onClick=function(){n.setState((function(e){return{isOpen:!e.isOpen}}))},n.listItem=function(e){var t=n.props,r=t.itemStyle,i=t.selectedItem,o=e.value,a=e.label,s={};return"function"==typeof r?s=r(e):null!==r&&"object"==typeof r&&(s=r),p.createElement(jp,{"aria-hidden":!n.state.isOpen,tabIndex:0,style:s,onClick:function(){return n.onSelect(o)},key:o,isActive:i===o},a)},n.onKeyDown=function(e){"Space"!==e.code&&"Enter"!==e.code||n.onClick()},n.nodeRef=function(e){n.node=e},n}return S(t,e),t.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleOutsideClick,!1)},t.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleOutsideClick,!1)},t.prototype.render=function(){var e=this.props,t=e.selectedItem,n=e.list,r=e.label,i=e.style,o=e.isDisabled,a=this.state.isOpen,s=n.length>1,l=o?{}:{tabIndex:0};return p.createElement(qp,null,p.createElement(Hd,{isDisabled:o,style:{paddingLeft:"0px"},label:r}),p.createElement(Ld,null),p.createElement("div",{ref:this.nodeRef},p.createElement(Dp,{id:r.replace(" ","-"),isOpen:a,isDisabled:o},p.createElement(Kp,E({"aria-hidden":o},l,{showList:s,style:i,onClick:s?this.onClick:void 0,onKeyDown:this.onKeyDown}),t,s&&p.createElement(Yp,{rotation:a?180:0})),p.createElement(Op,{scrollable:n.length>4},s&&n.map(this.listItem)))))},t}(p.PureComponent),Zp=e.div(Hp||(Hp=A(["\n  display: flex;\n  position: relative;\n  margin-bottom: 12px;\n  max-width: ","px;\n"],["\n  display: flex;\n  position: relative;\n  margin-bottom: 12px;\n  max-width: ","px;\n"])),(function(e){return e.theme.measurements.basicToolControlBar.maxWidth})),Jp=e.input.attrs({type:"checkbox",tabIndex:0})(Wp||(Wp=A(["\n  position: absolute;\n  opacity: 0;\n  cursor: pointer;\n  height: 0;\n  width: 0;\n  margin: 0;\n  padding: 0;\n  ","\n"],["\n  position: absolute;\n  opacity: 0;\n  cursor: pointer;\n  height: 0;\n  width: 0;\n  margin: 0;\n  padding: 0;\n  ","\n"])),ld.Focused),Qp=e.div.attrs({tabIndex:0})(Xp||(Xp=A(["\n  position: relative;\n  height: 16px;\n  width: 16px;\n  cursor: pointer;\n  background-color: ",";\n  border-radius: ","px;\n  transition-timing-function: ease-in;\n  transition-duration: 0.3s;\n  &::after {\n    content: '';\n    position: absolute;\n    display: inline-block;\n    left: 5px;\n    width: 5px;\n    height: 10px;\n    border-style: solid;\n    border-width: 0 2px 2px 0;\n    border-color: transparent;\n    transform: rotate(45deg) scale(0.8);\n  }\n\n  &:first-child {\n    margin-right: 8px;\n  }\n\n  &:last-child {\n    margin-left: 8px;\n  }\n\n  ","\n\n  &:hover {\n    opacity: ",";\n  }\n  ","\n  ","\n"],["\n  position: relative;\n  height: 16px;\n  width: 16px;\n  cursor: pointer;\n  background-color: ",";\n  border-radius: ","px;\n  transition-timing-function: ease-in;\n  transition-duration: 0.3s;\n  &::after {\n    content: '';\n    position: absolute;\n    display: inline-block;\n    left: 5px;\n    width: 5px;\n    height: 10px;\n    border-style: solid;\n    border-width: 0 2px 2px 0;\n    border-color: transparent;\n    transform: rotate(45deg) scale(0.8);\n  }\n\n  &:first-child {\n    margin-right: 8px;\n  }\n\n  &:last-child {\n    margin-left: 8px;\n  }\n\n  ","\n\n  &:hover {\n    opacity: ",";\n  }\n  ","\n  ","\n"])),(function(e){return e.theme.checkbox.background}),(function(e){return e.theme.shape.radiusSmall}),ld.Focused,(function(e){return e.theme.checkbox.hoverOpacity}),(function(e){return e.isChecked&&n(Vp||(Vp=A(["\n      background-color: ",";\n      &::after {\n        color: ",";\n        border-color: ",";\n      }\n      &:hover {\n        background-color: ",";\n        opacity: 0.8;\n      }\n    "],["\n      background-color: ",";\n      &::after {\n        color: ",";\n        border-color: ",";\n      }\n      &:hover {\n        background-color: ",";\n        opacity: 0.8;\n      }\n    "])),e.theme.checkbox.activeBackground,e.theme.checkbox.activeForeground,e.theme.checkbox.foreground,e.theme.checkbox.activeBackground)}),(function(e){return e.isDisabled&&n(Gp||(Gp=A(["\n      opacity: 0.5;\n      cursor: default;\n      pointer-events: none;\n    "],["\n      opacity: 0.5;\n      cursor: default;\n      pointer-events: none;\n    "])))})),ef=function(e){var t=e.label,n=e.value,r=e.checkMarkPosition,i=e.onClick,o=e.isDisabled,a=e.className,s=e.style,l="photoeditorsdk-"+t.replace(" ","-");return p.createElement(Zp,{className:a,style:s},"left"===r&&p.createElement(Qp,{onClick:i,isDisabled:o,isChecked:n}),p.createElement(Hd,{isDisabled:o,label:t,htmlFor:l}),p.createElement(Jp,{id:l,disabled:o,checked:n,onChange:i}),"right"===r&&p.createElement(Qp,{onClick:i,isDisabled:o,isChecked:n}))};ef.defaultProps={value:!1,checkMarkPosition:"left"};var tf,nf,rf,of,af,sf,lf,cf,uf,df,pf,ff=e(Nu)(tf||(tf=A(["\n  color: ",";\n  padding: 1px 7px 2px;\n"],["\n  color: ",";\n  padding: 1px 7px 2px;\n"])),(function(e){return e.theme.button.textSecondaryForeground})),hf=e.div(nf||(nf=A(["\n  display: flex;\n  justify-content: space-between;\n  width: ","px;\n"],["\n  display: flex;\n  justify-content: space-between;\n  width: ","px;\n"])),(function(e){return e.theme.measurements.advancedUIToolControlBar.width-48})),mf=e.article(rf||(rf=A(["\n  width: ","px;\n  font-size: ","px;\n  text-transform: ",";\n  text-align: center;\n  margin-top: 9px;\n  display: inline-block;\n  color: ",";\n"],["\n  width: ","px;\n  font-size: ","px;\n  text-transform: ",";\n  text-align: center;\n  margin-top: 9px;\n  display: inline-block;\n  color: ",";\n"])),(function(e){return.6*e.theme.measurements.advancedUIToolControlBar.width}),(function(e){return e.theme.measurements.fontSystem.headline2.size}),(function(e){return e.theme.measurements.fontSystem.body.case}),(function(e){return e.theme.toolControlBar.inputLabelForeground})),gf=e.div(of||(of=A(["\n  width: ","px;\n  transform: translateZ(0);\n  overflow: hidden;\n  transition: all 500ms ease-out;\n"],["\n  width: ","px;\n  transform: translateZ(0);\n  overflow: hidden;\n  transition: all 500ms ease-out;\n"])),(function(e){return.6*e.theme.measurements.advancedUIToolControlBar.width})),yf=e.span(af||(af=A(["\n  width: ","px;\n  margin-left: -","px;\n  position: relative;\n  display: inline-block;\n  transform: translateZ(0);\n  transition: all 600ms cubic-bezier(0.77, 0, 0.175, 1);\n  font-family: '","', sans-serif;\n"],["\n  width: ","px;\n  margin-left: -","px;\n  position: relative;\n  display: inline-block;\n  transform: translateZ(0);\n  transition: all 600ms cubic-bezier(0.77, 0, 0.175, 1);\n  font-family: '","', sans-serif;\n"])),(function(e){return Math.round(.6*e.length*e.theme.measurements.advancedUIToolControlBar.width)}),(function(e){return.6*e.activeIndex*e.theme.measurements.advancedUIToolControlBar.width}),(function(e){return e.theme.typography.fontFamily})),vf=e.div(cf||(cf=A(["\n  border: solid ",";\n  border-width: 0 2px 2px 0;\n  padding: 3px;\n  height: 0;\n  width: 0;\n\n  ","\n"],["\n  border: solid ",";\n  border-width: 0 2px 2px 0;\n  padding: 3px;\n  height: 0;\n  width: 0;\n\n  ","\n"])),(function(e){return e.theme.card.foreground}),(function(e){var t=e.direction;return n("left"===t?sf||(sf=A(["\n          margin-left: 2px;\n          transform: rotate(135deg);\n        "],["\n          margin-left: 2px;\n          transform: rotate(135deg);\n        "])):lf||(lf=A(["\n          margin-right: 2px;\n          transform: rotate(-45deg);\n        "],["\n          margin-right: 2px;\n          transform: rotate(-45deg);\n        "])))})),bf=function(e){function t(t){var n=e.call(this,t)||this;return n.updateIndex=function(e,t){void 0===t&&(t=!1);var r=e+(t?-1:1),i=n.props.list.length-1;r>i&&(r=0),r<0&&(r=i),n.props.onSelect(n.props.list[r].identifier)},n.getActiveIndex=function(e){var t=n.props.list.findIndex((function(t){return t.identifier===e}));return-1!==t?t:0},n.throttledUpdateIndex=co(n.updateIndex,600),n}return S(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.list,r=t.label,i=t.showLabel,o=void 0===i||i,a=this.getActiveIndex(this.props.defaultIdentifier),s=n.length<=1;return p.createElement("div",null,p.createElement(Hd,{show:o,label:r}),o?p.createElement(Ld,null):null,p.createElement(hf,{id:"photoeditorsdk-"+r.replace(" ","-")},p.createElement(ff,{ariaLabel:"Select Previous",isDisabled:s,onClick:function(){return e.throttledUpdateIndex(a,!0)}},p.createElement(vf,{direction:"left"})),p.createElement(gf,null,p.createElement(yf,{activeIndex:a,length:n.length},n.map((function(e){return p.createElement(mf,{key:e.identifier},e.value)})))),p.createElement(ff,{ariaLabel:"Select Next",isDisabled:s,onClick:function(){return e.throttledUpdateIndex(a)}},p.createElement(vf,{direction:"right"}))))},t.defaultProps={showLabel:!0},t}(p.PureComponent),_f=e.div(uf||(uf=A([""],[""]))),xf=function(e){var t=e.label,n=e.children,r=e.inline,i=e.showLabel,o=e.isDisabled;return p.createElement(_f,null,p.createElement(Hd,{isDisabled:o,label:t,show:i}),i&&p.createElement(Ld,null)||null,p.createElement(wf,{id:"photoeditorsdk-"+t.replace(" ","-"),inline:!!r},n))},wf=e.div(pf||(pf=A(["\n  display: inline-flex;\n  ","\n"],["\n  display: inline-flex;\n  ","\n"])),(function(e){return!e.inline&&n(df||(df=A(["\n        flex-wrap: wrap;\n      "],["\n        flex-wrap: wrap;\n      "])))||""}));function Sf(e,t){for(var n=0,r=e.length;n<r;n+=1)if(t.apply(t,[e[n],n,e]))return e[n];return null}function Ef(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function kf(e){return"number"==typeof e&&!Number.isNaN(e)}function Cf(e){return parseInt(e,10)}xf.defaultProps={showLabel:!0};var Tf=["Moz","Webkit","O","ms"];function Of(e,t){return t?""+t+function(e){var t,n="",r=!0;for(t=0;t<e.length;t+=1)r?(n+=e[t].toUpperCase(),r=!1):"-"===e[t]?r=!0:n+=e[t];return n}(e):e}var If=function(e){if(void 0===e&&(e="transform"),"undefined"==typeof window||void 0===window.document)return"";var t,n=window.document.documentElement.style;if(e in n)return"";for(t=0;t<Tf.length;t+=1)if(Of(e,Tf[t])in n)return Tf[t];return""}(),Rf="";function Mf(e,t){return Rf||(Rf=Sf(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return Ef(e[t])}))),!!Ef(e[Rf])&&e[Rf](t)}function Af(e,t,n){var r=e;do{if(Mf(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function Pf(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function zf(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}function Df(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=Cf(n.borderTopWidth),t+=Cf(n.borderBottomWidth)}function Lf(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=Cf(n.borderLeftWidth),t+=Cf(n.borderRightWidth)}function Ff(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=Cf(n.paddingTop),t-=Cf(n.paddingBottom)}function jf(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=Cf(n.paddingLeft),t-=Cf(n.paddingRight)}function Bf(e,t){var n=null;return e.targetTouches&&(n=Sf(e.targetTouches,(function(e){return t===e.identifier}))),e.changedTouches&&!n&&(n=Sf(e.changedTouches,(function(e){return t===e.identifier}))),n}function Uf(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:null}function Nf(e){var t=v.findDOMNode(e);if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}function Hf(e,t,n){var r=e.state,i=!kf(r.lastX),o=Nf(e);return i?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}}function Wf(e,t){return{node:t.node,x:e.state.x+t.deltaX,y:e.state.y+t.deltaY,deltaX:t.deltaX,deltaY:t.deltaY,lastX:e.state.x,lastY:e.state.y}}function Vf(e){return"both"===e.props.axis||"x"===e.props.axis}function Gf(e){return"both"===e.props.axis||"y"===e.props.axis}function Xf(e,t){var n=Nf(t),r=t.props.offsetParent;return!r&&n instanceof HTMLElement&&(r=n.offsetParent||n.ownerDocument.body),function(e,t){var n=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:e.clientX+t.scrollLeft-n.left,y:e.clientY+t.scrollTop-n.top}}(e,r)}var Yf,Kf,qf,$f,Zf,Jf,Qf,eh,th,nh,rh,ih,oh,ah,sh,lh,ch,uh,dh,ph,fh,hh={start:"touchstart",move:"touchmove",stop:"touchend"},mh={start:"mousedown",move:"mousemove",stop:"mouseup"},gh=mh,yh={cancel:null,disabled:!1,offsetParent:null,handle:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}},vh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:void 0},t.getTouchFromEvent=function(e){var n=Uf(e);return t.setState({touchIdentifier:n}),Bf(e,n)},t.preventDefault=function(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},t.handleDragStart=function(e){var n=v.findDOMNode(t);if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(t.props.disabled||!(e.target instanceof Node)||t.props.handle&&!Af(e.target,t.props.handle,n)||t.props.cancel&&Af(e.target,t.props.cancel,n))return!1;var i=Xf(e,t);if(null==i)return!1;var o=i.x,a=i.y,s=Hf(t,o,a);if(!1===t.props.onStart(e,s))return!1;t.setState({dragging:!0,lastX:o,lastY:a}),"touchmove"===gh.move?Pf(r,gh.move,t.onTouchDrag):Pf(r,gh.move,t.onMouseDrag),Pf(r,gh.stop,t.handleDragStop)},t.handleDrag=function(e){var n=Xf(e,t);if(null!=n){var r=n.x,i=n.y,o=Hf(t,r,i);if(!1!==t.props.onDrag(e,o))t.setState({lastX:r,lastY:i});else try{t.handleDragStop(new MouseEvent("mouseup"))}catch(e){var a=document.createEvent("MouseEvents");a.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t.handleDragStop(a)}}},t.handleDragStop=function(e){if(t.state.dragging){var n=Xf(e,t);if(null!=n){var r=n.x,i=n.y,o=Hf(t,r,i),a=v.findDOMNode(t);t.setState({dragging:!1,lastX:NaN,lastY:NaN}),t.props.onStop(e,o),a&&("touchmove"===gh.move?zf(a.ownerDocument,gh.move,t.onTouchDrag):zf(a.ownerDocument,gh.move,t.onMouseDrag),zf(a.ownerDocument,gh.stop,t.handleDragStop))}}},t.onMouseDown=function(e){return t.preventDefault(e),gh=mh,t.props.onMouseDown(e),(!e.button||"number"!=typeof e.button||0===e.button)&&t.handleDragStart(e)},t.onMouseDrag=function(e){return t.preventDefault(e),t.handleDrag(e)},t.onMouseUp=function(e){return t.preventDefault(e),gh=mh,t.handleDragStop(e)},t.onTouchStart=function(e){t.preventDefault(e),gh=hh;var n=t.getTouchFromEvent(e);return t.handleDragStart(n)},t.onTouchDrag=function(e){t.preventDefault(e),gh=hh;var n=t.getTouchFromEvent(e);return t.handleDrag(n)},t.onTouchEnd=function(e){t.preventDefault(e),gh=hh;var n=t.getTouchFromEvent(e);return t.handleDragStop(n)},t}return S(t,e),t.prototype.componentWillUnmount=function(){var e=v.findDOMNode(this);if(e){var t=e.ownerDocument;zf(t,mh.move,this.onMouseDrag),zf(t,hh.move,this.onTouchDrag),zf(t,mh.stop,this.handleDragStop),zf(t,hh.stop,this.handleDragStop)}},t.prototype.render=function(){return p.cloneElement(p.Children.only(this.props.children),{style:E({touchAction:"none"},this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})},t.defaultProps=yh,t.displayName="DraggableCore",t}(p.Component),bh=E({},yh,{axis:"both",bounds:!1,defaultClassName:"draggable",defaultClassNameDragging:"draggable-dragging",defaultClassNameDragged:"draggable-dragged",defaultPosition:{x:0,y:0},position:null,rotation:0,updateOnPosition:!1}),_h=function(e){function t(t){var n=e.call(this,t)||this;return n.onDragStart=function(e,t){if(!1===n.props.onStart(e,Wf(n,t)))return!1;n.setState({dragging:!0,dragged:!0})},n.onDrag=function(e,t){var r=n.props,i=r.position,o=r.defaultPosition,a=r.onDrag,s=r.bounds;if(!n.state.dragging)return!1;var l=Wf(n,t),c=Boolean(i),u={x:c?l.x:o.x,y:c?l.y:o.y,slackX:0,slackY:0};if(s){var d=u.x,p=u.y;u.x+=n.state.slackX,u.y+=n.state.slackY;var f=R(function(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r="string"==typeof r?r:E({},r);var i=Nf(e);if("string"==typeof r){var o=i.ownerDocument,a=o.defaultView,s="parent"===r?i.parentNode:o.querySelector(r);if(!(s instanceof HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');if(i instanceof HTMLElement){var l=a.getComputedStyle(i),c=a.getComputedStyle(s);r={left:-i.offsetLeft+Cf(c.paddingLeft)+Cf(l.marginLeft),top:-i.offsetTop+Cf(c.paddingTop)+Cf(l.marginTop),right:jf(s)-Lf(i)-i.offsetLeft+Cf(c.paddingRight)-Cf(l.marginRight),bottom:Ff(s)-Df(i)-i.offsetTop+Cf(c.paddingBottom)-Cf(l.marginBottom)}}}return kf((r=r).right)&&(t=Math.min(t,r.right)),kf(r.bottom)&&(n=Math.min(n,r.bottom)),kf(r.left)&&(t=Math.max(t,r.left)),kf(r.top)&&(n=Math.max(n,r.top)),[t,n]}(n,u.x,u.y),2),h=f[0],m=f[1];u.x=h,u.y=m,u.slackX=n.state.slackX+(d-u.x),u.slackY=n.state.slackY+(p-u.y),l.x=u.x,l.y=u.y,l.deltaX=u.x-n.state.x,l.deltaY=u.y-n.state.y}if(!1===a(e,l))return!1;n.setState(u)},n.onDragStop=function(e,t){if(!n.state.dragging)return!1;if(!1===n.props.onStop(e,Wf(n,t)))return!1;var r={dragging:!1,slackX:0,slackY:0,x:0,y:0};if(Boolean(n.props.position)){var i=n.props.position,o=i.x,a=i.y;r.x=o,r.y=a}n.setState(r)},n.state={dragging:!1,dragged:!1,x:t.position?t.position.x:t.defaultPosition.x,y:t.position?t.position.y:t.defaultPosition.y,slackX:0,slackY:0},n}return S(t,e),t.prototype.componentDidUpdate=function(e){Boolean(this.props.position)&&(this.props.updateOnPosition?(e.position&&e.position.x!==this.props.position.x||e.position.y!==this.props.position.y)&&this.setState({x:this.props.position.x,y:this.props.position.y}):(e.position&&this.props.position.x!==this.state.x||this.props.position.y!==this.state.y)&&this.setState({x:this.props.position.x,y:this.props.position.y}))},t.prototype.componentWillUnmount=function(){this.setState({dragging:!1})},t.prototype.render=function(){var e,t=this.props,n=t.position,r=t.defaultPosition,i=t.rotation,o=t.defaultClassName,a=t.defaultClassNameDragging,s=t.defaultClassNameDragged,l=k(t,["position","defaultPosition","rotation","defaultClassName","defaultClassNameDragging","defaultClassNameDragged"]),c=this.state,u=c.x,d=c.y,f=c.dragging,h=c.dragged,m=!Boolean(n)||f,g=n||r;e=function(e){var t,n="translate("+e.x+"px,"+e.y+"px) rotate("+e.rotation+"rad)";return(t={})[Of("transform",If)]=n,t}({x:Vf(this)&&m?u:g.x,y:Gf(this)&&m?d:g.y,rotation:i});var y=p.Children.only(this.props.children),v=[y.props.className||"",o,f?a:"",h?s:""].join(" ").trim(),b=p.cloneElement(y,{className:v,style:E({},y.props.style,e)});return p.createElement(vh,E({},l,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),b)},t.defaultProps=bh,t.displayName="Draggable",t}(p.Component),xh=e(Sp)(Yf||(Yf=A(["\n  border-top: 2px solid ",";\n"],["\n  border-top: 2px solid ",";\n"])),(function(e){return"error"===e.type?e.theme.error:e.theme.warning})),wh=e.div(Kf||(Kf=A(["\n  display: block;\n"],["\n  display: block;\n"]))),Sh=e.h3(qf||(qf=A(["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n"],["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n"])),(function(e){return e.theme.measurements.fontSystem.headline2.size}),(function(e){return e.theme.measurements.fontSystem.headline2.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.headline2.case}),(function(e){return e.theme.modal.headerForeground})),Eh=e.p($f||($f=A(["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n"],["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n"])),(function(e){return e.theme.measurements.fontSystem.body.size}),(function(e){return e.theme.measurements.fontSystem.body.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.body.case}),(function(e){return e.theme.modal.bodyForeground})),kh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.closeModal=function(e){t.props.handlers.close&&t.props.handlers.close(),e&&e()},t}return S(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.type,r=t.handlers,i=t.message,o=t.show,a=t.position,s=t.preHeadingLocale,l="error"===n?s.error:s.warning;return p.createElement(wd,{heading:i?i.heading:"",show:o||!1,width:"350px",height:"fit-content",position:a,footer:function(){return r&&i?p.createElement(xh,{type:n},i.buttonNo&&p.createElement(wp,{ariaLabel:i.buttonNo,onClick:function(){return e.closeModal(r.buttonNo)}},i.buttonNo),i.buttonYes&&p.createElement(xp,{ariaLabel:i.buttonYes,onClick:function(){return e.closeModal(r.buttonYes)}},i.buttonYes)):null}},p.createElement(wh,null,i?p.createElement(Sh,null,l,": ",i.heading||""):null,i&&i.body?p.createElement(Eh,null,i.body):null))},t.defaultProps={preHeadingLocale:{error:"Error",warning:"Warning"}},t}(p.PureComponent),Ch=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return S(t,e),t.prototype.getChildren=function(){var e=this,t=[],n=[];return p.Children.forEach(this.props.children,(function(r){switch(r.type.componentName){case"case":e.props.type===r.props.value&&t.push(r);break;case"default":n.push(r)}})),t.length>0?t:n},t.prototype.render=function(){var e=this.getChildren();return 0===e.length?null:p.createElement(p.Fragment,null,e)},t}(p.Component),Th=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return S(t,e),t.prototype.render=function(){return this.props.children},t.componentName="case",t}(p.Component),Oh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return S(t,e),t.prototype.render=function(){return this.props.children},t.componentName="default",t}(p.Component),Ih={Container:cl,ColorItem:fd,ColorItemBase:ud,ColorItemBackground:Fc,ColorItemTiledBackground:Bc,ColorItemActiveOverlay:Gc,Loader:Dd,Spacer:Ld,Modal:kh,Draggable:_h,DraggableCore:vh,Toast:hl,Input:{Label:Hd,File:Tp,Search:function(e){return p.createElement("div",null,p.createElement(Hd,{show:!1,label:"photoeditorsdk-Search"}),p.createElement(fp,{id:"photoeditorsdk-Search",onChange:function(t){e.onChange(t.target.value)},placeholder:e.placeholder}))},Slider:dp,CarouselSlider:bf,Selection:xf,Checkbox:ef,CheckboxBase:Zp,CheckboxInput:Jp,CheckboxCheckMark:Qp,Dropdown:$p,Text:qd,NummericInput:ap,TextEdit:Cp,Form:function(e){var t=e.children;return p.createElement("form",{onSubmit:function(e){e.preventDefault()}},t)}},Switch:{Index:Ch,Case:Th,Default:Oh}},Rh=e(td)(Zf||(Zf=A(["\n  width: ","px;\n  height: ","px;\n  margin-bottom: ","px;\n  color: ",";\n  &:nth-child(3n + 1),\n  &:nth-child(3n + 2) {\n    margin-right: ","px;\n  }\n"],["\n  width: ","px;\n  height: ","px;\n  margin-bottom: ","px;\n  color: ",";\n  &:nth-child(3n + 1),\n  &:nth-child(3n + 2) {\n    margin-right: ","px;\n  }\n"])),(function(e){return e.theme.measurements.advancedCard.small.width}),(function(e){return e.theme.measurements.advancedCard.small.height}),(function(e){return e.theme.measurements.advancedSpacer}),(function(e){return e.theme.card.foreground}),(function(e){return e.theme.measurements.advancedSpacer})),Mh=e(td)(Jf||(Jf=A(["\n  width: ","px;\n  height: ","px;\n  margin-bottom: ","px;\n  color: ",";\n  &:nth-child(2n + 1) {\n    margin-right: ","px;\n  }\n"],["\n  width: ","px;\n  height: ","px;\n  margin-bottom: ","px;\n  color: ",";\n  &:nth-child(2n + 1) {\n    margin-right: ","px;\n  }\n"])),(function(e){return e.theme.measurements.advancedCard.medium.width}),(function(e){return e.theme.measurements.advancedCard.medium.height}),(function(e){return e.theme.measurements.advancedSpacer}),(function(e){return e.theme.card.foreground}),(function(e){return e.theme.measurements.advancedSpacer})),Ah=e(td)(Qf||(Qf=A(["\n  width: ","px;\n  height: ","px;\n  margin-bottom: ","px;\n  color: ",";\n"],["\n  width: ","px;\n  height: ","px;\n  margin-bottom: ","px;\n  color: ",";\n"])),(function(e){return e.theme.measurements.advancedCard.large.width}),(function(e){return e.theme.measurements.advancedCard.large.height}),(function(e){return e.theme.measurements.advancedSpacer}),(function(e){return e.theme.card.foreground})),Ph=function(e){e.isActive;var t=k(e,["isActive"]);return p.createElement(Ah,E({},t))},zh=function(e){var t=e.type===B.LARGE,n=e.type===B.SMALL,r=Mh;return t?r=Ph:n&&(r=Rh),p.createElement(r,E({},e))},Dh=e.div(eh||(eh=A(["\n  display: flex;\n  flex-wrap: wrap;\n"],["\n  display: flex;\n  flex-wrap: wrap;\n"]))),Lh=sd,Fh=e(Gu)(th||(th=A(["\n  &&& {\n    font-size: ","px;\n    letter-spacing: ","px;\n    text-transform: ",";\n    color: ",";\n\n    "," {\n      display: none;\n    }\n\n    &:disabled {\n      opacity: ",";\n    }\n  }\n"],["\n  &&& {\n    font-size: ","px;\n    letter-spacing: ","px;\n    text-transform: ",";\n    color: ",";\n\n    "," {\n      display: none;\n    }\n\n    &:disabled {\n      opacity: ",";\n    }\n  }\n"])),(function(e){return e.theme.measurements.fontSystem.button2.size}),(function(e){return e.theme.measurements.fontSystem.button2.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.button2.case}),(function(e){return e.theme.button.textSecondaryForeground}),Du,(function(e){return e.theme.button.textInactiveOpacity})),jh=e(Nu)(nh||(nh=A(["\n  width: 60px;\n  height: 60px;\n  background-color: gray;\n  border-radius: 50%;\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: ",";\n  font-size: ","px;\n  padding: 2px;\n"],["\n  width: 60px;\n  height: 60px;\n  background-color: gray;\n  border-radius: 50%;\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: ",";\n  font-size: ","px;\n  padding: 2px;\n"])),(function(e){return e.theme.measurements.zIndex.button.float}),(function(e){return e.theme.measurements.fontSystem.button1.size})),Bh=e.div(rh||(rh=A(["\n  height: 56px;\n  width: 56px;\n  border-radius: 50%;\n  background-color: ",";\n"],["\n  height: 56px;\n  width: 56px;\n  border-radius: 50%;\n  background-color: ",";\n"])),(function(e){return e.theme.webcam.floatButton})),Uh=e.div(ih||(ih=A(["\n  display: inline-flex;\n"],["\n  display: inline-flex;\n"]))),Nh=e(Gu)(oh||(oh=A(["\n  &&& {\n    font-size: ","px;\n    background: ",";\n    color: ",";\n    letter-spacing: ","px;\n    text-transform: ",";\n    padding: 4px 10px;\n    position: relative;\n    /* for safari */\n    margin: 0;\n    &:last-child:after {\n      opacity: 0;\n    }\n  }\n"],["\n  &&& {\n    font-size: ","px;\n    background: ",";\n    color: ",";\n    letter-spacing: ","px;\n    text-transform: ",";\n    padding: 4px 10px;\n    position: relative;\n    /* for safari */\n    margin: 0;\n    &:last-child:after {\n      opacity: 0;\n    }\n  }\n"])),(function(e){return e.theme.measurements.fontSystem.button1.size}),(function(e){return e.theme.canvasActionBar.background}),(function(e){return e.theme.canvasActionBar.foreground}),(function(e){return e.theme.measurements.fontSystem.button2.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.button2.case})),Hh=e.div(lh||(lh=A(["\n  ",";\n  position: absolute;\n  transform: translate(-50%, -100%);\n  background: ",";\n  color: ",";\n  border-radius: ","px;\n  white-space: nowrap;\n  transition: opacity 0.3s ease-in-out;\n  z-index: ",";\n\n  "," {\n    &:after {\n      content: '';\n      position: absolute;\n      right: 0px;\n      top: 6px;\n      height: calc(100% - 12px);\n      border-right: 1px solid ",";\n      &:last-child {\n        border-right: unset;\n      }\n    }\n  }\n"],["\n  ",";\n  position: absolute;\n  transform: translate(-50%, -100%);\n  background: ",";\n  color: ",";\n  border-radius: ","px;\n  white-space: nowrap;\n  transition: opacity 0.3s ease-in-out;\n  z-index: ",";\n\n  "," {\n    &:after {\n      content: '';\n      position: absolute;\n      right: 0px;\n      top: 6px;\n      height: calc(100% - 12px);\n      border-right: 1px solid ",";\n      &:last-child {\n        border-right: unset;\n      }\n    }\n  }\n"])),(function(e){var t=e.show;return n(t?ah||(ah=A(["\n          opacity: 1;\n        "],["\n          opacity: 1;\n        "])):sh||(sh=A(["\n          opacity: 0;\n        "],["\n          opacity: 0;\n        "])))}),(function(e){return e.theme.canvasActionBar.background}),(function(e){return e.theme.canvasActionBar.foreground}),(function(e){return e.theme.canvasActionBar.borderRadius?e.theme.canvasActionBar.borderRadius:e.theme.shape.radiusMedium}),(function(e){return e.theme.measurements.zIndex.buttonGroup}),Nh,(function(e){return e.theme.canvasActionBar.separatorColor})),Wh=e.div(ch||(ch=A(["\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n"],["\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n"]))),Vh=e.canvas(uh||(uh=A(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"],["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"]))),Gh=e.div(fh||(fh=A(["\n  &&& {\n    display: ",";\n    flex-direction: row;\n    align-items: center;\n    height: ","px;\n    color: ",";\n    border-bottom: 1px solid ",";\n    padding: 8px 24px;\n    box-sizing: border-box;\n    position: absolute;\n    width: 100%;\n    z-index: ",";\n    background: ",";\n    ","\n  }\n"],["\n  &&& {\n    display: ",";\n    flex-direction: row;\n    align-items: center;\n    height: ","px;\n    color: ",";\n    border-bottom: 1px solid ",";\n    padding: 8px 24px;\n    box-sizing: border-box;\n    position: absolute;\n    width: 100%;\n    z-index: ",";\n    background: ",";\n    ","\n  }\n"])),(function(e){return e.hide?"none":"flex"}),(function(e){return e.theme.measurements.mainCanvasActionBar.height}),(function(e){return e.theme.mainCanvasActionBar.foreground}),(function(e){return e.theme.mainCanvasActionBar.borderColor}),(function(e){return e.theme.measurements.zIndex.canvas.bar}),(function(e){return e.transparentBackgound?"transparent":e.theme.mainCanvasActionBar.background}),(function(e){return e.bottom?n(dh||(dh=A(["\n            justify-content: space-around;\n            bottom: 0;\n            transform: rotate(180deg);\n          "],["\n            justify-content: space-around;\n            bottom: 0;\n            transform: rotate(180deg);\n          "]))):n(ph||(ph=A(["\n            justify-content: space-between;\n          "],["\n            justify-content: space-between;\n          "])))}));Gh.defaultProps={theme:os};var Xh,Yh,Kh,qh=e.div.attrs({role:"main"})(Xh||(Xh=A(["\n  background-color: ",";\n  flex-grow: 1;\n  flex-shrink: 1;\n  flex-basis: auto;\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  /* added this for safari, else the webcam overlay did not know the height */\n  height: 100%;\n  width: 100%;\n  margin-top: ","px;\n"],["\n  background-color: ",";\n  flex-grow: 1;\n  flex-shrink: 1;\n  flex-basis: auto;\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  /* added this for safari, else the webcam overlay did not know the height */\n  height: 100%;\n  width: 100%;\n  margin-top: ","px;\n"])),(function(e){return e.theme.canvas.background}),(function(e){return e.theme.measurements.canvas.marginTop})),$h=e.canvas(Yh||(Yh=A(["\n  position: absolute;\n  top: 0;\n  left: 0;\n"],["\n  position: absolute;\n  top: 0;\n  left: 0;\n"]))),Zh=e.div(Kh||(Kh=A(["\n  position: relative;\n  transition: all 0.4s cubic-bezier(0.17, 0.04, 0.03, 0.94);\n  height: 100%;\n  width: 100%;\n  z-index: ",";\n  background-color: ",";\n"],["\n  position: relative;\n  transition: all 0.4s cubic-bezier(0.17, 0.04, 0.03, 0.94);\n  height: 100%;\n  width: 100%;\n  z-index: ",";\n  background-color: ",";\n"])),(function(e){return e.theme.measurements.zIndex.canvas.webcam.backdrop}),(function(e){return e.theme.webcam.background}));Zh.defaultProps={theme:os};var Jh,Qh,em=e.video(Jh||(Jh=A(["\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n"],["\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n"]))),tm=e.div.attrs((function(e){var t=e.radius;return{style:{height:2*t+"px",width:2*t+"px"}}}))(Qh||(Qh=A(["\n  border-radius: 50%;\n  border: 2px solid ",";\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.2), inset 0 2px 6px 0 rgba(0, 0, 0, 0.2);\n  cursor: move;\n"],["\n  border-radius: 50%;\n  border: 2px solid ",";\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.2), inset 0 2px 6px 0 rgba(0, 0, 0, 0.2);\n  cursor: move;\n"])),(function(e){return e.theme.canvas.controlsOutline}));tm.defaultProps={theme:os};var nm,rm=e.div(nm||(nm=A(["\n  position: absolute;\n  color: ",";\n"],["\n  position: absolute;\n  color: ",";\n"])),(function(e){return e.theme.canvas.controlsOutline}));rm.defaultProps={theme:os};var im,om=e.div(im||(im=A(["\n  position: absolute;\n  height: ","px;\n  width: ","px;\n  margin-left: -10px;\n  margin-top: -10px;\n  z-index: ",";\n  will-change: transform;\n  cursor: ew-resize;\n  &:before {\n    display: block;\n    position: absolute;\n    content: '';\n    background: ",";\n    border-radius: 50%;\n    width: ","px;\n    height: ","px;\n    top: ","px;\n    left: ","px;\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.24);\n  }\n"],["\n  position: absolute;\n  height: ","px;\n  width: ","px;\n  margin-left: -10px;\n  margin-top: -10px;\n  z-index: ",";\n  will-change: transform;\n  cursor: ew-resize;\n  &:before {\n    display: block;\n    position: absolute;\n    content: '';\n    background: ",";\n    border-radius: 50%;\n    width: ","px;\n    height: ","px;\n    top: ","px;\n    left: ","px;\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.24);\n  }\n"])),(function(e){return e.theme.measurements.canvasControls.knob.touchable.desktop}),(function(e){return e.theme.measurements.canvasControls.knob.touchable.desktop}),(function(e){return e.theme.measurements.zIndex.canvas.knob}),(function(e){return e.theme.canvas.controlsColor}),(function(e){return e.theme.measurements.canvasControls.knob.size}),(function(e){return e.theme.measurements.canvasControls.knob.size}),(function(e){return e.theme.measurements.canvasControls.knob.size/4}),(function(e){return e.theme.measurements.canvasControls.knob.size/4}));om.defaultProps={theme:os};var am,sm,lm,cm,um,dm,pm,fm,hm,mm,gm,ym,vm,bm,_m,xm,wm,Sm,Em,km,Cm,Tm,Om=e.div((function(e){var t=e.theme.measurements.canvasControls.corner.touchable,r=t.desktop,i=t.mobile,o=r/4,a=i/2;return n(vm||(vm=A(["\n  position: absolute;\n  width: ","px;\n  height: ","px;\n  ","\n  ","\n  ","\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    width: ","px;\n    height: ","px;\n    ","\n    ","\n  }\n"],["\n  position: absolute;\n  width: ","px;\n  height: ","px;\n  ","\n  ","\n  ","\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    width: ","px;\n    height: ","px;\n    ","\n    ","\n  }\n"])),r,r,(function(e){return"top"===e.vertical?n(am||(am=A(["\n          top: 0px;\n        "],["\n          top: 0px;\n        "]))):n(sm||(sm=A(["\n          bottom: 0px;\n        "],["\n          bottom: 0px;\n        "])))}),(function(e){return"left"===e.horizontal?n(lm||(lm=A(["\n          left: 0px;\n        "],["\n          left: 0px;\n        "]))):n(cm||(cm=A(["\n          right: 0px;\n        "],["\n          right: 0px;\n        "])))}),(function(e){return"top"===e.vertical?n(um||(um=A(["\n          margin-top: -","px;\n        "],["\n          margin-top: -","px;\n        "])),o):n(dm||(dm=A(["\n          margin-bottom: -","px;\n        "],["\n          margin-bottom: -","px;\n        "])),o)}),(function(e){return"left"===e.horizontal?n(pm||(pm=A(["\n          margin-left: -","px;\n        "],["\n          margin-left: -","px;\n        "])),o):n(fm||(fm=A(["\n          margin-right: -","px;\n        "],["\n          margin-right: -","px;\n        "])),o)}),i,i,(function(e){return"top"===e.vertical?n(hm||(hm=A(["\n            margin-top: -","px;\n          "],["\n            margin-top: -","px;\n          "])),a):n(mm||(mm=A(["\n            margin-bottom: -","px;\n          "],["\n            margin-bottom: -","px;\n          "])),a)}),(function(e){return"left"===e.horizontal?n(gm||(gm=A(["\n            margin-left: -","px;\n          "],["\n            margin-left: -","px;\n          "])),a):n(ym||(ym=A(["\n            margin-right: -","px;\n          "],["\n            margin-right: -","px;\n          "])),a)}))})),Im=e(Om)((function(e){var t="right"===e.horizontal?e.borderWidth:0,r="bottom"===e.vertical?e.borderWidth:0,i="left"===e.horizontal?e.borderWidth:0,o=("top"===e.vertical?e.borderWidth:0)+"px "+t+"px "+r+"px "+i+"px",a="left"===e.horizontal&&"bottom"===e.vertical||"right"===e.horizontal&&"top"===e.vertical?"nesw-resize":"nwse-resize",s=e.theme.measurements.canvasControls.corner.touchable.desktop/4-e.borderWidth,l=e.theme.measurements.canvasControls.corner.touchable.mobile/4+e.borderWidth;return n(Tm||(Tm=A(["\n    &:before {\n      display: block;\n      position: absolute;\n      content: '';\n      width: ","px;\n      height: ","px;\n      z-index: ",";\n      border-color: ",";\n      border-style: solid;\n      border-width: ",";\n      pointer-events: auto;\n      ","\n      ","\n      @media all and (min-width: 0) and (max-width: 599px) {\n        ","\n        ","\n      }\n    }\n    cursor: ",";\n    pointer-events: none;\n  "],["\n    &:before {\n      display: block;\n      position: absolute;\n      content: '';\n      width: ","px;\n      height: ","px;\n      z-index: ",";\n      border-color: ",";\n      border-style: solid;\n      border-width: ",";\n      pointer-events: auto;\n      ","\n      ","\n      @media all and (min-width: 0) and (max-width: 599px) {\n        ","\n        ","\n      }\n    }\n    cursor: ",";\n    pointer-events: none;\n  "])),(function(e){return e.theme.measurements.canvasControls.corner.size}),(function(e){return e.theme.measurements.canvasControls.corner.size}),(function(e){return e.theme.measurements.zIndex.canvas.controls}),(function(e){return e.theme.canvas.controlsColor}),o,"top"===e.vertical?n(bm||(bm=A(["\n            top: ","px;\n          "],["\n            top: ","px;\n          "])),s):n(_m||(_m=A(["\n            bottom: ","px;\n          "],["\n            bottom: ","px;\n          "])),s),"left"===e.horizontal?n(xm||(xm=A(["\n            left: ","px;\n          "],["\n            left: ","px;\n          "])),s):n(wm||(wm=A(["\n            right: ","px;\n          "],["\n            right: ","px;\n          "])),s),"top"===e.vertical?n(Sm||(Sm=A(["\n              margin-top: ","px;\n            "],["\n              margin-top: ","px;\n            "])),l):n(Em||(Em=A(["\n              margin-bottom: ","px;\n            "],["\n              margin-bottom: ","px;\n            "])),l),"left"===e.horizontal?n(km||(km=A(["\n              margin-left: ","px;\n            "],["\n              margin-left: ","px;\n            "])),l):n(Cm||(Cm=A(["\n              margin-right: ","px;\n            "],["\n              margin-right: ","px;\n            "])),l),a)}));Im.defaultProps={theme:os};var Rm,Mm=e.div(Rm||(Rm=A(["\n  position: absolute;\n  height: ","px;\n  width: 4px;\n  z-index: ",";\n  background: ",";\n  cursor: pointer;\n"],["\n  position: absolute;\n  height: ","px;\n  width: 4px;\n  z-index: ",";\n  background: ",";\n  cursor: pointer;\n"])),(function(e){return e.theme.measurements.canvasControls.width.size}),(function(e){return e.theme.measurements.zIndex.canvas.controls}),(function(e){return e.theme.canvas.controlsColor}));Mm.defaultProps={theme:os};var Am,Pm=e.div.attrs((function(e){return{style:{height:e.height+"px",width:e.width+"px"}}}))(Am||(Am=A(["\n  border-style: solid;\n  border-width: 2px 0 2px 0;\n  border-color: ",";\n  box-shadow: 0 -6px 6px -6px rgba(0, 0, 0, 0.2), inset 0 6px 6px -6px rgba(0, 0, 0, 0.2);\n  cursor: move;\n  position: absolute;\n"],["\n  border-style: solid;\n  border-width: 2px 0 2px 0;\n  border-color: ",";\n  box-shadow: 0 -6px 6px -6px rgba(0, 0, 0, 0.2), inset 0 6px 6px -6px rgba(0, 0, 0, 0.2);\n  cursor: move;\n  position: absolute;\n"])),(function(e){return e.theme.canvas.controlsOutline}));Pm.defaultProps={theme:os};var zm,Dm=e.div.attrs((function(e){var t=e.height,n=e.width,r=e.theme;return{style:{height:t+r.measurements.canvasControls.sprite.controlPadding+"px",width:n+r.measurements.canvasControls.sprite.controlPadding+"px"}}}))(zm||(zm=A(["\n  left: -","px;\n  top: -","px;\n  transform-origin: center center;\n  border-style: solid;\n  border-width: 2px;\n  border-color: ",";\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.2), inset 0 2px 6px 0 rgba(0, 0, 0, 0.2);\n  cursor: move;\n  will-change: transform;\n  position: absolute;\n"],["\n  left: -","px;\n  top: -","px;\n  transform-origin: center center;\n  border-style: solid;\n  border-width: 2px;\n  border-color: ",";\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.2), inset 0 2px 6px 0 rgba(0, 0, 0, 0.2);\n  cursor: move;\n  will-change: transform;\n  position: absolute;\n"])),(function(e){return e.theme.measurements.canvasControls.sprite.controlPadding/2}),(function(e){return e.theme.measurements.canvasControls.sprite.controlPadding/2}),(function(e){return e.theme.canvas.controlsColor}));Dm.defaultProps={theme:os};var Lm,Fm,jm,Bm,Um,Nm,Hm,Wm,Vm,Gm,Xm=e.div.attrs((function(e){return{style:{left:e.x+"px"}}}))(Lm||(Lm=A(["\n  position: absolute;\n  bottom: -","px;\n  height: ","px;\n  width: 2px;\n  background-color: ",";\n"],["\n  position: absolute;\n  bottom: -","px;\n  height: ","px;\n  width: 2px;\n  background-color: ",";\n"])),(function(e){return e.theme.measurements.canvasControls.sprite.rotateHandle.height}),(function(e){return e.theme.measurements.canvasControls.sprite.rotateHandle.height}),(function(e){return e.theme.canvas.controlsOutline})),Ym=e.div(Fm||(Fm=A(["\n  position: relative;\n  height: inherit;\n  width: inherit;\n"],["\n  position: relative;\n  height: inherit;\n  width: inherit;\n"]))),Km=e.div.attrs({tabIndex:0})(jm||(jm=A(["\n  position: absolute;\n  height: ","px;\n  width: ","px;\n  top: 0;\n  left: 0;\n  &:focus {\n    outline: 0;\n  }\n"],["\n  position: absolute;\n  height: ","px;\n  width: ","px;\n  top: 0;\n  left: 0;\n  &:focus {\n    outline: 0;\n  }\n"])),(function(e){return e.height}),(function(e){return e.width})),qm=(void 0===Bm&&(Bm=Ze()),-1!==Bm.indexOf("Safari")&&-1===Bm.indexOf("Chrome")?n(Um||(Um=A(["\n      transition: unset;\n    "],["\n      transition: unset;\n    "]))):n(Nm||(Nm=A(["\n      transition: all 0.4s ease-in-out;\n    "],["\n      transition: all 0.4s ease-in-out;\n    "])))),$m=e.div(Hm||(Hm=A(["\n  position: absolute;\n  background: ",";\n  z-index: ",";\n  ","\n"],["\n  position: absolute;\n  background: ",";\n  z-index: ",";\n  ","\n"])),(function(e){return e.theme.canvas.cropBackdrop}),(function(e){return e.theme.measurements.zIndex.canvas.crop.backdrop}),qm),Zm=e.div.attrs({"data-test-id":"CropMask"})(Wm||(Wm=A(["\n  position: absolute;\n  box-shadow: inset 0 0 0 2px ",";\n  cursor: move;\n  ","\n"],["\n  position: absolute;\n  box-shadow: inset 0 0 0 2px ",";\n  cursor: move;\n  ","\n"])),(function(e){return e.theme.canvas.controlsOutline}),qm),Jm=e.div(Vm||(Vm=A(["\n  position: absolute;\n  background: ",";\n  z-index: ",";\n  ","\n"],["\n  position: absolute;\n  background: ",";\n  z-index: ",";\n  ","\n"])),(function(e){return e.theme.canvas.controlsOutline}),(function(e){return e.theme.measurements.zIndex.canvas.crop.grid}),qm),Qm=e(Im)(Gm||(Gm=A(["\n  z-index: ",";\n  ",";\n"],["\n  z-index: ",";\n  ",";\n"])),(function(e){return e.theme.measurements.zIndex.canvas.controls}),qm),eg={Index:Vh,Area:Wh,Bar:{Index:Gh,ButtonGroup:Uh},Button:{TextSecondary:Fh,Float:function(e){return p.createElement(jh,E({},e),p.createElement(Bh,null))}},Container:qh,Element:$h,Wrapper:Zh,Webcam:em,Controls:{Knob:om,Circle:tm,Corner:Im,Line:rm,Area:Pm,Sprite:Dm,RotateHandle:Xm,Container:Ym,Wrapper:Km,SpriteActionsWrapper:Hh,SpriteActionButton:Nh,Width:Mm},Crop:{Mask:Zm,GridLine:Jm,Backdrop:$m,Control:Qm}},tg=function(e){function t(t){var n=e.call(this,t)||this;return n.init=function(){navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){n.video.srcObject=e})).catch((function(e){n.props.modal.showActionModal({identifier:"webcamUnavailable",error:e,handlers:n.modalHandler})})):n.props.modal.showActionModal({identifier:"webcamUnavailable",error:"Webcam not supported",handlers:n.modalHandler})},n.stop=function(){var e=n.props.active;n.video.srcObject.getTracks().forEach((function(e){e.stop()})),n.video.srcObject=null,e.selectWebcam(!1)},n.captureAndCloseWebcam=function(){n.canvas.width=n.video.videoWidth,n.canvas.height=n.video.videoHeight,n.canvas.getContext("2d").drawImage(n.video,0,0),n.props.active.newImage(n.canvas.toDataURL("image/webp")),n.stop()},n.videoRef=p.createRef(),n}return S(t,e),t.prototype.componentDidMount=function(){var e=this;this.canvas=document.createElement("canvas"),this.video=this.videoRef.current,this.modalHandler={buttonYes:function(){e.props.active.selectWebcam(!1)}},this.init()},t.prototype.render=function(){var e=this.props.editor,t=e.getPreviewSize(),n=t.height,r=t.width,i=e.configStore.measurements,o=this.props.canvas.canvasSize.height,a=(o-n)/2,s=a<24+i.buttons.float.size?o-48-i.buttons.float.size/2:o-a+24,l=this.props.active.webcamLabel;return p.createElement(eg.Wrapper,null,p.createElement(eg.Bar.Index,{transparentBackgound:!0,style:{justifyContent:"flex-end"}},p.createElement(eg.Bar.ButtonGroup,null,p.createElement(Ku,{ariaLabel:l,onClick:this.stop},l))),p.createElement(eg.Webcam,{style:{height:n,width:r},autoPlay:!0,ref:this.videoRef}),p.createElement(eg.Button.Float,{ariaLabel:"Click and Save",style:{top:s},onClick:this.captureAndCloseWebcam}))},t}(p.Component),ng=rc("active","canvas","modal","editor")(wc(tg)),rg=function(e){function t(t){var n=e.call(this,t)||this;return n.wrapperElementRef=null,n.timeout=null,n.updateDimensions=function(e){void 0===e&&(e=!0),e?(clearTimeout(n.timeout),n.timeout=setTimeout((function(){n.update(e)}),100)):n.update(e)},n.update=function(e){void 0===e&&(e=!0);var t=n.wrapperElementRef.current;n.props.canvas.saveDimensions({width:t&&t.clientWidth||0,height:t&&t.clientHeight||0,render:e})},n.wrapperElementRef=p.createRef(),n.resizeObserver=new za((function(){n.updateDimensions(!0)})),n}return S(t,e),t.prototype.componentDidMount=function(){var e=this;this.updateDimensions(!1),window.addEventListener("resize",(function(){return e.updateDimensions(!0)})),this.wrapperElementRef.current&&this.resizeObserver.observe(this.wrapperElementRef.current)},t.prototype.componentWillUnmount=function(){var e=this;window.removeEventListener("resize",(function(){return e.updateDimensions(!0)})),this.timeout&&clearTimeout(this.timeout)},t.prototype.render=function(){return p.createElement(eg.Container,{"data-test-id":"CanvasContainer",ref:this.wrapperElementRef},this.props.children)},t}(h),ig=rc("canvas")(wc(rg)),og=function(e,t){return void 0!==e&&void 0!==t&&!Number.isNaN(e)&&!Number.isNaN(t)},ag=e(eg.Controls.Knob)(cg||(cg=A(["\n  margin-top: -","px;\n  margin-left: -","px;\n"],["\n  margin-top: -","px;\n  margin-left: -","px;\n"])),(function(e){return e.theme.measurements.canvasControls.knob.touchable.desktop/2}),(function(e){return e.theme.measurements.canvasControls.knob.touchable.desktop/2})),sg=e(eg.Controls.Container)(ug||(ug=A(["\n  overflow: unset;\n"],["\n  overflow: unset;\n"]))),lg=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.start=function(e,n){var r=n.x,i=n.y;og(r,i)&&t.focusTool.setStart({x:r,y:i})},t.end=function(e,n){var r=n.x,i=n.y;og(r,i)&&t.focusTool.setEnd({x:r,y:i})},t.onKnob1DragStart=function(e,n){t.focusTool.clickableCanvas(!1),t.start(e,n)},t.onKnob1DragStop=function(e,n){t.addSnapshot(n,t.historyLocale.focusPosition),t.start(e,n),t.focusTool.clickableCanvas(!0)},t.onKnob2DragStart=function(e,n){t.focusTool.clickableCanvas(!1),t.end(e,n)},t.onKnob2DragStop=function(e,n){t.addSnapshot(n,t.historyLocale.focusPosition),t.end(e,n),t.focusTool.clickableCanvas(!0)},t.addSnapshot=function(e,n){var r=e.x,i=e.y;og(r,i)&&t.focusTool.toolSnapshot(n)},t.getLine=function(){var e=t.props.canvas.canvasSize,n=e.height,r=e.width,i=t.focusTool.startOnPreview,o=t.focusTool.endOnPreview;return p.createElement("svg",{focusable:"false",height:n,width:r},p.createElement("line",{x1:i.x,y1:i.y,x2:o.x,y2:o.y,strokeWidth:"2",stroke:"currentColor"}))},t}return S(t,e),Object.defineProperty(t.prototype,"focusTool",{get:function(){return this.props.focusTool},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"historyLocale",{get:function(){return this.focusTool.locale.history},enumerable:!0,configurable:!0}),t.prototype.render=function(){return p.createElement(sg,null,p.createElement(eg.Controls.Line,null,this.getLine()),p.createElement(Ih.Draggable,{bounds:"parent",position:this.focusTool.startOnPreview,onStart:this.onKnob1DragStart,onDrag:this.start,onStop:this.onKnob1DragStop},p.createElement(ag,null)),p.createElement(Ih.Draggable,{bounds:"parent",onStart:this.onKnob2DragStart,onDrag:this.end,onStop:this.onKnob2DragStop,position:this.focusTool.endOnPreview},p.createElement(ag,null)))},t}(p.Component);ag.defaultProps={theme:os};var cg,ug,dg,pg,fg=rc("canvas","focusTool")(wc(lg)),hg=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={knobAngle:2.35},t.onCircle=function(e,n){var r=n.x,i=n.y;if(og(r,i)){var o=t.focusTool.radius;t.focusTool.setCenter({x:r+o,y:i+o})}},t.onKnob=function(e,n){var r=n.x,i=n.y;if(og(r,i)){var o=t.focusTool.center,a=new z(r,i),s=new z(o.x,o.y).subtract(a),l=s.magnitude,c=-Math.atan2(s.y,s.x);t.setState({knobAngle:c}),t.focusTool.setRadius(l)}},t.onCircleDragStart=function(e,n){t.focusTool.clickableCanvas(!1),t.onCircle(e,n)},t.onCircleDragStop=function(e,n){t.addSnapshot(n,t.historyLocale.focusPosition),t.onCircle(e,n),t.focusTool.clickableCanvas(!0)},t.onKnobDragStart=function(e,n){t.focusTool.clickableCanvas(!1),t.onKnob(e,n)},t.onKnobDragStop=function(e,n){t.addSnapshot(n,t.historyLocale.focusSize),t.onKnob(e,n),t.focusTool.clickableCanvas(!0)},t.addSnapshot=function(e,n){var r=e.x,i=e.y;og(r,i)&&t.focusTool.toolSnapshot(n)},t}return S(t,e),t.prototype.componentDidMount=function(){this.setState({knobAngle:2.35})},Object.defineProperty(t.prototype,"historyLocale",{get:function(){return this.focusTool.locale.history},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusTool",{get:function(){return this.props.focusTool},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.focusTool,t=e.center,n=e.radius,r={x:t.x-n,y:t.y-n},i=Math.PI-this.state.knobAngle,o={x:t.x+n*Math.cos(i),y:t.y+n*Math.sin(i)};return p.createElement(eg.Controls.Container,null,p.createElement(Ih.Draggable,{bounds:"parent",onStart:this.onKnobDragStart,onDrag:this.onKnob,onStop:this.onKnobDragStop,position:o},p.createElement(eg.Controls.Knob,null)),p.createElement(Ih.Draggable,{onStart:this.onCircleDragStart,onDrag:this.onCircle,onStop:this.onCircleDragStop,position:r},p.createElement(eg.Controls.Circle,{radius:n})))},t}(p.Component),mg=rc("focusTool","canvas")(wc(hg)),gg=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getKnobPosition=function(){var e=t.focusTool.origin,n=t.focusTool.size/2,r=Math.PI/2+t.focusTool.rotation;return{x:e.x+n*Math.cos(r),y:e.y+n*Math.sin(r)}},t.onArea=function(e,n){var r=n.x,i=n.y,o=t.props.editor.configStore.measurements.canvasControls.knob.size;if(og(r,i)){var a=t.props.canvas,s=t.focusTool,l=s.size,c=r+s.mirroredAreaWidth/2,u=i+l/2,d=new z(t.getKnobPosition()),p=new z({x:r,y:i}).subtract(new z(t.areaPosition)),f=d.add(p);f.x>o&&f.x<a.canvasSize.width-o&&f.y>o&&f.y<a.canvasSize.height-o&&t.focusTool.setOrigin({x:c,y:u})}},t.onKnob=function(e,n){var r=n.x,i=n.y;if(og(r,i)){var o=new z(t.focusTool.origin),a=new z(r,i),s=o.subtract(a),l=s.magnitude,c=Math.PI/2+Math.atan2(s.y,s.x);t.focusTool.setSize(2*l),t.focusTool.setRotation(c)}},t.onAreaDragStop=function(e,n){t.addSnapshot(n,t.historyLocale.focusPosition),t.onArea(e,n)},t.onKnobDragStop=function(e,n){t.addSnapshot(n,t.historyLocale.focusSize),t.onKnob(e,n)},t.addSnapshot=function(e,n){var r=e.x,i=e.y;og(r,i)&&t.focusTool.toolSnapshot(n)},t}return S(t,e),Object.defineProperty(t.prototype,"historyLocale",{get:function(){return this.focusTool.locale.history},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusTool",{get:function(){return this.props.focusTool},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"areaPosition",{get:function(){var e=this.focusTool,t=e.origin,n=e.size,r=e.mirroredAreaWidth;return{x:t.x-r/2,y:t.y-n/2}},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.areaPosition,t=e.x,n=e.y;return p.createElement(eg.Controls.Container,null,p.createElement(Ih.Draggable,{bounds:"parent",onStart:this.onKnob,onDrag:this.onKnob,onStop:this.onKnobDragStop,position:this.getKnobPosition()},p.createElement(eg.Controls.Knob,null)),p.createElement(Ih.Draggable,{onStart:this.onArea,onDrag:this.onArea,onStop:this.onAreaDragStop,position:{x:t,y:n},rotation:this.focusTool.rotation},p.createElement(eg.Controls.Area,{height:this.focusTool.size,width:this.focusTool.mirroredAreaWidth})))},t}(p.Component),yg=rc("focusTool","canvas","editor")(wc(gg)),vg=rc("focusTool")(wc((function(e){var t=e.focusTool,n=t.state,r=function(){switch(n.identifier){case oe.LINEAR:return fg;case oe.RADIAL:return mg;case oe.MIRRORED:return yg}return null}();return t.isOptionSelected&&r?p.createElement(r,null):null}))),bg=e(eg.Controls.Container)(dg||(dg=A(["\n  cursor: none;\n"],["\n  cursor: none;\n"]))),_g=e.div(pg||(pg=A(["\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  transform: translate(-50%, -50%);\n  border-radius: 50%;\n  border-width: 2px;\n  border-style: solid;\n  box-shadow: 0 0 0 0.5px rgba(0, 0, 0, 0.8), 0 0 0 1px rgba(255, 255, 255, 1);\n"],["\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  transform: translate(-50%, -50%);\n  border-radius: 50%;\n  border-width: 2px;\n  border-style: solid;\n  box-shadow: 0 0 0 0.5px rgba(0, 0, 0, 0.8), 0 0 0 1px rgba(255, 255, 255, 1);\n"]))),xg=function(e){function t(t){var n=e.call(this,t)||this;return n.INITIAL_POSITION={x:void 0,y:void 0},n.state=E({},n.INITIAL_POSITION,{isDrawing:!1}),n.containerElementRef=null,n.getCursorCoordinates=function(e){var t=0,r=0;if(-1!==e.type.indexOf("touch")){if(!(i=e).touches.length)return E({},n.INITIAL_POSITION,{height:0,width:0});t=i.touches[0].clientX,r=i.touches[0].clientY}else{var i;t=(i=e).clientX,r=i.clientY}var o=n.containerElementRef.current.getBoundingClientRect();return{x:t-o.left,y:r-o.top,height:o.height,width:o.width}},n.draw=function(e){e.preventDefault(),e.stopPropagation(),n.touchDraw(e)},n.touchDraw=function(e){var t=n.getCursorCoordinates(e),r=t.x,i=t.y;void 0!==r&&void 0!==i&&(n.setState({x:r,y:i}),n.state.isDrawing&&n.brushTool.strokePosition({x:r,y:i}))},n.start=function(){n.brushTool.clickableCanvas(!1),n.setState({isDrawing:!0}),n.brushTool.beginStroke()},n.stop=function(e){n.state.isDrawing&&(e.preventDefault(),e.stopPropagation(),n.setState({isDrawing:!1}),n.brushTool.endStroke(),n.brushTool.clickableCanvas(!0))},n.setInitialPosition=function(){n.setState(E({},n.INITIAL_POSITION))},n.mouseOut=function(e){var t=n.props.config;e.preventDefault(),e.stopPropagation();var r=n.brushTool.sizeOnScreenSpace/2,i=n.getCursorCoordinates(e),o=i.x,a=i.y,s=i.height,l=i.width;o&&a&&(o<0||a<0||o>l-r||a>s-r||a<t.measurements.mainCanvasActionBar.height)&&n.setInitialPosition()},n.touchEnd=function(e){e.preventDefault(),e.stopPropagation();var t=n.state,r=t.x,i=t.y;r&&i&&n.setInitialPosition()},n.getCursor=function(){var e=n.state,t=e.x,r=e.y;if(t&&r){var i=ot(n.brushTool.color),o=n.brushTool.sizeOnScreenSpace+"px",a={left:n.state.x+"px",top:n.state.y+"px",borderColor:i,height:o,width:o};return p.createElement(_g,{style:a})}return null},n.containerElementRef=p.createRef(),n}return S(t,e),t.prototype.componentDidMount=function(){document.addEventListener("mouseup",this.stop,!1),document.addEventListener("touchend",this.stop,{passive:!1})},t.prototype.componentWillUnmount=function(){document.removeEventListener("mouseup",this.stop,!1),document.removeEventListener("touchend",this.stop,!1)},Object.defineProperty(t.prototype,"brushTool",{get:function(){return this.props.brushTool},enumerable:!0,configurable:!0}),t.prototype.render=function(){return p.createElement(bg,{ref:this.containerElementRef,onMouseMove:this.draw,onTouchMove:this.touchDraw,onMouseDown:this.start,onTouchStart:this.start,onMouseOut:this.mouseOut,onTouchEnd:this.touchEnd},this.getCursor())},t}(p.Component),wg=rc("brushTool","config")(wc(xg));var Sg=function(e){var t=e.height,n=e.width,r=e.x,i=e.className,o=e.style;return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:t,viewBox:"0 0 102 3",className:i,style:o},p.createElement("pattern",{id:"photoeditorsdk-slider-dots",fill:"currentColor",patternUnits:"userSpaceOnUse",width:"102",height:"3"},p.createElement("rect",{width:"3",height:"3",x:"99",y:"0",opacity:"0.5",rx:"1.5"}),p.createElement("rect",{width:"3",height:"3",x:"88",y:"0",opacity:"0.5",rx:"1.5"}),p.createElement("rect",{width:"3",height:"3",x:"77",y:"0",opacity:"0.5",rx:"1.5"}),p.createElement("rect",{width:"3",height:"3",x:"66",y:"0",rx:"1.5"}),p.createElement("rect",{width:"3",height:"3",x:"55",y:"0",opacity:"0.5",rx:"1.5"}),p.createElement("rect",{width:"3",height:"3",x:"44",y:"0",opacity:"0.5",rx:"1.5"}),p.createElement("rect",{width:"3",height:"3",x:"33",y:"0",opacity:"0.5",rx:"1.5"}),p.createElement("rect",{width:"3",height:"3",x:"22",y:"0",opacity:"0.5",rx:"1.5"}),p.createElement("rect",{width:"3",height:"3",x:"11",y:"0",rx:"1.5"})),p.createElement("rect",{fill:"url(#photoeditorsdk-slider-dots)",x:1.5*-n,y:"0",width:4*n,height:"3",transform:"translate("+r+", 0)"}))};Sg.defaultProps={height:3,width:102,x:-102};var Eg=function(e){var t=e.alt,n=e.className;return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 16 16",className:n},p.createElement("title",null,t),p.createElement("defs",null,p.createElement("path",{id:"photoeditorsdk-rotate-icon",d:"M132 0l1.25 1.57a8.01 8.01 0 0110.41.77 8.015 8.015 0 010 11.32c-.33.33-.67.62-1.04.859-1.38.991-3 1.481-4.62 1.481v-2c1.22 0 2.44-.37 3.47-1.111a6 6 0 00.77-9.129 5.992 5.992 0 00-7.73-.63L136 5h-5l1-5zm2.43 12.82c.5.38 1.06.67 1.66.87l-.64 1.89a7.56 7.56 0 01-1.48-.67l-.03-.01v-.01h-.02v-.01h-.01c0-.01-.01-.01-.01-.01h-.01v-.01h-.02v-.01h-.01l-.01-.01s-.01 0-.01-.01h-.01c-.2-.12-.4-.26-.6-.4zm-2.15-3.02c.18.6.47 1.17.83 1.68l-1.63 1.16v-.01s-.01 0-.01-.01c0 0 0-.01-.01-.01v-.01h-.01v-.01c-.01 0-.01-.01-.01-.01v-.01h-.01v-.01h-.01v-.01c0-.01-.01-.01-.01-.01v-.01c-.01 0-.01 0-.01-.01-.27-.39-.49-.79-.68-1.21-.01 0-.01-.01-.01-.01v-.01h-.01v-.02l-.01-.01c0-.02-.01-.02-.01-.02v-.02h-.01v-.02h-.01v-.03h-.01v-.02h-.01v-.02c-.01 0-.01 0-.01-.01v-.01c-.1-.23-.19-.47-.26-.7z"})),p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",transform:"translate(-130)"},p.createElement("mask",{fill:"none"},p.createElement("use",{xlinkHref:"#photoeditorsdk-rotate-icon"})),p.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-rotate-icon"})))};Eg.defaultProps={alt:"Rotate"};var kg,Cg,Tg,Og,Ig,Rg,Mg,Ag,Pg,zg,Dg,Lg,Fg,jg,Bg,Ug,Ng,Hg,Wg,Vg,Gg,Xg=e.svg.attrs({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"})(kg||(kg=A([""],[""]))),Yg={adjustment:function(){return p.createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Adjustments",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},p.createElement("g",{fill:"none",fillRule:"evenodd"},p.createElement("g",null,p.createElement("g",{fill:"#D8D8D8",opacity:"0"},p.createElement("rect",{width:"48",height:"48"})),p.createElement("g",{transform:"translate(12 12)"},p.createElement("rect",{fill:"#D8D8D8",opacity:"0",width:"24",height:"24"}),p.createElement("g",{transform:"translate(2 13)",fill:"currentColor"},p.createElement("path",{d:"M3.02746439,4 C3.00931666,4.16416693 3,4.33099545 3,4.5 C3,4.66900455 3.00931666,4.83583307 3.02746439,5 L0,5 L0,4 L3.02746439,4 Z M13,4 L20,4 L20,5 L13,5 L13,4 Z",fillOpacity:"0.2"}),p.createElement("path",{d:"M5.09842503,6.29819429 C5.0340931,6.05140089 5,5.7851211 5,5.5 C5,3.56700338 6.56700338,2 8.5,2 C8.7851211,2 9.05140089,2.0340931 9.29819429,2.09842503 C10.0278893,2.64566496 10.5,3.5176988 10.5,4.5 C10.5,6.15685425 9.15685425,7.5 7.5,7.5 C6.5176988,7.5 5.64566496,7.02788926 5.09842503,6.29819429 Z M11.1637159,7.11349161 C10.874061,7.51881791 10.5188179,7.87406095 10.1134916,8.16371592 C10.5772175,7.93004328 10.9300433,7.5772175 11.1637159,7.11349161 Z",fillOpacity:"0.2"}),p.createElement("path",{d:"M7.5,7.5 C9.15685425,7.5 10.5,6.15685425 10.5,4.5 C10.5,2.84314575 9.15685425,1.5 7.5,1.5 C5.84314575,1.5 4.5,2.84314575 4.5,4.5 C4.5,6.15685425 5.84314575,7.5 7.5,7.5 Z M7.5,9 C5.01471863,9 3,6.98528137 3,4.5 C3,2.01471863 5.01471863,0 7.5,0 C9.98528137,0 12,2.01471863 12,4.5 C12,6.98528137 9.98528137,9 7.5,9 Z",fillOpacity:"0.87"})),p.createElement("g",{transform:"rotate(-180 11 5.5)",fill:"currentColor"},p.createElement("path",{d:"M11.9725356,4 L20,4 L20,5 L11.9725356,5 C11.9906833,4.83583307 12,4.66900455 12,4.5 C12,4.33099545 11.9906833,4.16416693 11.9725356,4 Z M0,4 L2,4 L2,5 L0,5 L0,4 Z",fillOpacity:"0.2"}),p.createElement("g",{transform:"rotate(-180 5 3.5)",fillOpacity:"0.2"},p.createElement("path",{d:"M0.0984250251,4.29819429 C0.0340930963,4.05140089 0,3.7851211 0,3.5 C0,1.56700338 1.56700338,0 3.5,0 C3.7851211,0 4.05140089,0.0340930963 4.29819429,0.0984250251 C5.02788926,0.645664963 5.5,1.5176988 5.5,2.5 C5.5,4.15685425 4.15685425,5.5 2.5,5.5 C1.5176988,5.5 0.645664963,5.02788926 0.0984250251,4.29819429 Z M6.16371592,5.11349161 C5.87406095,5.51881791 5.51881791,5.87406095 5.11349161,6.16371592 C5.5772175,5.93004328 5.93004328,5.5772175 6.16371592,5.11349161 Z"})),p.createElement("path",{d:"M7.5,7.5 C9.15685425,7.5 10.5,6.15685425 10.5,4.5 C10.5,2.84314575 9.15685425,1.5 7.5,1.5 C5.84314575,1.5 4.5,2.84314575 4.5,4.5 C4.5,6.15685425 5.84314575,7.5 7.5,7.5 Z M7.5,9 C5.01471863,9 3,6.98528137 3,4.5 C3,2.01471863 5.01471863,-3.6739404e-16 7.5,-3.6739404e-16 C9.98528137,-3.6739404e-16 12,2.01471863 12,4.5 C12,6.98528137 9.98528137,9 7.5,9 Z",fillOpacity:"0.87"}))))))},filter:function(){return p.createElement("svg",{"aria-hidden":"true",focusable:"false","aria-label":"Filter",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},p.createElement("g",{fill:"none",fillRule:"evenodd"},p.createElement("g",null,p.createElement("g",{fill:"#D8D8D8",opacity:"0"},p.createElement("rect",{width:"48",height:"48"})),p.createElement("g",{transform:"translate(16 14)",fill:"currentColor"},p.createElement("g",null,p.createElement("path",{d:"M1.53468397,11.3244256 C2.30584171,10.1516526 4.0927284,8.69757613 8,10 C11.5643313,11.1881104 13.1877038,10.2588113 13.9183327,9.30853287 C14.2918933,10.1286474 14.5,11.0400207 14.5,12 C14.5,15.5898509 11.5898509,18.5 8,18.5 C4.41014913,18.5 1.5,15.5898509 1.5,12 C1.5,11.7718729 1.51175212,11.5464906 1.53468397,11.3244256 Z",fillOpacity:"0.2"}),p.createElement("path",{d:"M1.53471819,12.6759057 C2.39408133,13.5811739 4.12541941,14.1109247 5.5,13.5 C9.81068889,11.5841383 9.99203585,9.66827654 14.3948028,10.8290113 C14.4639074,11.2088572 14.5,11.6002137 14.5,12 C14.5,15.5898509 11.5898509,18.5 8,18.5 C4.63838968,18.5 1.87279864,15.9481381 1.53471819,12.6759057 Z",fillOpacity:"0.25"}),p.createElement("path",{d:"M11,1.44328993e-15 L11,4.58151705 C13.9318303,5.7682918 16,8.64262245 16,12 C16,16.418278 12.418278,20 8,20 C3.581722,20 0,16.418278 0,12 C0,8.64262245 2.06816966,5.7682918 5,4.58151705 L5,1.60982339e-15 L6.5,1.44328993e-15 L6.5,5.67393184 C3.6333,6.35109564 1.5,8.92641836 1.5,12 C1.5,15.5898509 4.41014913,18.5 8,18.5 C11.5898509,18.5 14.5,15.5898509 14.5,12 C14.5,8.92641836 12.3667,6.35109564 9.5,5.67393184 L9.5,1.77635684e-15 L11,1.44328993e-15 Z",fillOpacity:"0.87"}))))))},library:function(){return p.createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Library",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},p.createElement("g",{fill:"none",fillRule:"evenodd"},p.createElement("g",{transform:"translate(15 15)",fill:"currentColor"},p.createElement("g",null,p.createElement("polygon",{fillOpacity:"0.2",points:"3 3 12.5 1.5 12.5 15.5 1.5 15.5"}),p.createElement("path",{d:"M1.5,1.5 L1.5,15.5 L12.5,15.5 L12.5,1.5 L1.5,1.5 Z M0,0 L14,0 L14,17 L0,17 L0,0 Z",fillOpacity:"0.87"}),p.createElement("polygon",{fillOpacity:"0.25",points:"3 11 6 7 8 9 9 8.5 11 11"}),p.createElement("circle",{fillOpacity:"0.25",cx:"9",cy:"5",r:"1"}),p.createElement("rect",{fillOpacity:"0.25",x:"3",y:"13",width:"8",height:"1"}),p.createElement("g",{transform:"rotate(14 -2.352 56.952)",fillOpacity:"0.2"},p.createElement("path",{d:"M1.32904158,1.07500967e-13 L5,1.07500967e-13 L5,14.7234101 L4,10.7126291 L4,1 L1.57836958,1 L1.32904158,1.07500967e-13 Z M5,14.9745817 L5,16 L0.887271787,16 L5,14.9745817 Z"}),p.createElement("path",{d:"M1.82769758,2 L3,2 L3,6.70184819 L1.82769758,2 Z"}))))))},overlay:function(){return p.createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Overlays",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},p.createElement("g",{fill:"none",fillRule:"evenodd"},p.createElement("g",{transform:"translate(15 15)",fill:"currentColor"},p.createElement("path",{d:"M13.5,4 L13.5,13.5 L4,13.5 L4,5 C4,4.44771525 4.44771525,4 5,4 L13.5,4 Z M15,4 L17,4 C17.5522847,4 18,4.44771525 18,5 L18,17 C18,17.5522847 17.5522847,18 17,18 L5,18 C4.44771525,18 4,17.5522847 4,17 L4,15 L14,15 C14.5522847,15 15,14.5522847 15,14 L15,4 Z",fillOpacity:"0.2"}),p.createElement("path",{d:"M1.5,1.5 L1.5,13.5 L13.5,13.5 L13.5,1.5 L1.5,1.5 Z M1,0 L14,0 C14.5522847,-1.01453063e-16 15,0.44771525 15,1 L15,14 C15,14.5522847 14.5522847,15 14,15 L1,15 C0.44771525,15 6.76353751e-17,14.5522847 0,14 L0,1 C-6.76353751e-17,0.44771525 0.44771525,1.01453063e-16 1,0 Z",fillOpacity:"0.87"}))))},focus:function(){return p.createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Focus",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},p.createElement("g",{fill:"none",fillRule:"evenodd"},p.createElement("g",null,p.createElement("g",{fill:"#D8D8D8",opacity:"0"},p.createElement("rect",{width:"48",height:"48"})),p.createElement("g",{transform:"translate(12 12)"},p.createElement("rect",{fill:"#D8D8D8",opacity:"0",width:"24",height:"24"}),p.createElement("g",{transform:"translate(4 2)",fill:"currentColor"},p.createElement("path",{d:"M8.51312274,19.9836057 C8.77273397,19.9669655 9.02898229,19.9377873 9.2812837,19.8966625 C9.14309542,19.9643562 9.04607398,20 9,20 C8.83633495,20 8.67398178,19.9944755 8.51312274,19.9836057 Z M2.27242753,15.0235117 C2.09503729,14.4174909 2,13.7771617 2,13.115 C2,8.89625769 7.39855682,4.1952443 9.03524007,2.8669743 C9.66704719,3.45933018 10.2896864,4.09178959 10.8802638,4.75434357 C12.9939648,7.12565193 14.310818,9.45010207 14.481291,11.4644804 C14.4937541,11.6117488 14.5,11.7569175 14.5,11.9 C14.5,15.5490785 11.5855665,18.5 8,18.5 C5.525182,18.5 3.37015673,17.0943182 2.27242753,15.0235117 Z M15.999821,11.9547651 C15.9999402,11.9698392 16,11.9849176 16,12 C16,12.0581275 15.9984809,12.1163475 15.9954873,12.1746435 C15.9978914,12.1015915 15.9993401,12.0282946 15.999821,11.9547651 Z",fillOpacity:"0.2"}),p.createElement("path",{d:"M3.47269084,16.6357644 C3.47244857,13.6389249 9.59189484,15.3529683 12,11.5 C13.2066771,9.56931667 12.316614,7.05620551 11.0727604,4.97270186 C13.0737756,7.26814668 14.316054,9.51197209 14.481291,11.4644804 C14.4937541,11.6117488 14.5,11.7569175 14.5,11.9 C14.5,15.5490785 11.5855665,18.5 8,18.5 C6.2411126,18.5 4.64375705,17.7899702 3.47269084,16.6357644 Z",fillOpacity:"0.25"}),p.createElement("path",{d:"M7.73975027,2.16383649 C6.84545319,2.94914111 5.95084629,3.82194197 5.11973623,4.75434357 C3.00603518,7.12565193 1.68918197,9.45010207 1.51870896,11.4644804 C1.50624591,11.6117488 1.5,11.7569175 1.5,11.9 C1.5,15.5492218 4.41434886,18.5 8,18.5 C11.5855665,18.5 14.5,15.5490785 14.5,11.9 C14.5,11.7569175 14.4937541,11.6117488 14.481291,11.4644804 C14.310818,9.45010207 12.9939648,7.12565193 10.8802638,4.75434357 C10.0491537,3.82194197 9.15454681,2.94914111 8.26024973,2.16383649 C8.17157048,2.08596503 8.08476013,2.01060875 8,1.93784184 C7.91523987,2.01060875 7.82842952,2.08596503 7.73975027,2.16383649 Z M8,20 C3.581722,20 0,16.3735065 0,11.9 C0,6.05 8,0 8,0 C8,0 16,6.05 16,11.9 C16,16.3732777 12.418278,20 8,20 Z",fillOpacity:"0.87"}))))))},sticker:function(){return p.createElement("svg",{focusable:"false","aria-hidden":"true",width:"48px",height:"48px",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-label":"Stickers",viewBox:"0 0 48 48"},p.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},p.createElement("g",null,p.createElement("g",{transform:"translate(14.000000, 14.000000)",fill:"currentColor"},p.createElement("g",{transform:"translate(2.000000, 2.000000)",fillOpacity:"0.2"},p.createElement("path",{d:"M11.5840291,0.290311095 C14.1040281,1.4637822 15.9529364,3.83641178 16.3972985,6.6747443 C11.4538042,7.5567274 7.55733385,11.4556991 6.68374109,16.3973312 C3.83946575,15.9530468 1.46423317,14.1041207 0.290132399,11.5832649 C0.0988489957,10.7650202 3.01980663e-14,9.89786431 3.01980663e-14,9 C3.01980663e-14,6.64646143 0.903391324,4.50392121 2.38232909,2.90022422 C4.02683831,1.11698861 6.38297582,-3.55271368e-15 9,-3.55271368e-15 C9.89814387,-3.55271368e-15 10.7655602,0.0989105588 11.5840291,0.290311095 Z"}),p.createElement("path",{d:"M17.9877222,8 L8,17.9877222 C8.2591955,12.5923102 12.5906864,8.26470667 17.9877222,8 Z"})),p.createElement("path",{d:"M9.87290303,14.9211604 C9.09408801,14.4293124 5,11.7146562 5,9 C5,7.34 6.34,6 8,6 C8.77,6 9.47,6.52 10,7 C10.53,6.52 11.23,6 12,6 C13.66,6 15,7.34 15,9 C15,9.30171667 14.9494261,9.60343334 14.8584511,9.90209822 C12.7354304,11.0373368 10.9933363,12.7905402 9.87290303,14.9211604 Z",fillOpacity:"0.25"}),p.createElement("path",{d:"M10,1.5 C5.30557963,1.5 1.5,5.30557963 1.5,10 C1.5,14.2449983 4.61102233,17.7611603 8.68374109,18.3973312 C9.55733385,13.4556991 13.4538042,9.5567274 18.3972985,8.6747443 C17.7608961,4.60976745 14.2436106,1.5 10,1.5 Z M0,10 C0,4.4771525 4.4771525,0 10,0 C15.5228475,0 20,4.4771525 20,10 C14.5988732,10.2649073 10.2649073,14.5988732 10.0116954,19.9999933 C4.4771525,20 0,15.5228475 0,10 Z",fillOpacity:"0.87"})))))},text:function(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",focusable:"false","aria-hidden":"true","aria-label":"Texts",width:"48",height:"48"},p.createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("path",{fillOpacity:"0.2",d:"M17.883 19.5H16.07L11.702 6.833l1.235-1.411L17.883 19.5z",transform:"translate(12 12)"}),p.createElement("path",{fillOpacity:"0.87",d:"M10.8 8.818L8.483 14.5h4.275l-1.96-5.682zM10 6.5l3.5-4 5.973 17H21V21h-8v-1.5h1.483L13.276 16H7.873l-1.426 3.5H8V21H3v-1.5h1.704L10 6.5zm1.702.333L16.069 19.5h1.814L12.937 5.422l-1.235 1.411z",transform:"translate(12 12)"}),p.createElement("path",{fillOpacity:"0.2",d:"M19.55 15l-.35-1H21v1h-1.45zm1.05 3l-.35-1H21v1h-.4zM7.639 8L7.25 9H3V8h4.639zm1.167-3l-.39 1H7V5h1.806zm-2.334 6l-.389 1H6v-1h.472zm-1.166 3l-.39 1H3v-1h2.306zm-1.167 3l-.389 1H3v-1h1.139zM15.35 3L15 2h1v1h-.65zm3.15 9l-.35-1H21v1h-2.5zm-1.05-3l-.35-1H21v1h-3.55zM16.4 6l-.35-1H18v1h-1.6zm-5.9-3H9V2h2.5l-1 1zM3 5h3v1H3V5zm16 0h2v1h-2V5zM3 11h2v1H3v-1zm18-8h-4V2h4v1zM8 3H3V2h5v1z",transform:"translate(12 12)"})))},textdesign:function(){return p.createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Text Design",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},p.createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("path",{fillOpacity:"0.87",d:"M1 0h14a1 1 0 011 1v19l-8-6-8 6V1a1 1 0 011-1zm.5 1.5V17L8 12.125 14.5 17V1.5h-13z",transform:"translate(14 14) translate(2)"}),p.createElement("path",{fillOpacity:"0.2",d:"M1.5 1.5h13V17L8 12.125 1.5 17V1.5z",transform:"translate(14 14) translate(2)"}),p.createElement("path",{fillOpacity:"0.25",d:"M9 4l2.52 7H10.2l-.7-1.85H6.45L5.77 11H4.49L6.9 4H9zm-1.04.78h-.05L6.73 8.14H9.2L7.96 4.78z",transform:"translate(14 14) translate(2)"})))},frame:function(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true","aria-label":"Frames",width:"48",height:"48",viewBox:"0 0 48 48"},p.createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1",transform:"translate(12 12)"},p.createElement("path",{fillOpacity:"0.2",d:"M8 8L17 7 17 17 7 17z"}),p.createElement("path",{fillOpacity:"0.87",d:"M4.5 19.5h15v-15h-15v15zM3 3h18v18H3V3z"}),p.createElement("path",{fillOpacity:"0.87",d:"M7 17h10V7H7v10zM6 6h12v12H6V6z"}),p.createElement("path",{fillOpacity:"0.25",d:"M9 15L11 12 13 14 14 13.5 15 15z"})))},transform:function(){return p.createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Transform",width:"48",height:"48",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},p.createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1",transform:"translate(12 12)"},p.createElement("path",{fillOpacity:"0.2",d:"M10 10L15 9 15 15 9 15z"}),p.createElement("path",{fillOpacity:"0.87",d:"M9 15h6V9H9v6zm-1.5 0V7.5H15V3h1.5v13.5H3V15h4.5zm0 2.5H9V21H7.5v-3.5zM21 7.5V9h-3.5V7.5H21z"}),p.createElement("g",{fillOpacity:"0.2"},p.createElement("path",{d:"M0 10h1a9.003 9.003 0 015.5-8.294L7 3 10.942.044C10.632.014 10.318 0 10 0 4.477 0 0 4.477 0 10z",transform:"translate(2 2)"}),p.createElement("path",{d:"M9 20h1a9.003 9.003 0 015.5-8.294L16 13l3.942-2.956c-.31-.03-.624-.044-.942-.044-5.523 0-10 4.477-10 10z",transform:"translate(2 2) rotate(-180 14.47 15)"}))))},brush:function(){return p.createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Brush",width:"48",height:"48",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},p.createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("path",{fillOpacity:"0.87",d:"M14.73 18.86C13.293 19.503 11.624 20 10 20 2 20 0 13 0 10c.486.972 2.37 5.848 7.537 4.165C7.873 17.125 10.427 19 13 19c.6 0 1.177-.05 1.73-.14zM8.422 8.63a7.352 7.352 0 00-1.127 1.616L2.401 3.705c-.215-.287-.178-.807.072-1.056l.088-.088L8.5 8.5l-.078.13z",opacity:"0.5",transform:"translate(12 12) translate(2 2)"}),p.createElement("path",{fillOpacity:"0.87",d:"M7.295 10.246c-.27.526-.48 1.09-.615 1.68L1.2 4.603c-.663-.885-.564-2.24.212-3.015l.176-.176c.78-.78 2.121-.881 3.015-.212l7.245 5.421a6.088 6.088 0 00-1.67.624L3.706 2.401c-.294-.22-.801-.184-1.056.072l-.176.176c-.25.25-.287.769-.072 1.056l4.894 6.54z",transform:"translate(12 12) translate(2 2)"}),p.createElement("path",{fillOpacity:"0.87",d:"M9.702 6.554c-.185-.869-.151-.71-.207-.955C8.88 2.902 8.145 2 6 2 3.98 2 2 4.08 2 6.5c0 2.294 1.835 4 4 4 1.545 0 2.915-.342 4.544-1.088-.332-.7-.578-1.619-.842-2.858z",opacity:"0.5",transform:"translate(12 12) translate(2 2) translate(7 7)"}),p.createElement("path",{fillOpacity:"0.25",d:"M10.379 9.027c.053.135.108.263.165.385C8.914 10.158 7.545 10.5 6 10.5c-2.165 0-4-1.706-4-4 0-1.528.79-2.921 1.88-3.74-.882 2.084-1.025 6.482 6.499 6.267z",transform:"translate(12 12) translate(2 2) translate(7 7)"}),p.createElement("path",{fillOpacity:"0.87",d:"M9.702 6.554c-.185-.869-.151-.71-.207-.955C8.88 2.902 8.145 2 6 2 3.98 2 2 4.08 2 6.5c0 2.294 1.835 4 4 4 1.545 0 2.915-.342 4.544-1.088-.332-.7-.578-1.619-.842-2.858zM6 12C3.239 12 .5 9.842.5 6.5S3.239.5 6 .5c6.5 0 4 8 7 9.342C11 10.947 8.761 12 6 12z",transform:"translate(12 12) translate(2 2) translate(7 7)"})))}},Kg={left:function(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 48 48",focusable:"false","aria-hidden":"true","aria-label":"Left Align",width:"26",height:"26"},p.createElement("defs",null,p.createElement("path",{id:"photoeditorsdk-align-left-icon",d:"M27 30v3H12v-3h15zm9-7.5v3H12v-3h24zm0-7.5v3H12v-3h24z"})),p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("mask",{fill:"#fff"},p.createElement("use",{xlinkHref:"#photoeditorsdk-align-left-icon"})),p.createElement("use",{fill:"currentColor",xlinkHref:"#photoeditorsdk-align-left-icon"})))},right:function(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 48 48",width:"26",height:"26",focusable:"false","aria-hidden":"true","aria-label":"Right Align"},p.createElement("defs",null,p.createElement("path",{id:"photoeditorsdk-align-right-icon",d:"M27 30v3H12v-3h15zm9-7.5v3H12v-3h24zm0-7.5v3H12v-3h24z"})),p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("path",{d:"M0 0H48V48H0z"}),p.createElement("mask",{fill:"#fff"},p.createElement("use",{xlinkHref:"#photoeditorsdk-align-right-icon"})),p.createElement("use",{fill:"currentColor",transform:"matrix(-1 0 0 1 48 0)",xlinkHref:"#photoeditorsdk-align-right-icon"})))},center:function(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 48 48",focusable:"false","aria-hidden":"true","aria-label":"Center Align",width:"26",height:"26"},p.createElement("defs",null,p.createElement("path",{id:"photoeditorsdk-align-center-icon",d:"M31.5 30v3h-15v-3h15zm4.5-7.5v3H12v-3h24zm0-7.5v3H12v-3h24z"})),p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("mask",{fill:"#fff"},p.createElement("use",{xlinkHref:"#photoeditorsdk-align-center-icon"})),p.createElement("use",{fill:"currentColor",xlinkHref:"#photoeditorsdk-align-center-icon"})))}},qg={addText:function(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},p.createElement("defs",null,p.createElement("path",{id:"photoeditorsdk-icon-add-text",d:"M12 0c6.627 0 12 5.373 12 12s-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0zm1 6h-2v5H6v2h5v5h2v-5h5v-2h-5V6z"})),p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("mask",{fill:"currentColor"},p.createElement("use",{xlinkHref:"#photoeditorsdk-icon-add-text"})),p.createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#photoeditorsdk-icon-add-text"})))},openWebcam:function(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},p.createElement("path",{fill:"currentColor",fillOpacity:"0.9",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M12 1c5.523 0 10 4.477 10 10a9.98 9.98 0 01-3.678 7.749c1.877.92 3.445 2.251 4.502 3.88l.176.283-1.743 1.02c-1.04-1.735-2.824-3.102-4.995-3.884A9.94 9.94 0 0112 21a9.962 9.962 0 01-4.255-.948c-2.076.748-3.797 2.033-4.852 3.661l-.147.237L1 22.935c1.053-1.766 2.694-3.204 4.684-4.183A9.975 9.975 0 012 11C2 5.477 6.477 1 12 1zm0 2a8 8 0 100 16 8 8 0 000-16zm0 5a5 5 0 110 10 5 5 0 010-10zm0 2a3 3 0 100 6 3 3 0 000-6zm1-4v1h-2V6h2z"}))},reset:function(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},p.createElement("path",{fill:"currentColor",fillOpacity:"0.9",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M16.23 10.885a2.292 2.292 0 00-2.285-2.286 2.292 2.292 0 00-2.286 2.286 2.292 2.292 0 002.286 2.286 2.292 2.292 0 002.286-2.286zM13.946.599C8.265.6 3.66 5.205 3.66 10.885H.231l4.571 4.571 4.572-4.571H5.945c0-4.423 3.577-8 8-8s8 3.577 8 8a7.994 7.994 0 01-12.64 6.514l-1.623 1.646a10.3 10.3 0 006.263 2.126c5.68 0 10.286-4.606 10.286-10.286S19.625.599 13.945.599z",transform:"rotate(56 11.298 10.261)"}))},shuffle:function(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},p.createElement("defs",null,p.createElement("path",{id:"photoeditorsdk-shuffle-icon",d:"M24 10v8a3 3 0 01-3 3H6v3l-6-4 6-4v3h15a1 1 0 001-1v-8h2zM18 0l6 4-6 4V5H3a1 1 0 00-1 1v8H0V6a3 3 0 013-3h15V0z"})),p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("mask",{fill:"currentColor"},p.createElement("use",{xlinkHref:"#photoeditorsdk-shuffle-icon"})),p.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-shuffle-icon"})))},uploadImage:function(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},p.createElement("defs",null,p.createElement("path",{id:"photoeditorsdk-upload-icon",d:"M4.143 17.286l-.001 3.142h15.715v-3.142H23v6.285H1v-6.285h3.143zM12 0l9.429 9.429-2.2 2.2L13.57 5.97v9.743H10.43V5.971L4.77 11.63l-2.2-2.2L12 0z"})),p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("mask",{fill:"currentColor"},p.createElement("use",{xlinkHref:"#photoeditorsdk-upload-icon"})),p.createElement("use",{fill:"currentColor",xlinkHref:"#photoeditorsdk-upload-icon"})))}},$g=function(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"25",height:"25",viewBox:"0 0 25 25"},p.createElement("defs",null,p.createElement("path",{id:"photoeditorsdk-undo-icon",d:"M4 10.065C4 4.506 8.365 0 13.75 0s9.75 4.506 9.75 10.065v9.29h-3v-9.29c0-3.849-3.022-6.968-6.75-6.968S7 6.217 7 10.065v7.741h3L5.5 24 1 17.806h3v-7.741z"})),p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("mask",{fill:"currentColor"},p.createElement("use",{xlinkHref:"#photoeditorsdk-undo-icon"})),p.createElement("use",{fill:"currentColor",transform:"rotate(90 12.25 12)",xlinkHref:"#photoeditorsdk-undo-icon"})))},Zg=function(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"25",height:"25",viewBox:"0 0 25 25"},p.createElement("defs",null,p.createElement("path",{id:"photoeditorsdk-redo-icon",d:"M4 10.065C4 4.506 8.365 0 13.75 0s9.75 4.506 9.75 10.065v9.29h-3v-9.29c0-3.849-3.022-6.968-6.75-6.968S7 6.217 7 10.065v7.741h3L5.5 24 1 17.806h3v-7.741z"})),p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("mask",{fill:"currentColor"},p.createElement("use",{xlinkHref:"#photoeditorsdk-redo-icon"})),p.createElement("use",{fill:"currentColor",transform:"matrix(0 1 1 0 .25 -.25)",xlinkHref:"#photoeditorsdk-redo-icon"})))},Jg=function(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},p.createElement("defs",null,p.createElement("path",{id:"photoeditorsdk-close-icon",d:"M21.583 0L24 2.416 14.416 12 24 21.584 21.583 24 12 14.416 2.417 24 0 21.584 9.584 12 0 2.416 2.417 0 12 9.584 21.583 0z"})),p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("mask",{fill:"currentColor"},p.createElement("use",{xlinkHref:"#photoeditorsdk-close-icon"})),p.createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#photoeditorsdk-close-icon"})))},Qg=function(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},p.createElement("defs",null,p.createElement("path",{id:"photoeditorsdk-export-icon",d:"M22 1.5a1.5 1.5 0 011.493 1.356L23.5 3H22h1.5v17a1.5 1.5 0 01-1.5 1.5H12a1.5 1.5 0 01-1.493-1.356L10.5 20v-6h2v5.499h9v-16h-9V9h-2V3A1.5 1.5 0 0112 1.5h10zM6.15 5.817L7.634 7.3l-3.171 3.171h13.978v2H4.47l3.171 3.17-1.483 1.483L.5 11.467l5.65-5.65z"})),p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("mask",{fill:"#fff"},p.createElement("use",{xlinkHref:"#photoeditorsdk-export-icon"})),p.createElement("use",{fill:"currentcolor",fillOpacity:"0.9",transform:"rotate(90 12 11.5)",xlinkHref:"#photoeditorsdk-export-icon"})))},ey={categories:(Cg={},Cg[xe.CommonCategory]=function(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48"},p.createElement("g",{fill:"none",fillOpacity:"0.9",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("g",{fill:"currentColor",transform:"translate(13 13)"},p.createElement("path",{d:"M22 3.701h-1.642V1.644l-2.06-.001V0h2.538c.421 0 .682.174.827.32.322.322.337.748.337.83v2.551z"}),p.createElement("path",{d:"M1.643 3.701H0V1.165C0 .743.174.482.32.336.64.016 1.06 0 1.147 0H3.701v1.643H1.644l-.001 2.058z"}),p.createElement("path",{d:"M13.7232174 1.5486087L17.4249565 1.5486087 17.4249565 0 13.7232174 0z"}),p.createElement("path",{d:"M9.15008696 1.5486087L12.8508696 1.5486087 12.8508696 0 9.15008696 0z"}),p.createElement("path",{d:"M4.57504348 1.5486087L8.27678261 1.5486087 8.27678261 0 4.57504348 0z"}),p.createElement("path",{d:"M0 8.27582609L1.5486087 8.27582609 1.5486087 4.57504348 0 4.57504348z"}),p.createElement("path",{d:"M20.4513913 8.27582609L22 8.27582609 22 4.57504348 20.4513913 4.57504348z"}),p.createElement("path",{d:"M0 12.8508696L1.5486087 12.8508696 1.5486087 9.14913043 0 9.14913043z"}),p.createElement("path",{d:"M0 17.4249565L1.5486087 17.4249565 1.5486087 13.7232174 0 13.7232174z"}),p.createElement("path",{d:"M20.4513913 12.8508696L22 12.8508696 22 9.14913043 20.4513913 9.14913043z"}),p.createElement("path",{d:"M20.4513913 17.4249565L22 17.4249565 22 13.7232174 20.4513913 13.7232174z"}),p.createElement("path",{d:"M3.702 22H1.165c-.421 0-.682-.174-.828-.32-.322-.322-.337-.748-.337-.83v-2.552h1.643v2.059h2.059V22z"}),p.createElement("path",{d:"M20.853 22h-2.554v-1.642h2.057l.001-2.06H22v2.538c0 .42-.174.682-.319.827-.32.32-.742.337-.828.337"}),p.createElement("path",{d:"M4.57504348 22L8.27678261 22 8.27678261 20.4513913 4.57504348 20.4513913z"}),p.createElement("path",{d:"M9.15008696 22L12.8508696 22 12.8508696 20.4513913 9.15008696 20.4513913z"}),p.createElement("path",{d:"M13.7232174 22L17.4249565 22 17.4249565 20.4513913 13.7232174 20.4513913z"}))))},Cg[xe.FacebookCategory]=function(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48"},p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("path",{fill:"currentColor",d:"M29.967 13.005L26.984 13c-3.35 0-5.516 2.222-5.516 5.66v2.61h-2.999c-.26 0-.469.21-.469.47v3.78c0 .26.21.47.469.47h2.999v9.541c0 .26.21.469.469.469h3.912c.26 0 .47-.21.47-.469V25.99h3.506c.259 0 .469-.21.469-.47l.001-3.78a.47.47 0 00-.469-.47h-3.508v-2.212c0-1.064.254-1.603 1.639-1.603l2.01-.001c.258 0 .468-.21.468-.47v-3.51a.47.47 0 00-.468-.47z"})))},Cg[xe.TwitterCategory]=function(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48"},p.createElement("g",{fill:"none",fillOpacity:"0.9",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("path",{fill:"currentColor",d:"M36 17.305c-.892.402-1.843.668-2.835.797a4.997 4.997 0 002.165-2.79 9.685 9.685 0 01-3.12 1.222 4.874 4.874 0 00-3.595-1.596c-2.723 0-4.916 2.267-4.916 5.047 0 .4.032.785.113 1.151-4.09-.205-7.71-2.215-10.141-5.278a5.18 5.18 0 00-.673 2.55c0 1.748.877 3.297 2.185 4.194a4.766 4.766 0 01-2.223-.621v.055c0 2.452 1.705 4.49 3.942 4.958-.4.113-.837.167-1.29.167-.315 0-.633-.019-.931-.087.637 1.999 2.446 3.468 4.597 3.516a9.73 9.73 0 01-6.1 2.152c-.404 0-.791-.018-1.178-.07a13.601 13.601 0 007.548 2.266c9.054 0 14.004-7.693 14.004-14.36 0-.224-.008-.439-.018-.653A9.958 9.958 0 0036 17.305z"})))},Cg[xe.InstagramCategory]=function(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48"},p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("g",{fill:"currentColor",transform:"translate(13 13)"},p.createElement("path",{d:"M15.125 0h-8.25A6.876 6.876 0 000 6.875v8.25A6.876 6.876 0 006.875 22h8.25A6.876 6.876 0 0022 15.125v-8.25A6.876 6.876 0 0015.125 0zm4.813 15.125a4.818 4.818 0 01-4.813 4.813h-8.25a4.818 4.818 0 01-4.813-4.813v-8.25a4.818 4.818 0 014.813-4.813h8.25a4.818 4.818 0 014.813 4.813v8.25z"}),p.createElement("path",{d:"M11 5.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zm0 8.938A3.442 3.442 0 017.562 11 3.441 3.441 0 0111 7.562 3.441 3.441 0 0114.438 11 3.442 3.442 0 0111 14.438z"}),p.createElement("circle",{cx:"16.913",cy:"5.088",r:"1"}))))},Cg),crops:(Tg={},Tg[xe.Custom]=function(e){var t=e.highlight,n=void 0===t?"#565656":t,r=e.width,i=void 0===r?32:r,o=e.height,a=void 0===o?32:o;return p.createElement(Xg,{width:i,height:a,viewBox:"0 0 32 32"},p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("g",{fill:n,transform:"translate(-8 -8)"},p.createElement("g",{transform:"translate(8 8)"},p.createElement("g",null,p.createElement("path",{d:"M.941 31.992h2.824v-.94L.941 31.05v-2.822h-.94v2.846s-.004.918.94.918"}),p.createElement("path",{d:"M31.974 31.051v-2.823h-.942v2.823h-2.823v.941h2.846s.919.003.919-.94"}),p.createElement("path",{d:"M4.62305882 31.9926588L8.38776471 31.9926588 8.38776471 31.0514824 4.62305882 31.0514824z"}),p.createElement("path",{d:"M9.32894118 31.9926588L13.0936471 31.9926588 13.0936471 31.0514824 9.32894118 31.0514824z"}),p.createElement("path",{d:"M14.0348235 31.9926588L17.7995294 31.9926588 17.7995294 31.0514824 14.0348235 31.0514824z"}),p.createElement("path",{d:"M18.7407059 31.9926588L22.5054118 31.9926588 22.5054118 31.0514824 18.7407059 31.0514824z"}),p.createElement("path",{d:"M23.4465882 31.9926588L27.2112941 31.9926588 27.2112941 31.0514824 23.4465882 31.0514824z"}),p.createElement("path",{d:"M0 .94v2.824h.941L.942.941h2.823V0H.919S0-.002 0 .94"}),p.createElement("path",{d:"M31.032 0H28.21v.94l2.823.002v2.822h.942V.92s.002-.92-.942-.92"}),p.createElement("path",{d:"M4.62305882 0.940423529L8.38776471 0.940423529 8.38776471 -0.000752941176 4.62305882 -0.000752941176z"}),p.createElement("path",{d:"M9.32894118 0.940423529L13.0936471 0.940423529 13.0936471 -0.000752941176 9.32894118 -0.000752941176z"}),p.createElement("path",{d:"M14.0348235 0.940423529L17.7995294 0.940423529 17.7995294 -0.000752941176 14.0348235 -0.000752941176z"}),p.createElement("path",{d:"M18.7407059 0.940423529L22.5054118 0.940423529 22.5054118 -0.000752941176 18.7407059 -0.000752941176z"}),p.createElement("path",{d:"M23.4465882 0.940423529L27.2112941 0.940423529 27.2112941 -0.000752941176 23.4465882 -0.000752941176z"}),p.createElement("path",{d:"M0 8.46324706L0.941176471 8.46324706 0.941176471 4.69854118 0 4.69854118z"}),p.createElement("path",{d:"M0 13.1691294L0.941176471 13.1691294 0.941176471 9.40442353 0 9.40442353z"}),p.createElement("path",{d:"M0 17.8750118L0.941176471 17.8750118 0.941176471 14.1103059 0 14.1103059z"}),p.createElement("path",{d:"M0 22.5808941L0.941176471 22.5808941 0.941176471 18.8161882 0 18.8161882z"}),p.createElement("path",{d:"M0 27.2867765L0.941176471 27.2867765 0.941176471 23.5220706 0 23.5220706z"}),p.createElement("path",{d:"M30.976 8.46324706L31.9171765 8.46324706 31.9171765 4.69854118 30.976 4.69854118z"}),p.createElement("path",{d:"M30.976 13.1691294L31.9171765 13.1691294 31.9171765 9.40442353 30.976 9.40442353z"}),p.createElement("path",{d:"M30.976 17.8750118L31.9171765 17.8750118 31.9171765 14.1103059 30.976 14.1103059z"}),p.createElement("path",{d:"M30.976 22.5808941L31.9171765 22.5808941 31.9171765 18.8161882 30.976 18.8161882z"}),p.createElement("path",{d:"M30.976 27.2867765L31.9171765 27.2867765 31.9171765 23.5220706 30.976 23.5220706z"}))))))},Tg[xe.Square]=function(e){var t=e.highlight,n=void 0===t?"#565656":t,r=e.mask,i=void 0===r?"#fff":r,o=e.width,a=void 0===o?32:o,s=e.height,l=void 0===s?32:s;return p.createElement(Xg,{width:a,height:l,viewBox:"0 0 32 32"},p.createElement("defs",null,p.createElement("rect",{id:"photoeditorsdk-square-icon",width:"32",height:"32",x:"0.92",y:"0.707",rx:"1"})),p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("g",{transform:"translate(-8 -8)"},p.createElement("g",{transform:"translate(7.08 7.293)"},p.createElement("mask",{fill:i},p.createElement("use",{xlinkHref:"#photoeditorsdk-square-icon"})),p.createElement("use",{fill:n,xlinkHref:"#photoeditorsdk-square-icon"})))))},Tg[xe.ThreeByFour]=function(e){var t=e.highlight,n=void 0===t?"#565656":t,r=e.width,i=void 0===r?32:r,o=e.height,a=void 0===o?42:o;return p.createElement(Xg,{width:i,height:a,viewBox:"0 0 32 42"},p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("g",{fill:n,transform:"translate(-8 -3)"},p.createElement("rect",{width:"42",height:"32",x:"3",y:"8",rx:"0.5",transform:"rotate(90 24 24)"}))))},Tg[xe.FourByThree]=function(e){var t=e.highlight,n=void 0===t?"#565656":t,r=e.width,i=void 0===r?32:r,o=e.height,a=void 0===o?48:o;return p.createElement(Xg,{width:i,height:a,viewBox:"0 0 42 32"},p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("g",{fill:n,transform:"translate(-3 -8)"},p.createElement("rect",{width:"42",height:"32",x:"3",y:"8",rx:"0.5"}))))},Tg[xe.NineBySixteen]=function(e){var t=e.highlight,n=void 0===t?"#565656":t,r=e.width,i=void 0===r?26:r,o=e.height,a=void 0===o?46:o;return p.createElement(Xg,{width:i,height:a,viewBox:"0 0 26 46"},p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("g",{fill:n,transform:"translate(-11 -1)"},p.createElement("path",{d:"M1 11.496A.5.5 0 011.5 11h45a.5.5 0 01.5.496v25.008a.5.5 0 01-.5.496h-45a.5.5 0 01-.5-.496V11.496z",transform:"rotate(90 24 24)"}))))},Tg[xe.SixteenByNine]=function(e){var t=e.highlight,n=void 0===t?"#565656":t,r=e.width,i=void 0===r?26:r,o=e.height,a=void 0===o?46:o;return p.createElement(Xg,{width:i,height:a,viewBox:"0 0 26 46"},p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("g",{fill:n,transform:"translate(-11 -1)"},p.createElement("path",{d:"M1 11.496A.5.5 0 011.5 11h45a.5.5 0 01.5.496v25.008a.5.5 0 01-.5.496h-45a.5.5 0 01-.5-.496V11.496z"}))))},Tg[xe.FacebookPost]=function(e){var t=e.main,n=void 0===t?"#424242":t,r=e.highlight,i=void 0===r?"#565656":r,o=e.width,a=void 0===o?"48px":o,s=e.height,l=void 0===s?"48px":s;return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:l,viewBox:"0 0 48 48"},p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("rect",{width:"28",height:"3",x:"12",y:"41",fill:n,rx:"0.5",transform:"matrix(-1 0 0 1 52 0)"}),p.createElement("rect",{width:"34",height:"28",x:"7",y:"8",fill:i,rx:"0.5",transform:"matrix(1 0 0 -1 0 44)"}),p.createElement("rect",{width:"3",height:"3",x:"8",y:"41",fill:n,rx:"0.5",transform:"matrix(-1 0 0 1 19 0)"}),p.createElement("rect",{width:"28",height:"3",x:"12",y:"37",fill:n,rx:"0.5",transform:"matrix(-1 0 0 1 52 0)"}),p.createElement("rect",{width:"28",height:"3",x:"12",y:"4",fill:n,rx:"0.5",transform:"matrix(1 0 0 -1 0 11)"}),p.createElement("rect",{width:"3",height:"3",x:"8",y:"37",fill:n,rx:"0.5",transform:"matrix(-1 0 0 1 19 0)"}),p.createElement("rect",{width:"3",height:"3",x:"8",y:"4",fill:n,rx:"0.5",transform:"matrix(1 0 0 -1 0 11)"})))},Tg[xe.FacebookProfile]=function(e){var t=e.main,n=void 0===t?"#424242":t,r=e.highlight,i=void 0===r?"#565656":r,o=e.width,a=void 0===o?"48px":o,s=e.height,l=void 0===s?"48px":s;return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:l,viewBox:"0 0 48 48"},p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("g",null,p.createElement("path",{fill:n,d:"M42 5a1 1 0 011 1v13a1 1 0 01-1 1H6a1 1 0 01-1-1V6a1 1 0 011-1h36zM21.505 18h-2.01a.494.494 0 00-.495.5c0 .268.222.5.495.5h2.01c.28 0 .495-.224.495-.5l-.008-.088a.503.503 0 00-.487-.412zm8.004 0h-5.018a.5.5 0 000 1h5.018a.5.5 0 00.491-.5l-.008-.088A.5.5 0 0029.51 18z"}),p.createElement("rect",{width:"22",height:"11",x:"20",y:"29",fill:n,rx:"1"}),p.createElement("rect",{width:"13",height:"10",x:"6",y:"23",fill:n,rx:"1"}),p.createElement("rect",{width:"22",height:"5",x:"20",y:"23",fill:n,rx:"1"}),p.createElement("rect",{width:"7",height:"7",x:"9",y:"14",fill:i,rx:"1"}),p.createElement("rect",{width:"13",height:"9",x:"6",y:"34",fill:n,rx:"1"}))))},Tg[xe.FacebookTitle]=function(e){var t=e.main,n=void 0===t?"#424242":t,r=e.highlight,i=void 0===r?"#565656":r,o=e.width,a=void 0===o?"48px":o,s=e.height,l=void 0===s?"48px":s;return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:l,viewBox:"0 0 48 48"},p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("g",{transform:"translate(5 5)"},p.createElement("path",{fill:i,d:"M37 0a1 1 0 011 1v13a1 1 0 01-1 1H1a1 1 0 01-1-1V1a1 1 0 011-1h36zM16.505 13h-2.01a.494.494 0 00-.495.5c0 .268.222.5.495.5h2.01c.28 0 .495-.224.495-.5l-.008-.088a.503.503 0 00-.487-.412zm8.004 0h-5.018a.5.5 0 000 1h5.018a.5.5 0 00.491-.5l-.008-.088A.5.5 0 0024.51 13z"}),p.createElement("rect",{width:"22",height:"11",x:"15",y:"24",fill:n,rx:"1"}),p.createElement("rect",{width:"13",height:"10",x:"1",y:"18",fill:n,rx:"1"}),p.createElement("rect",{width:"22",height:"5",x:"15",y:"18",fill:n,rx:"1"}),p.createElement("rect",{width:"7",height:"7",x:"4",y:"9",fill:n,rx:"1"}),p.createElement("rect",{width:"13",height:"9",x:"1",y:"29",fill:n,rx:"1"}))))},Tg[xe.InstagramLandscape]=function(e){var t=e.main,n=void 0===t?"#424242":t,r=e.highlight,i=void 0===r?"#565656":r,o=e.width,a=void 0===o?"48px":o,s=e.height,l=void 0===s?"48px":s;return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:l,viewBox:"0 0 48 48"},p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("rect",{width:"26",height:"7",x:"7",y:"18",fill:n,rx:"1"}),p.createElement("rect",{width:"9",height:"7",x:"34",y:"11",fill:n,rx:"1"}),p.createElement("rect",{width:"9",height:"8",x:"34",y:"19",fill:n,rx:"1"}),p.createElement("rect",{width:"3",height:"3",x:"40",y:"6",fill:n,rx:"1"}),p.createElement("rect",{width:"26",height:"21",x:"7",y:"27",fill:n,rx:"1"}),p.createElement("rect",{width:"26",height:"16",x:"7",y:"5",fill:i,rx:"1"})))},Tg[xe.InstagramPortrait]=function(e){var t=e.main,n=void 0===t?"#424242":t,r=e.highlight,i=void 0===r?"#565656":r,o=e.width,a=void 0===o?"48px":o,s=e.height,l=void 0===s?"48px":s;return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:l,viewBox:"0 0 48 48"},p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("rect",{width:"26",height:"7",x:"7",y:"34",fill:n,rx:"1"}),p.createElement("rect",{width:"26",height:"32",x:"7",y:"5",fill:i,rx:"1"}),p.createElement("rect",{width:"9",height:"7",x:"34",y:"11",fill:n,rx:"1"}),p.createElement("rect",{width:"9",height:"8",x:"34",y:"19",fill:n,rx:"1"}),p.createElement("rect",{width:"3",height:"3",x:"40",y:"6",fill:n,rx:"1"}),p.createElement("rect",{width:"26",height:"5",x:"7",y:"43",fill:n,rx:"1"})))},Tg[xe.InstagramSquare]=function(e){var t=e.main,n=void 0===t?"#424242":t,r=e.highlight,i=void 0===r?"#565656":r,o=e.width,a=void 0===o?"48px":o,s=e.height,l=void 0===s?"48px":s;return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:l,viewBox:"0 0 48 48"},p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("rect",{width:"26",height:"7",x:"7",y:"28",fill:n,rx:"1"}),p.createElement("rect",{width:"26",height:"26",x:"7",y:"5",fill:i,rx:"1"}),p.createElement("rect",{width:"9",height:"7",x:"34",y:"11",fill:n,rx:"1"}),p.createElement("rect",{width:"9",height:"8",x:"34",y:"19",fill:n,rx:"1"}),p.createElement("rect",{width:"3",height:"3",x:"40",y:"6",fill:n,rx:"1"}),p.createElement("rect",{width:"26",height:"11",x:"7",y:"37",fill:n,rx:"1"})))},Tg[xe.InstagramStory]=function(e){var t=e.main,n=void 0===t?"#424242":t,r=e.highlight,i=void 0===r?"#565656":r,o=e.width,a=void 0===o?"48px":o,s=e.height,l=void 0===s?"48px":s;return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:l,viewBox:"0 0 48 48"},p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("rect",{width:"20",height:"34",x:"14",y:"10",fill:i,rx:"1.5"}),p.createElement("rect",{width:"3",height:"3",x:"14",y:"5",fill:n,rx:"1"})))},Tg[xe.TwitterPost]=function(e){var t=e.main,n=void 0===t?"#424242":t,r=e.highlight,i=void 0===r?"#565656":r,o=e.shadow,a=void 0===o?"#333333":o,s=e.width,l=void 0===s?"48px":s,c=e.height,u=void 0===c?"48px":c;return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:l,height:u,viewBox:"0 0 48 48"},p.createElement("defs",null,p.createElement("filter",{id:"photoeditorsdk-twitter-post-icon",width:"166.7%",height:"166.7%",x:"-33.3%",y:"-33.3%",filterUnits:"objectBoundingBox"},p.createElement("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"1"}))),p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("rect",{width:"38",height:"15",x:"5",y:"5",fill:n,rx:"0.5"}),p.createElement("rect",{width:"11",height:"1",x:"5",y:"24",fill:n,rx:"0.5"}),p.createElement("rect",{width:"11",height:"1",x:"5",y:"26",fill:n,rx:"0.5"}),p.createElement("rect",{width:"11",height:"1",x:"5",y:"28",fill:n,rx:"0.5"}),p.createElement("rect",{width:"26",height:"13",x:"17",y:"24",fill:i,rx:"0.5"}),p.createElement("rect",{width:"26",height:"3",x:"17",y:"38",fill:n,rx:"0.5"}),p.createElement("rect",{width:"26",height:"3",x:"17",y:"42",fill:n,rx:"0.5"}),p.createElement("rect",{width:"9",height:"9",x:"8",y:"13",fill:a,filter:"url(#photoeditorsdk-twitter-post-icon)",rx:"1"}),p.createElement("rect",{width:"7",height:"7",x:"9",y:"14",fill:n,rx:"1"})))},Tg[xe.TwitterProfile]=function(e){var t=e.main,n=void 0===t?"#424242":t,r=e.highlight,i=void 0===r?"#565656":r,o=e.width,a=void 0===o?"48px":o,s=e.height,l=void 0===s?"48px":s;return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:l,viewBox:"0 0 48 48"},p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("rect",{width:"38",height:"15",x:"5",y:"5",fill:n,rx:"0.5"}),p.createElement("rect",{width:"11",height:"1",x:"5",y:"24",fill:n,rx:"0.5"}),p.createElement("rect",{width:"11",height:"1",x:"5",y:"26",fill:n,rx:"0.5"}),p.createElement("rect",{width:"11",height:"1",x:"5",y:"28",fill:n,rx:"0.5"}),p.createElement("rect",{width:"26",height:"13",x:"17",y:"24",fill:n,rx:"0.5"}),p.createElement("rect",{width:"26",height:"3",x:"17",y:"38",fill:n,rx:"0.5"}),p.createElement("rect",{width:"26",height:"3",x:"17",y:"42",fill:n,rx:"0.5"}),p.createElement("rect",{width:"7",height:"7",x:"9",y:"14",fill:i,rx:"1"})))},Tg[xe.TwitterTitle]=function(e){var t=e.main,n=void 0===t?"#424242":t,r=e.highlight,i=void 0===r?"#565656":r,o=e.width,a=void 0===o?"48px":o,s=e.height,l=void 0===s?"48px":s;return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:l,viewBox:"0 0 48 48"},p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("rect",{width:"38",height:"15",x:"5",y:"5",fill:i,rx:"0.5"}),p.createElement("rect",{width:"11",height:"1",x:"5",y:"24",fill:n,rx:"0.5"}),p.createElement("rect",{width:"11",height:"1",x:"5",y:"26",fill:n,rx:"0.5"}),p.createElement("rect",{width:"11",height:"1",x:"5",y:"28",fill:n,rx:"0.5"}),p.createElement("rect",{width:"26",height:"13",x:"17",y:"24",fill:n,rx:"0.5"}),p.createElement("rect",{width:"26",height:"3",x:"17",y:"38",fill:n,rx:"0.5"}),p.createElement("rect",{width:"26",height:"3",x:"17",y:"42",fill:n,rx:"0.5"}),p.createElement("rect",{width:"7",height:"7",x:"9",y:"14",fill:n,rx:"1"})))},Tg),dots:Sg,duplicate:function(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},p.createElement("defs",null,p.createElement("path",{id:"photoeditorsdk-duplicate-icon",d:"M3.429 8.571v12h12v-12h-12zM1.714 5.143h15.429c.947 0 1.714.767 1.714 1.714v15.429c0 .946-.767 1.714-1.714 1.714H1.714A1.714 1.714 0 010 22.286V6.857c0-.947.768-1.714 1.714-1.714zM22.286 0C23.232 0 24 .768 24 1.714v15.429c0 .947-.768 1.714-1.714 1.714H20.57V3.429L5.142 3.428V1.714C5.143.768 5.91 0 6.858 0h15.429z"})),p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("mask",{fill:"currentColor"},p.createElement("use",{xlinkHref:"#photoeditorsdk-duplicate-icon"})),p.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-duplicate-icon"})))},edit:function(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},p.createElement("path",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M2.087 7.115h7.66v15.32h5.027l.223-15.32h7.438V2.087H2.087v5.028zM14.075 24h-4.15a2.42 2.42 0 01-1.718-.711 2.423 2.423 0 01-.711-1.717V9.01H2.429c-.67 0-1.278-.273-1.718-.713A2.426 2.426 0 010 6.579V2.43C0 1.76.272 1.153.711.713A2.424 2.424 0 012.43 0h19.142c.671 0 1.278.272 1.718.713.439.44.711 1.047.711 1.718v4.148c0 .671-.272 1.278-.711 1.718-.44.44-1.047.713-1.718.713h-5.067v12.562c0 .67-.272 1.278-.711 1.717a2.42 2.42 0 01-1.718.711z"}))},bringToFront:function(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},p.createElement("defs",null,p.createElement("path",{id:"photoeditorsdk-bring-to-front-icon",d:"M21 16a2 2 0 012 2v4a2 2 0 01-2 2H3a2 2 0 01-2-2v-4a2 2 0 012-2h18zM12.006 1l5.996 5.996-1.414 1.414-3.578-3.577V12h-2.008V4.833L7.418 8.417 6.004 7.003 12.006 1z"})),p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("path",{d:"M0 0H24V24H0z"}),p.createElement("mask",{fill:"currentColor"},p.createElement("use",{xlinkHref:"#photoeditorsdk-bring-to-front-icon"})),p.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-bring-to-front-icon"})))},delete:function(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},p.createElement("defs",null,p.createElement("path",{id:"photoeditorsdk-delete-icon",d:"M20 6l-2.312 15.718A1.5 1.5 0 0116.204 23H5.796a1.5 1.5 0 01-1.484-1.282L2 6h18zM7 1a1 1 0 011-1h6a1 1 0 011 1v1h7v2H0V2h7V1z"})),p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("mask",{fill:"currentColor"},p.createElement("use",{xlinkHref:"#photoeditorsdk-delete-icon"})),p.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-delete-icon"})))},flipHorizontal:function(e){var t=e.className;return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 15 14",transform:"scale(-1, 1)",className:t},p.createElement("title",null,"Flip Horizontal"),p.createElement("defs",null,p.createElement("path",{id:"photoeditorsdk-flip-horizontal-icon",d:"M42 1v14h-1.167v-1.167H37a2 2 0 01-2-2V4.167a2 2 0 012-2l3.833-.001V1H42zm5.833 11.958a.875.875 0 01-.875.875h-3.791v-1.166l3.499-.001V3.333h-3.5V2.167h3.792c.446 0 .815.333.869.765l.006.11v9.916z"})),p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",transform:"translate(-34 -1)"},p.createElement("mask",{fill:"none"},p.createElement("use",{xlinkHref:"#photoeditorsdk-flip-horizontal-icon"})),p.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-flip-horizontal-icon"})))},flipVertical:function(e){var t=e.className;return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 15 14",className:t},p.createElement("title",null,"Flip Vertical"),p.createElement("defs",null,p.createElement("path",{id:"photoeditorsdk-flip-vertical-icon",d:"M42 1v14h-1.167v-1.167H37a2 2 0 01-2-2V4.167a2 2 0 012-2l3.833-.001V1H42zm5.833 11.958a.875.875 0 01-.875.875h-3.791v-1.166l3.499-.001V3.333h-3.5V2.167h3.792c.446 0 .815.333.869.765l.006.11v9.916z"})),p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",transform:"translate(-34 -1)"},p.createElement("mask",{fill:"none"},p.createElement("use",{xlinkHref:"#photoeditorsdk-flip-vertical-icon"})),p.createElement("use",{fill:"currentColor",fillOpacity:"0.9",transform:"rotate(-90 41.417 8)",xlinkHref:"#photoeditorsdk-flip-vertical-icon"})))},rotate:Eg},ty=((Og={})[Q.BRIGHTNESS]=function(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},p.createElement("defs",null,p.createElement("path",{id:"photoeditorsdk-brightness-icon",d:"M22.185 33.836c.594.109 1.2.164 1.815.164v2c-.735 0-1.462-.066-2.175-.197zm5.58-.568l.753 1.852c-.675.275-1.375.487-2.093.635l-.402-1.96c.597-.122 1.18-.299 1.741-.527zm-9.446-1.037c.5.346 1.03.646 1.586.895l-.82 1.824c-.666-.3-1.303-.66-1.903-1.074zm12.884-1.295l1.44 1.388a12.06 12.06 0 01-1.65 1.429l-1.167-1.625a10.06 10.06 0 001.377-1.192zm-15.758-1.754c.316.52.679 1.01 1.083 1.464l-1.493 1.33a12.038 12.038 0 01-1.3-1.756zm17.97-1.802l1.882.676a11.948 11.948 0 01-.925 1.982l-1.727-1.008a9.948 9.948 0 00.77-1.65zM24 18c.091 0 .182.002.273.006L24 18a6.071 6.071 0 01.668.037l.192.024a5.974 5.974 0 011.847.585l.01.005a5.992 5.992 0 011.154.768A5.99 5.99 0 0130 24c0 3.309-2.691 6-6 6a5.985 5.985 0 01-4.404-1.929l.163.17a6.052 6.052 0 01-1.353-2.07A5.951 5.951 0 0118 24c0-3.309 2.691-6 6-6zm2.827 3.173l-5.654 5.654A3.988 3.988 0 0024 28c2.206 0 4-1.794 4-4a3.988 3.988 0 00-1.173-2.827zM14.08 25.268c.076.606.208 1.2.392 1.777l-1.905.608a11.936 11.936 0 01-.472-2.134zm21.885-2.192a12.16 12.16 0 01-.032 2.198l-1.989-.21a10.193 10.193 0 00.027-1.836zM12.522 20.49l1.912.584a9.943 9.943 0 00-.37 1.783l-1.987-.226c.083-.73.232-1.445.445-2.14zm22.059-2.155c.345.643.63 1.316.853 2.013l-1.905.608a9.934 9.934 0 00-.71-1.676zm-19.587-2.266l1.5 1.323c-.402.456-.762.948-1.075 1.47l-1.715-1.03c.376-.625.808-1.215 1.29-1.763zm16.272-1.62c.58.442 1.12.936 1.61 1.476l-1.479 1.346c-.41-.45-.859-.862-1.343-1.23zm-12.241-1.372l.83 1.82a9.986 9.986 0 00-1.58.903l-1.147-1.638a11.986 11.986 0 011.897-1.085zm7.7-.766c.714.166 1.408.396 2.076.688L28 14.832a9.916 9.916 0 00-1.727-.573zm-2.857-.31l.021 2c-.613.006-1.22.068-1.812.184l-.383-1.964a12.046 12.046 0 012.174-.22z"})),p.createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("mask",null,p.createElement("use",{xlinkHref:"#photoeditorsdk-brightness-icon"})),p.createElement("use",{fillOpacity:"0.9",transform:"rotate(-45 24.039 24)",xlinkHref:"#photoeditorsdk-brightness-icon"})))},Og[Q.CONTRAST]=function(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},p.createElement("defs",null,p.createElement("path",{id:"photoeditorsdk-contrast-icon",d:"M24 34V14c5.51 0 10 4.49 10 10s-4.49 10-10 10m0-22c-6.62 0-12 5.38-12 12s5.38 12 12 12 12-5.38 12-12-5.38-12-12-12"})),p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("path",{d:"M0 0H48V48H0z"}),p.createElement("mask",{fill:"currentColor"},p.createElement("use",{xlinkHref:"#photoeditorsdk-contrast-icon"})),p.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-contrast-icon"})))},Og[Q.SATURATION]=function(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},p.createElement("defs",null,p.createElement("path",{id:"photoeditorsdk-saturation-icon",d:"M17 31c1.334 1.099 2 2.177 2 3.234 0 .797-.454 1.39-1.211 1.655-.165.057-.428.094-.789.111l-.172-.01a2.54 2.54 0 01-.617-.101C15.454 35.624 15 35.03 15 34.234c0-1.057.666-2.135 2-3.234zm8.7-6l-4.24 4H17v-3.81l.2-.19h8.5zm-.7-7.59l4.24 4.25L26.76 24h-8.54L25 17.41zm7.778-3.532a3 3 0 01.135 4.1l-.135.143-1.414 1.414 1.414 1.415-1.414 1.414-7.07-7.071 1.413-1.414 1.414 1.413 1.414-1.414a3.001 3.001 0 014.243 0z"})),p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("path",{d:"M0 0H48V48H0z"}),p.createElement("mask",{fill:"currentColor"},p.createElement("use",{xlinkHref:"#photoeditorsdk-saturation-icon"})),p.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-saturation-icon"})))},Og[Q.CLARITY]=function(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},p.createElement("defs",null,p.createElement("path",{id:"photoeditorsdk-clarity-icon",d:"M24 12L13 24.001 24 36l11-11.999L24 12zm-8.29 12.001H21l3-9.041 8.29 9.041-8.28 9.029L28 24.001h-7l2.99 9.029-8.28-9.029z"})),p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("path",{d:"M0 0H48V48H0z"}),p.createElement("mask",{fill:"currentColor"},p.createElement("use",{xlinkHref:"#photoeditorsdk-clarity-icon"})),p.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-clarity-icon"})))},Og[Q.SHADOWS]=function(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},p.createElement("defs",null,p.createElement("path",{id:"photoeditorsdk-shadows-icon",d:"M30.365 17.637l3.076 3.076c.382 1.09.566 2.234.56 3.387l-5.05-5.049-1.414 1.414 6.123 6.124a9.674 9.674 0 01-.792 2.036l-6.746-6.745-1.414 1.414 7.036 7.036c-.212.254-.43.502-.672.742-.24.24-.488.46-.742.672l-7.036-7.036-1.414 1.414 6.745 6.746a9.674 9.674 0 01-2.036.792l-6.124-6.123-1.414 1.414L24.101 34a10.012 10.012 0 01-3.388-.558l-3.076-3.076-.707.707c-3.896-3.896-3.896-10.246 0-14.142 3.896-3.896 10.246-3.896 14.142 0l-.707.707zm-14.849-2.12c-4.688 4.687-4.688 12.281 0 16.97a12.036 12.036 0 004.108 2.693c.064.022.127.057.191.078 4.264 1.577 9.242.658 12.671-2.772 3.43-3.429 4.35-8.407 2.772-12.67-.02-.065-.056-.128-.078-.192a12.036 12.036 0 00-2.694-4.108c-4.688-4.688-12.282-4.688-16.97 0z"})),p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("path",{d:"M0 0H48V48H0z"}),p.createElement("mask",{fill:"currentColor"},p.createElement("use",{xlinkHref:"#photoeditorsdk-shadows-icon"})),p.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-shadows-icon"})))},Og[Q.HIGHLIGHTS]=function(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},p.createElement("defs",null,p.createElement("path",{id:"photoeditorsdk-highlights-icon",d:"M31.07 31.07A9.932 9.932 0 0124 34c-2.67 0-5.18-1.04-7.07-2.93l14.14-14.14c3.9 3.9 3.9 10.24 0 14.14m1.42-15.56A11.995 11.995 0 0024 12c-3.07 0-6.14 1.17-8.49 3.51-4.68 4.69-4.68 12.29 0 16.98C17.86 34.83 20.93 36 24 36c3.07 0 6.14-1.17 8.49-3.51 4.68-4.69 4.68-12.29 0-16.98"})),p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("path",{d:"M0 0H48V48H0z"}),p.createElement("mask",{fill:"currentColor"},p.createElement("use",{xlinkHref:"#photoeditorsdk-highlights-icon"})),p.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-highlights-icon"})))},Og[Q.EXPOSURE]=function(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},p.createElement("defs",null,p.createElement("path",{id:"photoeditorsdk-exposure-icon",d:"M24 34V14c5.51 0 10 4.49 10 10s-4.49 10-10 10m0-22c6.62 0 12 5.38 12 12s-5.38 12-12 12-12-5.38-12-12 5.38-12 12-12zm-3.536 8.464l-2.121 2.122-2.121-2.122-1.414 1.415L16.929 24l-2.121 2.121 1.414 1.415 2.121-2.122 2.121 2.122 1.415-1.415L19.757 24l2.122-2.121-1.415-1.415zm5.304 4.597l4.242-4.243 1.415 1.414-4.243 4.243-1.414-1.414z"})),p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("path",{d:"M0 0H48V48H0z"}),p.createElement("mask",{fill:"currentColor"},p.createElement("use",{xlinkHref:"#photoeditorsdk-exposure-icon"})),p.createElement("use",{fill:"currentColor",fillOpacity:"0.9",transform:"rotate(45 24 24)",xlinkHref:"#photoeditorsdk-exposure-icon"})))},Og[Q.GAMMA]=function(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},p.createElement("defs",null,p.createElement("path",{id:"photoeditorsdk-gamma-icon",d:"M22.185 33.836c.594.109 1.2.164 1.815.164v2c-.735 0-1.462-.066-2.175-.197zm5.58-.568l.753 1.852c-.675.275-1.375.487-2.093.635l-.402-1.96c.597-.122 1.18-.299 1.741-.527zm-9.446-1.037c.5.346 1.03.646 1.586.895l-.82 1.824c-.666-.3-1.303-.66-1.903-1.074zm12.884-1.295l1.44 1.388a12.06 12.06 0 01-1.65 1.429l-1.167-1.625a10.06 10.06 0 001.377-1.192zm-15.758-1.754c.316.52.679 1.01 1.083 1.464l-1.493 1.33a12.038 12.038 0 01-1.3-1.756zm17.97-1.802l1.882.676a11.948 11.948 0 01-.925 1.982l-1.727-1.008a9.948 9.948 0 00.77-1.65zM24 18c.091 0 .182.002.273.006L24 18a6.071 6.071 0 01.668.037l.192.024a5.974 5.974 0 011.847.585l.01.005a5.992 5.992 0 011.154.768A5.99 5.99 0 0130 24c0 3.309-2.691 6-6 6a5.985 5.985 0 01-4.404-1.929l.163.17a6.052 6.052 0 01-1.353-2.07A5.951 5.951 0 0118 24c0-3.309 2.691-6 6-6zm2.827 3.173l-5.654 5.654A3.988 3.988 0 0024 28c2.206 0 4-1.794 4-4a3.988 3.988 0 00-1.173-2.827zM14.08 25.268c.076.606.208 1.2.392 1.777l-1.905.608a11.936 11.936 0 01-.472-2.134zm21.885-2.192a12.16 12.16 0 01-.032 2.198l-1.989-.21a10.193 10.193 0 00.027-1.836zM12.522 20.49l1.912.584a9.943 9.943 0 00-.37 1.783l-1.987-.226c.083-.73.232-1.445.445-2.14zm22.059-2.155c.345.643.63 1.316.853 2.013l-1.905.608a9.934 9.934 0 00-.71-1.676zm-19.587-2.266l1.5 1.323c-.402.456-.762.948-1.075 1.47l-1.715-1.03c.376-.625.808-1.215 1.29-1.763zm16.272-1.62c.58.442 1.12.936 1.61 1.476l-1.479 1.346c-.41-.45-.859-.862-1.343-1.23zm-12.241-1.372l.83 1.82a9.986 9.986 0 00-1.58.903l-1.147-1.638a11.986 11.986 0 011.897-1.085zm7.7-.766c.714.166 1.408.396 2.076.688L28 14.832a9.916 9.916 0 00-1.727-.573zm-2.857-.31l.021 2c-.613.006-1.22.068-1.812.184l-.383-1.964a12.046 12.046 0 012.174-.22z"})),p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("path",{d:"M0 0H48V48H0z"}),p.createElement("mask",{fill:"#fff"},p.createElement("use",{xlinkHref:"#photoeditorsdk-gamma-icon"})),p.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-gamma-icon"})))},Og[Q.BLACKS]=function(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},p.createElement("defs",null,p.createElement("path",{id:"photoeditorsdk-blacks-icon",d:"M24 12c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12m0 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10m4 12c0 2.788-2.326 3.879-7 3V18.5c4.148-.459 6.516.226 6.516 2.623 0 1.207-.492 1.998-1.512 2.474C27.504 23.999 28 24.619 28 26zm-5-6v3c2.244.068 2.775-.719 2.775-1.536 0-1.22-.531-1.812-2.775-1.464zm0 7.5c2.19.193 3.038-.04 3.038-1.484 0-1.37-1.096-1.695-3.038-1.516v3z"})),p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("path",{d:"M0 0H48V48H0z"}),p.createElement("mask",{fill:"currentColor"},p.createElement("use",{xlinkHref:"#photoeditorsdk-blacks-icon"})),p.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-blacks-icon"})))},Og[Q.WHITES]=function(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},p.createElement("defs",null,p.createElement("path",{id:"photoeditorsdk-whites-icon",d:"M24 12c6.627 0 12 5.373 12 12s-5.373 12-12 12-12-5.373-12-12 5.373-12 12-12zm-2 6.46h-2c.221 4.539.762 9.051 1 11.04h1.5l1.5-5.52 1.5 5.52H27c.238-1.989.779-6.501 1-11.04h-2c-.051 1.071-.432 7.446-.5 7.973-.459-1.717-.541-3.111-1-4.811h-1c-.442 1.7-.541 2.975-1 4.811-.051-.527-.466-6.902-.5-7.973z"})),p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("path",{d:"M0 0H48V48H0z"}),p.createElement("mask",{fill:"currentColor"},p.createElement("use",{xlinkHref:"#photoeditorsdk-whites-icon"})),p.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-whites-icon"})))},Og[Q.TEMPERATURE]=function(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},p.createElement("defs",null,p.createElement("path",{id:"photoeditorsdk-temperature-icon",d:"M24 12a4 4 0 014 4v7.255a7 7 0 11-8 0V16a4 4 0 014-4zm0 2a2 2 0 00-2 2v8.298l-.856.597a5 5 0 105.712 0L26 24.298V16a2 2 0 00-2-2zm1 6v5.126A4.002 4.002 0 0124 33a4 4 0 01-1-7.874V20h2z"})),p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("path",{d:"M0 0H48V48H0z"}),p.createElement("mask",{fill:"currentColor"},p.createElement("use",{xlinkHref:"#photoeditorsdk-temperature-icon"})),p.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-temperature-icon"})))},Og[Q.SHARPNESS]=function(){return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},p.createElement("defs",null,p.createElement("path",{id:"photoeditorsdk-sharpness-icon",d:"M24 12l11 24H13l11-24zm0 4.8V34h7.883L24 16.8z"})),p.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},p.createElement("path",{d:"M0 0H48V48H0z"}),p.createElement("mask",{fill:"currentColor"},p.createElement("use",{xlinkHref:"#photoeditorsdk-sharpness-icon"})),p.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-sharpness-icon"})))},Og),ny=e.div(Ig||(Ig=A(["\n  overflow: hidden;\n  display: inline-block;\n  position: relative;\n  transform: unset !important;\n  vertical-align: bottom;\n"],["\n  overflow: hidden;\n  display: inline-block;\n  position: relative;\n  transform: unset !important;\n  vertical-align: bottom;\n"]))),ry=e.div(Rg||(Rg=A(["\n  position: relative;\n  cursor: pointer;\n  display: flex;\n  align-self: center;\n"],["\n  position: relative;\n  cursor: pointer;\n  display: flex;\n  align-self: center;\n"]))),iy=e.div(Mg||(Mg=A(["\n  font-size: 15px;\n  display: inline-block;\n  width: 33px;\n  text-align: right;\n  color: ",";\n  z-index: 1;\n  margin: 2px;\n"],["\n  font-size: 15px;\n  display: inline-block;\n  width: 33px;\n  text-align: right;\n  color: ",";\n  z-index: 1;\n  margin: 2px;\n"])),(function(e){return e.theme.foreground})),oy=e.div(Ag||(Ag=A(["\n  transform: translate(0, 0) !important;\n"],["\n  transform: translate(0, 0) !important;\n"]))),ay=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.SLIDER_WIDTH=213,t.MAX_ROTATION=45,t.DEGREES_PER_PIXEL=2*t.MAX_ROTATION/t.SLIDER_WIDTH,t.drag=function(e,n){var r=n.x,i=t.transformTool.rotateFlipState;i.flipHorizontally!==i.flipVertically&&(r*=-1);var o=t.transformTool.defaultAngle-r*t.DEGREES_PER_PIXEL,a=Math.min(t.MAX_ROTATION,Math.max(o,-1*t.MAX_ROTATION));t.transformTool.setRotation(parseInt(""+a,10))},t.stop=function(){t.transformTool.setDefaultAngle(t.transformTool.rotationInDegrees),t.transformTool.addLocalSnapshot()},t}return S(t,e),Object.defineProperty(t.prototype,"transformTool",{get:function(){return this.props.transformTool},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.transformTool.rotateFlipState,t=e.flipHorizontally,n=e.flipVertically,r=this.transformTool.rotationInDegrees-this.transformTool.defaultAngle,i=t===n?-1*r:r,o=t!==n?-1*this.props.transformTool.rotationInDegrees:this.props.transformTool.rotationInDegrees;return p.createElement(ry,null,p.createElement(Ih.Draggable,{axis:"x",position:{x:0,y:0},onStart:this.drag,onDrag:this.drag,onStop:this.stop,updateOnPosition:!0},p.createElement(oy,null,p.createElement(ny,null,p.createElement(ey.dots,{width:90,height:15,x:i})),p.createElement(iy,null,o,"°"),p.createElement(ny,null,p.createElement(ey.dots,{width:90,height:15,x:i})))))},t}(p.Component),sy=rc("transformTool")(wc(ay)),ly=e(ey.rotate)(Pg||(Pg=A(["\n  height: 16px;\n  width: 16px;\n  transform: scaleX(-1);\n"],["\n  height: 16px;\n  width: 16px;\n  transform: scaleX(-1);\n"]))),cy=e(ey.rotate)(zg||(zg=A(["\n  height: 16px;\n  width: 16px;\n"],["\n  height: 16px;\n  width: 16px;\n"]))),uy=e(ey.flipHorizontal)(Dg||(Dg=A(["\n  height: 16px;\n  width: 16px;\n"],["\n  height: 16px;\n  width: 16px;\n"]))),dy=e(ey.flipVertical)(Lg||(Lg=A(["\n  height: 16px;\n  width: 16px;\n"],["\n  height: 16px;\n  width: 16px;\n"]))),py=e.div(Fg||(Fg=A(["\n  display: inline-flex;\n  transform: scale(0.9);\n\n  @media all and (min-width: 0) and (max-width: 599px) {\n    transform: scale(0.7);\n  }\n"],["\n  display: inline-flex;\n  transform: scale(0.9);\n\n  @media all and (min-width: 0) and (max-width: 599px) {\n    transform: scale(0.7);\n  }\n"]))),fy=rc("transformTool","config","custom")(wc((function(e){var t=e.transformTool,n=e.config,r=e.custom,i=t.locale.transformActions,o=function(e){var t=e.customButtonKey,n=e.onClick,i=e.label,o=e.icon,a=r.getButton(t);return p.createElement(a,{key:i,onClick:n,label:i,ariaLabel:i,icon:o,style:{margin:"0 5px"}})},a=o({label:i.buttonFlipHorizontal,icon:p.createElement(uy,null),onClick:function(){t.flipHorizontally()},customButtonKey:"transformActionFlipHorizontal"}),s=o({label:i.buttonFlipVertical,icon:p.createElement(dy,null),onClick:function(){t.flipVertically()},customButtonKey:"transformActionFlipVertical"}),l=o({label:i.buttonRotateClockwise,icon:p.createElement(ly,null),onClick:t.rotateClockwise,customButtonKey:"transformActionRotateClockwise"}),c=o({label:i.buttonRotateAntiClockwise,icon:p.createElement(cy,null),onClick:t.rotateAntiClockwise,customButtonKey:"transformActionRotateAntiClockwise"}),u=n.isLayoutAdvanced?{transform:"rotate(180deg)"}:{};return p.createElement(py,{style:u},t.config.enableFlip&&a||null,t.config.enableFlip&&s||null,t.config.enableRotation&&p.createElement(sy,null)||null,t.config.enableRotation&&c||null,t.config.enableRotation&&l||null)}))),hy=eg.Crop.GridLine,my=eg.Crop.Mask,gy=Ih.Draggable,yy=e(Qm)(jg||(jg=A(["\n  left: ","px;\n  top: ","px;\n  @media all and (min-width: 0) and (max-width: 599px) {\n    left: 6px;\n    top: 6px;\n  }\n"],["\n  left: ","px;\n  top: ","px;\n  @media all and (min-width: 0) and (max-width: 599px) {\n    left: 6px;\n    top: 6px;\n  }\n"])),3,3),vy=e(Qm)((function(e){var t=e.theme.measurements.canvasControls.corner.touchable.desktop,r=t/4-e.borderWidth;return n(Bg||(Bg=A(["\n    left: ","px;\n    top: ","px;\n    @media all and (min-width: 0) and (max-width: 599px) {\n      left: -30px;\n      top: 6px;\n    }\n  "],["\n    left: ","px;\n    top: ","px;\n    @media all and (min-width: 0) and (max-width: 599px) {\n      left: -30px;\n      top: 6px;\n    }\n  "])),r-t,3)})),by=e(Qm)((function(e){var t=e.theme.measurements.canvasControls.corner.touchable.desktop,r=t/4-e.borderWidth;return n(Ug||(Ug=A(["\n    left: ","px;\n    top: ","px;\n    @media all and (min-width: 0) and (max-width: 599px) {\n      left: -30px;\n      top: -30px;\n    }\n  "],["\n    left: ","px;\n    top: ","px;\n    @media all and (min-width: 0) and (max-width: 599px) {\n      left: -30px;\n      top: -30px;\n    }\n  "])),r-t,r-t)})),_y=e(Qm)((function(e){var t=e.theme.measurements.canvasControls.corner.touchable.desktop,r=t/4-e.borderWidth;return n(Ng||(Ng=A(["\n    top: ","px;\n    left: ","px;\n    @media all and (min-width: 0) and (max-width: 599px) {\n      top: -30px;\n      left: 6px;\n    }\n  "],["\n    top: ","px;\n    left: ","px;\n    @media all and (min-width: 0) and (max-width: 599px) {\n      top: -30px;\n      left: 6px;\n    }\n  "])),r-t,3)})),xy=rc("transformTool")(wc((function(e){var t=e.transformTool,n=t,r=n.leftTopRespectFlip,i=n.leftBottomRespectFlip,o=n.rightTopRespectFlip,a=n.rightBottomRespectFlip,s=t.cropMaskSize,l=s.height,c=s.width,u=t,d=u.maxCropMaskSize,f=u.defaultCropMaskPosition,h=t,m=h.isFlippedHorizontal,g=h.isFlippedVertical,y=d.width/2,v=d.height/2,b=E({},d,{left:f.x,top:f.y}),_={height:l,width:c},x=t.isDragMode?{transition:"unset"}:{},w=function(e){return m?2*y-e:e},S=function(e){return g?2*v-e:e},k=function(e,n,r){var i=w(e),o=S(n);switch(Ys.getFlippedEdgeIndex(r,m,g)){case 0:t.onLeftTop({x:i,y:o});break;case 1:t.onLeftBottom({x:i,y:o});break;case 2:t.onRightTop({x:i,y:o});break;case 3:t.onRightBottom({x:i,y:o})}},C=function(e,n,r){t.setDragMode(!0),t.clickableCanvas(!1),k(e,n,r)},T=function(e,t,n){k(e,t,n)},O=function(e,n,r){t.setDragMode(!1),k(e,n,r),t.clickableCanvas(!0),t.addLocalSnapshot()},I=function(e,n){var r=w(e+c/2)-c/2,i=S(n+l/2)-l/2;t.changePosition({x:r,y:i})};return p.createElement("div",{style:E({},b,{position:"absolute"})},p.createElement(gy,{bounds:"parent",position:r,onStart:function(e,n){var r=n.x,i=n.y;t.setDragMode(!0),t.clickableCanvas(!1),I(r,i)},onDrag:function(e,t){var n=t.x,r=t.y;I(n,r)},onStop:function(e,n){var r=n.x,i=n.y;t.setDragMode(!1),I(r,i),t.clickableCanvas(!0),t.addLocalSnapshot()}},p.createElement(my,{style:E({},_,x)})),p.createElement(hy,{style:E({left:r.x+c/3,top:r.y,height:l,width:1},x)}),p.createElement(hy,{style:E({left:r.x+c/3*2,top:r.y,height:l,width:1},x)}),p.createElement(hy,{style:E({left:r.x,top:r.y+l/3,height:1,width:c},x)}),p.createElement(hy,{style:E({left:r.x,top:r.y+l/3*2,height:1,width:c},x)}),p.createElement(gy,{bounds:"parent",position:E({},r),onStart:function(e,t){var n=t.x,r=t.y;C(n,r,0)},onDrag:function(e,t){var n=t.x,r=t.y;T(n,r,0)},onStop:function(e,t){var n=t.x,r=t.y;O(n,r,0)}},p.createElement(yy,{vertical:"top",horizontal:"left",borderWidth:3,style:x})),p.createElement(gy,{bounds:"parent",position:i,onStart:function(e,t){var n=t.x,r=t.y;C(n,r,1)},onDrag:function(e,t){var n=t.x,r=t.y;T(n,r,1)},onStop:function(e,t){var n=t.x,r=t.y;O(n,r,1)}},p.createElement(_y,{vertical:"bottom",horizontal:"left",borderWidth:3,style:x})),p.createElement(gy,{bounds:"parent",position:o,onStart:function(e,t){var n=t.x,r=t.y;C(n,r,2)},onDrag:function(e,t){var n=t.x,r=t.y;T(n,r,2)},onStop:function(e,t){var n=t.x,r=t.y;O(n,r,2)}},p.createElement(vy,{vertical:"top",horizontal:"right",borderWidth:3,style:x})),p.createElement(gy,{bounds:"parent",position:a,onStart:function(e,t){var n=t.x,r=t.y;C(n,r,3)},onDrag:function(e,t){var n=t.x,r=t.y;T(n,r,3)},onStop:function(e,t){var n=t.x,r=t.y;O(n,r,3)}},p.createElement(by,{vertical:"bottom",horizontal:"right",borderWidth:3,style:x})))}))),wy=eg.Bar.Index,Sy=eg.Crop.Backdrop,Ey=rc("transformTool","canvas","config")(wc((function(e){var t=e.transformTool,n=e.canvas,r=e.config,i=t,o=i.leftTopRespectFlip,a=i.leftBottomRespectFlip,s=i.rightTopRespectFlip,l=t.cropMaskSize.height,c=n.canvasSize,u=c.height,d=c.width,f=t.defaultCropMaskPosition,h=t.isDragMode?{transition:"unset"}:{};return p.createElement(eg.Controls.Container,null,p.createElement(Sy,{style:E({left:0,top:0,width:d,height:o.y+f.y},h)}),p.createElement(Sy,{style:E({left:0,top:o.y+f.y,width:f.x+o.x,height:l},h)}),p.createElement(Sy,{style:E({left:s.x+f.x,top:s.y+f.y,width:d-s.x-f.x,height:l},h)}),p.createElement(Sy,{style:E({left:0,top:a.y+f.y,width:d,height:u-a.y-f.y+r.measurements.basicToolControlBar.controlsBarHeight},h)}),p.createElement(xy,null),r.isLayoutAdvanced?p.createElement(wy,{bottom:!0},p.createElement(fy,null)):null)}))),ky=e(eg.Controls.Container)(Wg||(Wg=A(["\n  ","\n  z-index: ",";\n"],["\n  ","\n  z-index: ",";\n"])),(function(e){return e.activeCursor?n(Hg||(Hg=A(["\n          cursor: move;\n        "],["\n          cursor: move;\n        "]))):""}),(function(e){return e.theme.measurements.zIndex.canvas.crop.dragImage})),Cy=function(e){function t(t){var n=e.call(this,t)||this;return n.INITIAL_POSITION={x:void 0,y:void 0},n.state=E({},n.INITIAL_POSITION,{isDragging:!1}),n.containerRef=null,n.getCursorCoordinates=function(e){var t=0,r=0;if(-1!==e.type.indexOf("touch")){if(!(i=e).touches.length)return n.INITIAL_POSITION;t=i.touches[0].clientX,r=i.touches[0].clientY}else{var i;t=(i=e).clientX,r=i.clientY}var o=n.containerRef.current.getBoundingClientRect();return{x:t-o.left,y:r-o.top}},n.move=function(e){if(n.scale.canDrag){var t=n.getCursorCoordinates(e),r=t.x,i=t.y;if(void 0!==r&&void 0!==i&&n.state.isDragging){var o={x:n.state.x-r,y:n.state.y-i};n.scale.setOffset(o)}}},n.touchDrag=function(e){if(n.scale.canDrag){var t=n.getCursorCoordinates(e),r=t.x,i=t.y;void 0!==r&&void 0!==i&&n.setState({x:r,y:i,isDragging:!0})}},n.drag=function(e){e.preventDefault(),n.touchDrag(e)},n.stop=function(){n.scale.canDrag&&(n.scale.savePosition(),n.setState(E({},n.INITIAL_POSITION,{isDragging:!1})))},n.touchEnd=function(e){e.preventDefault(),e.stopPropagation();var t=n.state,r=t.x,i=t.y;r&&i&&n.setState(E({},n.INITIAL_POSITION,{isDragging:!1}))},n.containerRef=p.createRef(),n}return S(t,e),t.prototype.componentDidMount=function(){document.addEventListener("mouseup",this.stop,!1),document.addEventListener("touchend",this.stop,{passive:!0})},t.prototype.componentWillUnmount=function(){document.removeEventListener("mouseup",this.stop,!1),document.removeEventListener("touchend",this.stop,!1)},Object.defineProperty(t.prototype,"scale",{get:function(){return this.props.scale},enumerable:!0,configurable:!0}),t.prototype.render=function(){return p.createElement(ky,{ref:this.containerRef,onMouseMove:this.move,onTouchMove:this.move,onMouseDown:this.drag,onTouchStart:this.touchDrag,onMouseUp:this.stop,onTouchEnd:this.touchEnd,activeCursor:this.scale.canDrag})},t}(p.Component),Ty=rc("scale")(wc(Cy)),Oy=e.img(Vg||(Vg=A(["\n  position: absolute;\n  left: -24px;\n  top: calc(50% - 12px);\n  cursor: ew-resize;\n"],["\n  position: absolute;\n  left: -24px;\n  top: calc(50% - 12px);\n  cursor: ew-resize;\n"]))),Iy=e.img(Gg||(Gg=A(["\n  position: absolute;\n  right: -24px;\n  top: calc(50% - 12px);\n  cursor: ew-resize;\n"],["\n  position: absolute;\n  right: -24px;\n  top: calc(50% - 12px);\n  cursor: ew-resize;\n"]))),Ry=new z(0,0),My=new z(0,0),Ay=rc("sprite")(wc((function(e){var t=e.sprite,n=t.leftMidPosition,r=t.rightMidPosition,i=function(e,i){t.setDragMode(!0),t.clickableCanvas(!1);var o=e.clientX,a=e.clientY;Ry=new z(o,a),My=new z("left"===i?n:r)},o=function(){t.clickableCanvas(!0),t.setDragMode(!1),t.addSnapshot("edit",t.textDesignLocale.padding),Ry=new z(0,0),My=new z(0,0)},a=function(e){var n=e.clientX,r=e.clientY;if(void 0!==n&&void 0!==r){var i=My.subtract(Ry.subtract(new z(n,r)));t.onPaddingDrag(i)}};return p.createElement(p.Fragment,null,p.createElement(Ih.Draggable,{onStart:function(e){return i(e,"left")},onDrag:a,onStop:o},p.createElement(Oy,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAANJJREFUSA3tlEsKwjAURUv9Vq3gBlyjKxF/c0EQxIEgggjiwP/ILbgU6ykYuLMGeRlp4JJH+3JOEmij6D9C3UCWZTWSBOEDbpM7eZCOqQRgSm7EjZ6ZAGIOvzoycz8kfGAJb7Hbi+x8aA0/C3xkCW8CPgl8bA0/CnzyDTwuWPSS9wmyon5p9ygBNshBTjGlNpfkO9+LZBZCUge6E8mcuuRxCf4tAPOf21YkC+qyP8Gj8yPZiGQZQlIFuhaJ3VftDgm8QlbkSbruuekMOCapKfQ3YW/1Myhh/78bMQAAAABJRU5ErkJggg=="})),p.createElement(Ih.Draggable,{onStart:function(e){return i(e,"right")},onDrag:a,onStop:o},p.createElement(Iy,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAPhJREFUSA3tlLkKwlAQRYOVnXZ+gEshIiJ+hAgiCBJc8Sf8XgsVFBVLt2g8UwhBMomZtLlwIMxy3uMVcZwsaV/A9/1iWoe6j3wFV+iqQ9YG0hJcQHKDntWl7iHtwPeQO999ddjaQNqGM0geMLC61D2kLTiBRA4ZqsPWBtImHEHyhJHVpe4hbcABJHKIqw5bG0jrsAeJB5MoVy6qqfQ86u9AL/gdKBs+uW0NdiCR248NmvAVZFUIyiOfJtyiVBFXYAuSF0yV0eRlZL/yWXKLsoG8DBuQyM3nymjyMrI8rEEi8kVyS8wGUhfkJ7eMGbW3kRfs29nmHy/wAUVpDIFPWLFFAAAAAElFTkSuQmCC"})))}))),Py=e(eg.Controls.Width)(jy||(jy=A(["\n  cursor: ew-resize;\n  @media all and (min-width: 0) and (max-width: 599px) {\n    display: none;\n  }\n"],["\n  cursor: ew-resize;\n  @media all and (min-width: 0) and (max-width: 599px) {\n    display: none;\n  }\n"]))),zy=e(Py)(By||(By=A(["\n  left: -3px;\n  top: calc(50% - ","px);\n"],["\n  left: -3px;\n  top: calc(50% - ","px);\n"])),(function(e){return e.theme.measurements.canvasControls.width.size/2})),Dy=e(Py)(Uy||(Uy=A(["\n  right: -3px;\n  top: calc(50% - ","px);\n"],["\n  right: -3px;\n  top: calc(50% - ","px);\n"])),(function(e){return e.theme.measurements.canvasControls.width.size/2})),Ly=new z(0,0),Fy=new z(0,0);zy.defaultProps={theme:os},Dy.defaultProps={theme:os};var jy,By,Uy,Ny=rc("sprite","textTool")(wc((function(e){var t=e.sprite,n=e.textTool,r=t.leftMidPadPosition,i=t.rightMidPadPosition,o=function(e,n){t.setDragMode(!0),t.clickableCanvas(!1);var o=e.clientX,a=e.clientY;Ly=new z(o,a),Fy=new z("left"===n?r:i)},a=function(){t.clickableCanvas(!0),t.setDragMode(!1),t.addSnapshot("edit",t.textLocale.width),n.updateDefaultFontSize(),Ly=new z(0,0),Fy=new z(0,0)},s=function(e){var n=e.clientX,r=e.clientY;if(void 0!==n&&void 0!==r){var i=Fy.subtract(Ly.subtract(new z(n,r)));t.onWidthDrag(i)}};return p.createElement(p.Fragment,null,p.createElement(Ih.Draggable,{onStart:function(e){return o(e,"left")},onDrag:s,onStop:a},p.createElement(zy,null)),p.createElement(Ih.Draggable,{onStart:function(e){return o(e,"right")},onDrag:s,onStop:a},p.createElement(Dy,null)))}))),Hy=rc("textTool","sprite","custom")(wc((function(e){var t,n=e.textTool,r=e.sprite,i=e.custom,o=n.locale.canvasActions,a=((t={})[F.EDIT]={key:F.EDIT,customButtonKey:"canvasActionEdit",onClick:function(){return n.setEditMode(!0)},label:o.buttonEdit,icon:p.createElement(ey.edit,null)},t[F.BRING_TO_FRONT]={key:F.BRING_TO_FRONT,customButtonKey:"canvasActionBringToFront",onClick:function(e){e.stopPropagation(),n.bringToFront()},label:o.buttonBringToFront,icon:p.createElement(ey.bringToFront,null)},t[F.DUPLICATE]={key:F.DUPLICATE,customButtonKey:"canvasActionDuplicate",onClick:function(){return n.duplicate()},label:o.buttonDuplicate,icon:p.createElement(ey.duplicate,null)},t[F.DELETE]={key:F.DELETE,customButtonKey:"canvasActionDelete",onClick:function(e){e.stopPropagation(),n.delete()},label:o.buttonDelete,icon:p.createElement(ey.delete,null)},t),s=n.config.canvasActions.map((function(e){return a[e]?function(e){var t=e.key,n=e.customButtonKey,r=e.onClick,o=e.label,a=e.icon,s=i.getButton(n);return p.createElement(s,{key:t,onClick:r,label:o,ariaLabel:o,icon:a})}(a[e]):null}));return r.isSpriteText?p.createElement(eg.Bar.ButtonGroup,null,s):null}))),Wy=rc("stickerTool","custom")(wc((function(e){var t,n=e.stickerTool,r=e.custom,i=n.locale.canvasActions,o=((t={})[F.BRING_TO_FRONT]={key:F.BRING_TO_FRONT,customButtonKey:"canvasActionBringToFront",onClick:function(e){e.stopPropagation(),n.bringToFront()},label:i.buttonBringToFront,icon:p.createElement(ey.bringToFront,null)},t[F.FLIP]={key:F.FLIP,customButtonKey:"canvasActionFlip",onClick:function(e){e.stopPropagation(),n.flipHorizontally()},label:i.buttonFlipHorizontal,icon:p.createElement(ey.flipHorizontal,null)},t[F.DUPLICATE]={key:F.DUPLICATE,customButtonKey:"canvasActionDuplicate",onClick:function(){return n.duplicate()},label:i.buttonDuplicate,icon:p.createElement(ey.duplicate,null)},t[F.DELETE]={key:F.DELETE,customButtonKey:"canvasActionDelete",onClick:function(e){e.stopPropagation(),n.delete()},label:i.buttonDelete,icon:p.createElement(ey.delete,null)},t),a=n.config.canvasActions.map((function(e){return o[e]?function(e){var t=e.key,n=e.customButtonKey,i=e.onClick,o=e.label,a=e.icon,s=r.getButton(n);return p.createElement(s,{key:t,onClick:i,label:o,ariaLabel:o,icon:a})}(o[e]):null}));return n.isStickerSelected?p.createElement(eg.Bar.ButtonGroup,null,a):null}))),Vy=rc("textDesignTool","custom")(wc((function(e){var t,n=e.textDesignTool,r=e.custom,i=n.locale.canvasActions,o=((t={})[F.EDIT]={key:F.EDIT,customButtonKey:"canvasActionEdit",onClick:function(){return n.setEditMode(!0)},label:i.buttonEdit,icon:p.createElement(ey.edit,null)},t[F.BRING_TO_FRONT]={key:F.BRING_TO_FRONT,customButtonKey:"canvasActionBringToFront",onClick:function(e){e.stopPropagation(),n.bringToFront()},label:i.buttonBringToFront,icon:p.createElement(ey.bringToFront,null)},t[F.INVERT]={key:F.INVERT,customButtonKey:"canvasActionInvert",onClick:function(e){e.stopPropagation(),n.invertBackground()},label:i.buttonInvert,icon:p.createElement(ey.flipHorizontal,null)},t[F.DUPLICATE]={key:F.DUPLICATE,customButtonKey:"canvasActionDuplicate",onClick:function(){return n.duplicate()},label:i.buttonDuplicate,icon:p.createElement(ey.duplicate,null)},t[F.DELETE]={key:F.DELETE,customButtonKey:"canvasActionDelete",onClick:function(e){e.stopPropagation(),n.delete()},label:i.buttonDelete,icon:p.createElement(ey.delete,null)},t),a=n.config.canvasActions.map((function(e){return o[e]?function(e){var t=e.key,n=e.customButtonKey,i=e.onClick,o=e.label,a=e.icon,s=r.getButton(n);return p.createElement(s,{key:t,onClick:i,label:o,ariaLabel:o,icon:a})}(o[e]):null}));return n.isTextDesignSelected?p.createElement(eg.Bar.ButtonGroup,null,a):null}))),Gy=function(e){function t(t){var n=e.call(this,t)||this;return n.actionsRef=null,n.spriteControlPosition=function(){var e=n.props,t=e.config,r=e.sprite,i=e.canvas.canvasSize,o=t.measurements.canvasControls.sprite,a=o.controlPadding,s=o.controlOffset,l=r.position,c=l.x,u=l.y,d=r.currentSprite.size,p=d.height,f=d.width,h=r.rotationWRTOutputRotation,m=n.actionsRef.current,g=new z(0,0);if(m){var y=m.getBoundingClientRect();g=new z(y.width/2+s,y.height+s)}var v=Math.abs(f*Math.sin(h))+Math.abs(p*Math.cos(h)),b=new z(c,u-v/2-a-s).clamp(g,new z(i.width,i.height).subtract(g));return{left:b.x,top:b.y}},n.getSpriteControls=function(){switch(n.props.sprite.tool){case j.TEXT:return p.createElement(Hy,null);case j.TEXT_DESIGN:return p.createElement(Vy,null);case j.STICKER:return p.createElement(Wy,null)}return null},n.actionsRef=p.createRef(),n.state={isMounted:!1},n}return S(t,e),t.prototype.componentDidMount=function(){this.setState({isMounted:!0})},t.prototype.render=function(){var e=this.props.sprite,t=this.state.isMounted,n=!e.isDragMode&&!e.isEditMode,r=this.spriteControlPosition();return p.createElement(eg.Controls.SpriteActionsWrapper,{ref:this.actionsRef,show:n&&t,style:E({},r)},this.getSpriteControls())},t}(p.Component),Xy=rc("sprite","config","editor","canvas")(wc(Gy)),Yy=e(eg.Controls.Knob)($y||($y=A(["\n  margin-left: -11px;\n  margin-top: 0px;\n  cursor: url(",") 9 9, ew-resize;\n  &:before {\n    top: unset;\n    bottom: 0px;\n    left: calc(50% - ","px);\n  }\n"],["\n  margin-left: -11px;\n  margin-top: 0px;\n  cursor: url(",") 9 9, ew-resize;\n  &:before {\n    top: unset;\n    bottom: 0px;\n    left: calc(50% - ","px);\n  }\n"])),(function(e){return e.url}),(function(e){return e.theme.measurements.canvasControls.knob.size/2})),Ky=new z(0,0),qy=new z(0,0);Yy.defaultProps={theme:os};var $y,Zy,Jy=rc("sprite","snapping","config")(wc((function(e){var t=e.config,n=e.sprite,r=e.snapping,i=n.rightBottomHandlePosition,o=n.leftBottomHandlePosition,a={x:(i.x+o.x)/2,y:(i.y+o.y)/2},s=t.assetProvider.getPath("controls","/"+(function(e){return void 0===e&&(e=Ze()),!!e.match(/windows/i)}()?"rotate-windows":"rotate-osx")+".png");return p.createElement(Ih.Draggable,{onStart:function(e){var t=e.clientX,r=e.clientY;Ky=new z(t,r),qy=new z(a),n.setDragMode(!0),n.clickableCanvas(!1)},onDrag:function(e){!function(e){var t=e.clientX,i=e.clientY;if(void 0!==t&&void 0!==i){var o=qy.subtract(Ky.subtract(new z(t,i))),a=n.position,s=new z(a.x,a.y),l=o.subtract(s),c=Math.atan2(l.y,l.x)-Math.PI/2,u=r.snapToRotation(c,l,n.currentRect);n.setRotation(u)}}(e)},onStop:function(){n.clickableCanvas(!0),n.setDragMode(!1),n.spriteSnapshot("rotation"),r.hideRotationGuides(),Ky=new z(0,0),qy=new z(0,0)}},p.createElement(Yy,{url:s}))}))),Qy=eg.Controls.Corner,ev=Ih.Draggable,tv=new z(0,0),nv=new z(0,0),rv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return S(t,e),Object.defineProperty(t.prototype,"sprite",{get:function(){return this.props.sprite},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props,t=e.sprite,n=e.config,r=t,i=r.leftTopPosition,o=r.leftBottomPosition,a=r.rightTopPosition,s=r.rightBottomPosition,l=n.measurements.canvasControls.corner.borderWidth,c=function(e){var n=e.clientX,r=e.clientY;void 0!==n&&void 0!==r&&t.onCornerDrag(nv.subtract(tv.subtract(new z(n,r))))},u=function(e,n){var r=e.clientX,l=e.clientY;tv=new z(r,l),nv=new z(function(e){switch(e){case"leftTop":return i;case"leftBottom":return o;case"rightTop":return a;case"rightBottom":return s;default:return i}}(n)),t.clickableCanvas(!1),t.setDragMode(!0)},d=function(){t.clickableCanvas(!0),t.setDragMode(!1),t.spriteSnapshot("size"),tv=new z(0,0),nv=new z(0,0)};return p.createElement(p.Fragment,null,p.createElement(ev,{onStop:d,onDrag:c,onStart:function(e){return u(e,"leftTop")}},p.createElement(Qy,{vertical:"top",horizontal:"left",borderWidth:l})),p.createElement(ev,{onStop:d,onDrag:c,onStart:function(e){return u(e,"leftBottom")}},p.createElement(Qy,{vertical:"bottom",horizontal:"left",borderWidth:l})),p.createElement(ev,{onStop:d,onDrag:c,onStart:function(e){return u(e,"rightTop")}},p.createElement(Qy,{vertical:"top",horizontal:"right",borderWidth:l})),p.createElement(ev,{onStop:d,onDrag:c,onStart:function(e){return u(e,"rightBottom")}},p.createElement(Qy,{vertical:"bottom",horizontal:"right",borderWidth:l})))},t}(p.Component),iv=rc("sprite","config")(wc(rv)),ov=Ih.Draggable,av=new z(0,0),sv=new z(0,0),lv=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onAreaDrag=function(e){var n=e.clientX,r=e.clientY,i=t.props.snapping,o=sv.subtract(av.subtract(new z(n,r))),a=i.snapToPosition({x:o.x,y:o.y},t.sprite.currentRect),s=a.x,l=a.y;t.sprite.setPosition({x:s,y:l})},t.onAreaDragStart=function(e){var n=t.props.snapping,r=e.clientX,i=e.clientY;av=new z(r,i),sv=new z(t.sprite.position),t.sprite.setDragMode(!0),n.updateGuides()},t.onAreaDragStop=function(){var e=t.props.snapping;av=new z(0,0),sv=new z(0,0),t.sprite.setDragMode(!1),t.sprite.spriteSnapshot("position"),e.hidePositionGuides()},t.onDoubleClick=function(e){e.preventDefault(),e.stopPropagation(),t.sprite.setEditMode(!0)},t.isSpriteSelected=function(){var e=t.props.active.tool,n=t.sprite.tool;return t.sprite.isSpriteSelected&&e===n},t}return S(t,e),Object.defineProperty(t.prototype,"sprite",{get:function(){return this.props.sprite},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props,t=e.sprite,n=e.config;if(!this.isSpriteSelected())return null;var r=this.sprite.isSpriteText,i=this.sprite.isSpriteTextDesign&&this.sprite.textDesignToolStore.isInverted,o=t.size,a=o.height,s=o.width,l=t.spritePosition,c=t.rotationWRTOutputRotation,u=n.measurements.canvasControls.sprite.controlPadding;return p.createElement(eg.Controls.Container,null,p.createElement(ov,{onStart:this.onAreaDragStart,onDrag:this.onAreaDrag,onStop:this.onAreaDragStop,rotation:c,position:l},p.createElement(eg.Controls.Sprite,{onDoubleClick:this.onDoubleClick,height:a,width:s},r&&p.createElement(Ny,null)||null,i&&p.createElement(Ay,null)||null,p.createElement(iv,null),p.createElement(eg.Controls.RotateHandle,{x:s/2+u/2},p.createElement(Jy,null)))),p.createElement(Xy,null))},t}(p.Component),cv=rc("sprite","active","snapping","config")(wc(lv)),uv=function(e){function t(t){var n=e.call(this,t)||this;return n.containerElementRef=null,n.getControls=function(e){switch(n.props.active.tool){case j.FOCUS:return p.createElement(vg,null);case j.TEXT:case j.TEXT_DESIGN:case j.STICKER:return p.createElement(cv,null);case j.BRUSH:return p.createElement(wg,null);case j.TRANSFORM:return p.createElement(Ey,null);default:return p.createElement(eg.Controls.Container,null,e)}},n.canvasClicked=function(e){if(e.preventDefault(),e.stopPropagation(),n.props.canvas.isCanvasClickable){var t=e.clientX,r=e.clientY;if(-1!==e.type.indexOf("touch")){var i=e;if(!i.touches.length)return;t=i.touches[0].clientX,r=i.touches[0].clientY}var o=n.containerElementRef.current.getBoundingClientRect(),a=t-o.left,s=r-o.top;n.props.canvas.getContainersAtPreviewPoint({x:a,y:s})}},n.onKeyDown=function(e){"Tab"===e.code&&n.props.sprite.selectLast()},n.containerElementRef=p.createRef(),n}return S(t,e),t.prototype.render=function(){var e=this.props.children,t=this.props.canvas.canvasSize,n={height:t.height,width:t.width};return p.createElement(eg.Controls.Wrapper,E({"aria-hidden":!0,ref:this.containerElementRef,onClick:this.canvasClicked,onKeyDown:this.onKeyDown},n),e,this.getControls(p.createElement(Ty,null)))},t}(p.Component),dv=rc("active","canvas","sprite")(wc(uv)),pv=e.div(Zy||(Zy=A(["\n  display: ",";\n  position: absolute;\n  z-index: ",";\n"],["\n  display: ",";\n  position: absolute;\n  z-index: ",";\n"])),(function(e){return e.isVisible?"block":"none"}),(function(e){return e.theme.measurements.zIndex.canvas.snappingGuide})),fv=function(e){var t=e.isVisible,n=e.className;return p.createElement(pv,{isVisible:t,className:n})};fv.defaultProps={direction:"horizontal",left:0,top:0};var hv,mv,gv,yv,vv,bv,_v=e(fv)(gv||(gv=A(["\n  background: ",";\n  ","\n"],["\n  background: ",";\n  ","\n"])),(function(e){return e.theme.snapping.positionGuideColor}),(function(e){return"horizontal"===e.direction?n(hv||(hv=A(["\n        width: 100%;\n        height: 2px;\n        top: ","px;\n      "],["\n        width: 100%;\n        height: 2px;\n        top: ","px;\n      "])),(function(){return e.position})):n(mv||(mv=A(["\n      width: 2px;\n      height: 100%;\n      left: ","px;\n    "],["\n      width: 2px;\n      height: 100%;\n      left: ","px;\n    "])),(function(){return e.position}))})),xv=e(fv)(yv||(yv=A(["\n  border: none;\n  border-top: 2px dashed ",";\n  background: transparent;\n  left: ","px;\n  top: ","px;\n  transform: rotate(","rad);\n  width: 200%;\n"],["\n  border: none;\n  border-top: 2px dashed ",";\n  background: transparent;\n  left: ","px;\n  top: ","px;\n  transform: rotate(","rad);\n  width: 200%;\n"])),(function(e){return e.theme.snapping.rotationGuideColor}),(function(e){return e.position.x}),(function(e){return e.position.y}),(function(e){return e.rotation})),wv=e.div(vv||(vv=A(["\n  position: absolute;\n  width: ","px;\n  height: ","px;\n  top: ","px;\n  left: ","px;\n  overflow: hidden;\n"],["\n  position: absolute;\n  width: ","px;\n  height: ","px;\n  top: ","px;\n  left: ","px;\n  overflow: hidden;\n"])),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.top}),(function(e){return e.left})),Sv=rc("snapping","editor")(wc((function(e){var t=e.snapping,n=e.editor.getPreviewSize(),r=n.width,i=n.height,o=t.previewTopLeftPosition,a=o.x,s=o.y,l=t.positionGuides.map((function(e,t){var n=e.direction,r=e.value,i=e.isVisible;return p.createElement(_v,{key:"positionGuide-"+t,direction:n,position:r,isVisible:i})})),c=t.rotationGuides.find((function(e){return e.isVisible}));return p.createElement(wv,{width:r,height:i,left:a,top:s},l,p.createElement(xv,{key:"rotationGuide",rotation:c?c.value:0,position:c?c.position:{x:0,y:0},isVisible:!!c}))}))),Ev=function(e){function t(t){var n=e.call(this,t)||this;return n.previewCanvasRef=null,n.previewCanvasRef=p.createRef(),n}return S(t,e),t.prototype.componentDidMount=function(){var e=this.previewCanvasRef.current;this.props.canvas.setCanvasElement(e)},t.prototype.render=function(){return p.createElement(ig,null,this.props.active.isWebcam?p.createElement(ng,null):null,p.createElement(eg.Element,{ref:this.previewCanvasRef,"aria-label":"Canvas"}),p.createElement(dv,null,p.createElement(Sv,null)))},t}(p.Component),kv=rc("active","canvas")(wc(Ev)),Cv=eg.Button.TextSecondary,Tv=e.span(bv||(bv=A(["\n  font-size: 14px;\n  padding: 3px 1px 2px;\n  color: ",";\n  display: flex;\n  align-self: center;\n"],["\n  font-size: 14px;\n  padding: 3px 1px 2px;\n  color: ",";\n  display: flex;\n  align-self: center;\n"])),(function(e){return e.theme.canvasActionBar.foreground})),Ov=rc("scale","active")(wc((function(e){var t=e.scale,n=e.active,r=t.canZoomIn,i=t.canZoomOut,o=t.zoomLevel;return-1!==[j.TRANSFORM,j.BRUSH,j.FOCUS,j.STICKER,j.TEXT,j.TEXT_DESIGN].indexOf(n.tool)?null:p.createElement(eg.Bar.ButtonGroup,null,p.createElement(Cv,{ariaLabel:"Zoom out",isDisabled:!i,onClick:t.out},"-"),p.createElement(Tv,null,o," %"),p.createElement(Cv,{ariaLabel:"Zoom in",isDisabled:!r,onClick:t.in},"+"))})));Tv.defaultProps={theme:os};var Iv,Rv,Mv,Av,Pv,zv,Dv,Lv,Fv,jv=e(eg.Bar.ButtonGroup)(Iv||(Iv=A(["\n  > :last-child {\n    margin-left: 10px;\n  }\n  > :first-child {\n    margin-left: 0;\n  }\n"],["\n  > :last-child {\n    margin-left: 10px;\n  }\n  > :first-child {\n    margin-left: 0;\n  }\n"]))),Bv=rc("config","editor","history","custom")(wc((function(e){var t=e.config,n=e.editor,r=e.history,i=e.custom,o=t.locale.mainCanvasActions,a=r.canUndo,s=r.canRedo,l=t.config.mainCanvasActions,c=function(){n.export()},u=function(){if(n.activeStore.tool===j.TRANSFORM)return null;var e=i.getButton("mainCanvasActionUndo");return p.createElement(e,{key:"mainCanvasActionUndo",onClick:r.undo,isDisabled:!a,label:o.buttonUndo,ariaLabel:o.buttonUndo,icon:p.createElement($g,null)})},d=function(){if(n.activeStore.tool===j.TRANSFORM)return null;var e=i.getButton("mainCanvasActionRedo");return p.createElement(e,{key:"mainCanvasActionRedo",onClick:r.redo,isDisabled:!s,label:o.buttonRedo,ariaLabel:o.buttonRedo,icon:p.createElement(Zg,null)})},f=function(){var e=i.getButton("mainCanvasActionExport");return p.createElement(e,{key:"mainCanvasActionExport",onClick:c,label:o.buttonExport,ariaLabel:o.buttonExport,icon:p.createElement(Qg,null)})},h=function(){if(!t.displayCloseButton)return null;var e=i.getButton("mainCanvasActionClose");return p.createElement(e,{key:"mainCanvasActionClose",onClick:n.close,label:o.buttonClose,ariaLabel:o.buttonClose,icon:p.createElement(Jg,null)})},m=l.map((function(e){switch(e){case F.UNDO:return u;case F.REDO:return d;case F.EXPORT:return f;case F.CLOSE:return h}return null}));return p.createElement(eg.Bar.Index,null,p.createElement(jv,null,m[0]&&m[0]()||null,m[1]&&m[1]()||null),t.config.enableZoom?p.createElement(Ov,null):null,p.createElement(jv,null,m[2]&&m[2]()||null,m[3]&&m[3]()||null))}))),Uv=e.div(Rv||(Rv=A(["\n  display: inline-flex;\n  justify-content: space-between;\n  max-width: ","px;\n"],["\n  display: inline-flex;\n  justify-content: space-between;\n  max-width: ","px;\n"])),(function(e){return e.theme.measurements.advancedUIToolControlBar.width})),Nv=e.span(Mv||(Mv=A(["\n  font-size: ","px;\n  margin-top: 10px;\n  margin-right: 13px;\n"],["\n  font-size: ","px;\n  margin-top: 10px;\n  margin-right: 13px;\n"])),(function(e){return e.theme.measurements.fontSystem.label.size})),Hv=e.div(Av||(Av=A(["\n  position: absolute;\n  right: 8px;\n  top: 8px;\n"],["\n  position: absolute;\n  right: 8px;\n  top: 8px;\n"]))),Wv=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onWidthChange=function(e){t.props.onChangeWidth(parseInt(e,10)||0)},t.onHeightChange=function(e){t.props.onChangeHeight(parseInt(e,10)||0)},t.onKeyUpWidth=function(e){13===e.keyCode&&t.props.onPixelWidth()},t.onKeyUpHeight=function(e){13===e.keyCode&&t.props.onPixelHeight()},t.onPixelHeight=function(){t.props.onPixelHeight()},t.onPixelWidth=function(){t.props.onPixelWidth()},t}return S(t,e),t.prototype.render=function(){var e=this.props,t=e.label,n=e.showLabel,r=e.isDisabled,i=e.labelWidth,o=e.labelHeight,a=e.valueWidth,s=e.valueHeight;return p.createElement("div",null,p.createElement(Ih.Input.Label,{label:t,show:n}),p.createElement(Uv,null,p.createElement(Ih.Input.Text,{id:"photoeditorsdk-transformScaleWidth",testId:"TransformScaleWidth",value:a,isDisabled:r,onChange:this.onWidthChange,onBlur:this.onPixelWidth,onKeyUp:this.onKeyUpWidth},p.createElement(Hv,null,p.createElement(Ih.Input.Label,{label:i,htmlFor:"photoeditorsdk-transformScaleWidth"}))),p.createElement(Nv,null,"x"),p.createElement(Ih.Input.Text,{id:"photoeditorsdk-transformScaleHeight",testId:"TransformScaleHeight",value:s,isDisabled:r,onChange:this.onHeightChange,onBlur:this.onPixelHeight,onKeyUp:this.onKeyUpHeight},p.createElement(Hv,null,p.createElement(Ih.Input.Label,{label:o,htmlFor:"photoeditorsdk-transformScaleHeight"})))))},t.defaultProps={showLabel:!0},t}(p.Component),Vv=rc("textTool","textDesignTool","modal","custom","config")(wc((function(e){var t=e.modal,n=e.textTool,r=e.textDesignTool,i=e.custom,o=e.config,a=t,s=a.type,l=a.infoModalProps,c=a.actionModalProps,u=t.positionOffset,d=i.getLoader();switch(s){case Le.INFO:return"loading"===t.identifier?p.createElement(d,E({},l,{position:u})):p.createElement(Ih.Loader,E({},l,{position:u}));case Le.TEXT_EDIT:return n.isTextSelected?p.createElement(Ih.Input.TextEdit,{defaultText:Us.defaultText(),show:t.show,save:n.changeText,close:n.setEditMode,text:n.text,position:u,saveLabel:n.locale.canvasControls.buttonSave,closeLabel:n.locale.canvasControls.buttonClose,editLabel:n.locale.canvasControls.inputText,maxLength:o.config.text.maxCharacterLimit}):r.isTextDesignSelected?p.createElement(Ih.Input.TextEdit,{defaultText:Vs.defaultText(),show:t.show,save:r.changeText,close:r.setEditMode,text:r.text,position:u,saveLabel:n.locale.canvasControls.buttonSave,closeLabel:n.locale.canvasControls.buttonClose,editLabel:n.locale.canvasControls.inputText}):null;default:return p.createElement(Ih.Modal,E({},c,{position:u}))}}))),Gv=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n=this;this.getAdvancedCategoryCard=function(){return n.components.advancedUICategoryCard},this.getAdvancedItemCard=function(){return n.components.advancedUIItemCard},this.getAdvancedToolbarItem=function(){return n.components.advancedUIToolbarItem},this.getLoader=function(){return n.components.loader},this.getButton=function(e){return n.components.buttons[e]},this.getColorItem=function(){return n.components.colorItem},this.getCheckbox=function(){return n.components.checkbox};var r={loader:Ih.Loader,colorItem:Ih.ColorItem,checkbox:Ih.Input.Checkbox,buttons:{mainCanvasActionUndo:eg.Button.TextSecondary,mainCanvasActionRedo:eg.Button.TextSecondary,mainCanvasActionExport:Ju,mainCanvasActionClose:Ku,canvasActionEdit:eg.Controls.SpriteActionButton,canvasActionBringToFront:eg.Controls.SpriteActionButton,canvasActionDuplicate:eg.Controls.SpriteActionButton,canvasActionDelete:eg.Controls.SpriteActionButton,canvasActionInvert:eg.Controls.SpriteActionButton,canvasActionFlip:eg.Controls.SpriteActionButton,transformActionFlipHorizontal:Zu,transformActionFlipVertical:Zu,transformActionRotateClockwise:Zu,transformActionRotateAntiClockwise:Zu,textAlignment:Zu}};this.components=Xa([r,t,e])},Xv=e.div(Pv||(Pv=A(["\n  position: relative;\n"],["\n  position: relative;\n"]))),Yv=function(e){function t(t){var n=e.call(this,t)||this;n.onClick=function(e){return function(t){var r=n.props,i=r.onAddSnapshot,o=r.config,a=r.onChange,s=r.colorPickerDirection,l=n.state,c=l.activeIdentifier,u=l.showColorPicker,d=l.colorList.find((function(t){return t.identifier===e}));if(c!==d.identifier||u)u?n.setState({showColorPicker:!1}):(a(d.color),n.setState({activeIdentifier:e}),i&&i());else{n.UIComponent||import("./index-0d97af75.js").then((function(e){var t=e.ColorPicker;n.UIComponent=t,n.forceUpdate()}));var p=t.currentTarget.getBoundingClientRect(),f=p.left,h=p.width,m=p.top,g=p.height,y=t.currentTarget.parentElement.getBoundingClientRect(),v=y.left,b=y.top,_=o.measurements.color.colorPicker,x=f-v+h/2-2,w="bottom"===s?m-b+g+_.arrow.width/2:m-b-_.arrow.width/2,S=-24,E=_.width-_.arrow.width-12;x>E&&(x-=S+=x-E),n.setState({showColorPicker:!0,arrowOffset:x,topOffset:w,leftOffset:S})}}},n.onChange=function(e){var t=e.color,r=e.colorString,i=n.props.onChange,o=n.state,a=o.activeIdentifier,s=o.colorList,l=s.findIndex((function(e){return e.identifier===a}));if(-1!==l){var c=M(s);c[l]={identifier:s[l].identifier,colorString:r,color:t},n.setState({colorList:c})}i(t)},n.onChangeColorPicker=function(e){var t=e.color,r=e.colorString;n.onChange({color:[t[0]/255,t[1]/255,t[2]/255,t[3]],colorString:r})},n.closeColorPicker=function(){n.setState({showColorPicker:!1})},n.getColorPicker=function(){var e=n.props,t=e.activeColor,r=e.parentId,i=e.labelsColor,o=e.colorPickerDirection,a=e.onAddSnapshot,s=n.state,l=s.showColorPicker,c=s.arrowOffset,u=s.leftOffset,d=s.topOffset;if(!n.UIComponent)return null;var f=n.UIComponent;return p.createElement(f,{parentId:r,color:Ar(t),show:l,direction:o,arrowOffset:c,leftOffset:u,topOffset:d,labelHex:i.hex,labelR:i.r,labelG:i.g,labelB:i.b,labelSliderOpacity:i.sliderOpacity,labelSliderHue:i.sliderHue,onChange:n.onChangeColorPicker,onRequestClose:n.closeColorPicker,onAddSnapshot:a})};var r=n.props.colors;return n.state={activeIdentifier:"",activeSprite:"",colorList:M(r),showColorPicker:!1,arrowOffset:0,leftOffset:0,topOffset:0},n.UIComponent=null,n}return S(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.activeSprite,r=e.activeColor,i=t.activeSprite,o=t.colorList;if(n!==i||!n){var a=ot(Ar(r)),s=o.find((function(e){return e.colorString===a}));return{activeSprite:n,activeIdentifier:s?s.identifier:""}}return null},t.prototype.render=function(){var e=this,t=this.props,n=t.isDisabled,r=t.custom,i=t.config,o=this.state,a=o.activeIdentifier,s=o.colorList,l=r.getColorItem(),c=i.assetProvider.getPath("controls","/tiled-background.png"),u=s.map((function(t){return p.createElement(l,{key:t.colorString+"-item-"+t.identifier,isActive:t.identifier===a,isDisabled:n,onClick:e.onClick(t.identifier),color:t.colorString,label:t.identifier,tiledBackgroundUrl:c})}));return p.createElement(Xv,null,u,this.getColorPicker())},t.defaultProps={colorPickerDirection:"bottom",isDisabled:!1},t=C([rc("config","custom"),wc],t)}(p.Component),Kv=e.div(Lv||(Lv=A(["\n  z-index: ",";\n  flex-shrink: 0;\n  background-color: ",";\n  color: ",";\n  ","\n  width: ","px;\n  margin-bottom: ","px;\n"],["\n  z-index: ",";\n  flex-shrink: 0;\n  background-color: ",";\n  color: ",";\n  ","\n  width: ","px;\n  margin-bottom: ","px;\n"])),(function(e){return e.theme.measurements.zIndex.toolbar}),(function(e){return e.theme.toolbar.background}),(function(e){return e.theme.toolbar.foreground}),(function(e){return e.reverse?n(Dv||(Dv=A(["\n          border-left: 1px solid ",";\n        "],["\n          border-left: 1px solid ",";\n        "])),e.theme.toolbar.borderColor):n(zv||(zv=A(["\n          border-right: 1px solid ",";\n        "],["\n          border-right: 1px solid ",";\n        "])),e.theme.toolbar.borderColor)}),(function(e){return e.theme.measurements.advancedUIToolbar.width}),(function(e){return e.theme.measurements.advancedUIToolbar.marginBottom})),qv=e.ul.attrs((function(){return{role:"menubar","aria-label":"Tool Navigation","data-simplebar":"init","data-simplebar-auto-hide":"false"}}))(Fv||(Fv=A(["\n  margin: 0;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n  list-style: none;\n  overflow-x: hidden;\n  overflow-y: overlay;\n  height: 100%;\n  .simplebar-content {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n"],["\n  margin: 0;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n  list-style: none;\n  overflow-x: hidden;\n  overflow-y: overlay;\n  height: 100%;\n  .simplebar-content {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n"]))),$v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={reverse:!1},t}return S(t,e),t.prototype.componentDidMount=function(){var e=document.getElementById("photoeditorsdk-AdvancedToolbar");e&&(e.offsetLeft>window.innerWidth/2&&this.setState({reverse:!0}))},t.prototype.render=function(){return p.createElement(Kv,{reverse:this.state.reverse},p.createElement(qv,{id:"photoeditorsdk-AdvancedToolbar"},this.props.children(this.state.reverse)))},t}(p.Component);Kv.defaultProps={theme:os},qv.defaultProps={theme:os};var Zv,Jv,Qv,eb,tb,nb=e(Yu)(eb||(eb=A(["\n  width: inherit;\n  height: inherit;\n  padding: 0;\n  margin: 0;\n  ","\n\n  ","\n"],["\n  width: inherit;\n  height: inherit;\n  padding: 0;\n  margin: 0;\n  ","\n\n  ","\n"])),Qe()?n(Zv||(Zv=A(["\n        background-color: transparent;\n      "],["\n        background-color: transparent;\n      "]))):n(Jv||(Jv=A(["\n        background-color: inherit;\n      "],["\n        background-color: inherit;\n      "]))),(function(e){return e.isActive&&n(Qv||(Qv=A(["\n      background-color: ",";\n      color: ",";\n    "],["\n      background-color: ",";\n      color: ",";\n    "])),e.theme.toolbar.activeBackground,e.theme.toolbar.activeForeground)})),rb=e.li.attrs({"aria-haspopup":!0,"aria-hidden":!0,role:"menuitem"})(tb||(tb=A(["\n  height: ","px;\n  cursor: pointer;\n  position: relative;\n"],["\n  height: ","px;\n  cursor: pointer;\n  position: relative;\n"])),(function(e){return e.theme.measurements.advancedUIToolbar.itemHeight}));rb.defaultProps={theme:os};var ib,ob=e.li.attrs({role:"none"})(ib||(ib=A(["\n  height: ","px;\n  cursor: pointer;\n  position: relative;\n"],["\n  height: ","px;\n  cursor: pointer;\n  position: relative;\n"])),(function(e){return e.theme.measurements.advancedUIToolbar.seperatorHeight}));ob.defaultProps={theme:os};var ab,sb,lb,cb,ub,db,pb,fb=e.div(db||(db=A(["\n  ","\n  position: -ms-device-fixed;\n  top: ","px;\n  left: ","px;\n  z-index: ",";\n  transition: opacity 0.5s ease-in-out, left 0.25s ease-in-out, right 0.25s ease-in-out, visibility 0.5s ease-in-out;\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden;\n  cursor: pointer;\n  line-height: normal;\n\n  &:before {\n    content: ' ';\n    position: absolute;\n    top: 10px;\n    left: -8px;\n    width: 0;\n    height: 0;\n    border-right: 8px solid ",";\n    border-bottom: 6px solid transparent;\n    border-top: 6px solid transparent;\n  }\n\n  &:after {\n    content: '","';\n    position: absolute;\n    transition: margin-left 0.15s ease-in-out, opacity 0.15s ease-in-out;\n    color: ",";\n    background: ",";\n    padding: 8px 12px;\n    text-align: center;\n    vertical-align: super;\n    font-size: ","px;\n    letter-spacing: ","px;\n    text-transform: ",";\n    border-radius: ","px;\n    white-space: nowrap;\n  }\n\n  ","\n\n  ","\n\n  ","\n"],["\n  ","\n  position: -ms-device-fixed;\n  top: ","px;\n  left: ","px;\n  z-index: ",";\n  transition: opacity 0.5s ease-in-out, left 0.25s ease-in-out, right 0.25s ease-in-out, visibility 0.5s ease-in-out;\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden;\n  cursor: pointer;\n  line-height: normal;\n\n  &:before {\n    content: ' ';\n    position: absolute;\n    top: 10px;\n    left: -8px;\n    width: 0;\n    height: 0;\n    border-right: 8px solid ",";\n    border-bottom: 6px solid transparent;\n    border-top: 6px solid transparent;\n  }\n\n  &:after {\n    content: '","';\n    position: absolute;\n    transition: margin-left 0.15s ease-in-out, opacity 0.15s ease-in-out;\n    color: ",";\n    background: ",";\n    padding: 8px 12px;\n    text-align: center;\n    vertical-align: super;\n    font-size: ","px;\n    letter-spacing: ","px;\n    text-transform: ",";\n    border-radius: ","px;\n    white-space: nowrap;\n  }\n\n  ","\n\n  ","\n\n  ","\n"])),Qe()?n(ab||(ab=A(["\n          position: -ms-device-fixed;\n        "],["\n          position: -ms-device-fixed;\n        "]))):n(sb||(sb=A(["\n          position: fixed;\n        "],["\n          position: fixed;\n        "]))),(function(e){return e.position.y-5}),(function(e){return e.position.x+e.theme.measurements.advancedUIToolbar.width-10}),(function(e){return e.theme.measurements.zIndex.toolbar}),(function(e){return e.theme.tooltip.background}),(function(e){return e.label}),(function(e){return e.theme.tooltip.foreground}),(function(e){return e.theme.tooltip.background}),(function(e){return e.theme.measurements.fontSystem.label.size}),(function(e){return e.theme.measurements.fontSystem.label.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.label.case}),(function(e){return e.theme.shape.radiusSmall}),(function(e){return e.reverse&&n(lb||(lb=A(["\n      left: unset;\n      right: ","px;\n      direction: rtl;\n\n      &:before {\n        border-left: 8px solid ",";\n        border-right: unset;\n        right: -8px;\n        left: unset;\n        top: 10px;\n      }\n    "],["\n      left: unset;\n      right: ","px;\n      direction: rtl;\n\n      &:before {\n        border-left: 8px solid ",";\n        border-right: unset;\n        right: -8px;\n        left: unset;\n        top: 10px;\n      }\n    "])),e.position.x+e.theme.measurements.advancedUIToolbar.width-10,e.theme.tooltip.background)}),(function(e){return e.show&&!e.reverse&&n(cb||(cb=A(["\n      opacity: 1;\n      visibility: visible;\n      left: ","px;\n    "],["\n      opacity: 1;\n      visibility: visible;\n      left: ","px;\n    "])),e.position.x+e.theme.measurements.advancedUIToolbar.width+16)}),(function(e){return e.show&&e.reverse&&n(ub||(ub=A(["\n      opacity: 1;\n      visibility: visible;\n      right: ","px;\n    "],["\n      opacity: 1;\n      visibility: visible;\n      right: ","px;\n    "])),e.position.x+e.theme.measurements.advancedUIToolbar.width+16)})),hb=e.span(pb||(pb=A(["\n  display: none;\n"],["\n  display: none;\n"]))),mb=function(e){var t=e.show,n=e.reverse,r=e.position,i=e.children,o="string"==typeof i?i:"";return p.createElement(fb,{"data-test-id":"Tooltip",show:t,reverse:n,position:r,label:o},p.createElement(hb,null,o))};fb.defaultProps={theme:os},mb.defaultProps={show:!1};var gb,yb,vb,bb,_b=e.div(vb||(vb=A(["\n  flex-shrink: 0;\n  background: ",";\n  position: relative;\n  overflow-x: hidden;\n  overflow-y: hidden;\n  display: flex;\n  flex-direction: column;\n  transition: width 0.4s ease-in;\n  width: ","px;\n  margin-bottom: ","px;\n  ","\n  z-index: ",";\n  /* for Firefox */\n  min-height: 0;\n"],["\n  flex-shrink: 0;\n  background: ",";\n  position: relative;\n  overflow-x: hidden;\n  overflow-y: hidden;\n  display: flex;\n  flex-direction: column;\n  transition: width 0.4s ease-in;\n  width: ","px;\n  margin-bottom: ","px;\n  ","\n  z-index: ",";\n  /* for Firefox */\n  min-height: 0;\n"])),(function(e){return e.theme.toolControlBar.background}),(function(e){return e.theme.measurements.advancedUIToolControlBar.width}),(function(e){return e.theme.measurements.advancedUIToolControlBar.marginBottom}),(function(e){return e.reverse?n(yb||(yb=A(["\n          border-left: 1px solid ",";\n        "],["\n          border-left: 1px solid ",";\n        "])),e.theme.toolControlBar.borderColor):n(gb||(gb=A(["\n          border-right: 1px solid ",";\n        "],["\n          border-right: 1px solid ",";\n        "])),e.theme.toolControlBar.borderColor)}),(function(e){return e.theme.measurements.zIndex.toolControlBar})),xb=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={reverse:!1},t}return S(t,e),t.prototype.componentDidMount=function(){var e=document.getElementById("photoeditorsdk-Sidebar");e&&(e.offsetLeft>window.innerWidth/2&&this.setState({reverse:!0}))},t.prototype.render=function(){return p.createElement(_b,{id:"photoeditorsdk-Sidebar",reverse:this.state.reverse},this.props.children)},t}(p.Component),wb=e.h2(bb||(bb=A(["\n  /* Center text horizontally and vertically */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-grow: 0;\n  padding: 0 4px;\n  margin: 0;\n  min-height: ","px;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  background: ",";\n  color: ",";\n  border-bottom: 1px solid ",";\n  font-weight: 500;\n  text-align: center;\n"],["\n  /* Center text horizontally and vertically */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-grow: 0;\n  padding: 0 4px;\n  margin: 0;\n  min-height: ","px;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  background: ",";\n  color: ",";\n  border-bottom: 1px solid ",";\n  font-weight: 500;\n  text-align: center;\n"])),(function(e){return e.theme.measurements.mainCanvasActionBar.height-2}),(function(e){return e.theme.measurements.fontSystem.headline1.size}),(function(e){return e.theme.measurements.fontSystem.headline1.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.headline1.case}),(function(e){return e.theme.toolControlBar.background}),(function(e){return e.theme.toolControlBar.titleForeground}),(function(e){return e.theme.toolControlBar.separatorColor}));wb.defaultProps={theme:os};var Sb,Eb,kb=e.div(Sb||(Sb=A(["\n  position: relative;\n  flex-grow: 0;\n  flex-shrink: 0;\n  height: ","px;\n  opacity: ",";\n  visibility: ",";\n  overflow: ",";\n  transition: ",";\n  background: ",";\n  color: ",";\n"],["\n  position: relative;\n  flex-grow: 0;\n  flex-shrink: 0;\n  height: ","px;\n  opacity: ",";\n  visibility: ",";\n  overflow: ",";\n  transition: ",";\n  background: ",";\n  color: ",";\n"])),(function(e){return e.height}),(function(e){return e.opacity}),(function(e){return e.visibility}),(function(e){var t=e.shouldAnimateOverflow,n=e.overflow;return t?n:void 0}),(function(e){return e.shouldAnimateHeight?"opacity 0.5s ease-in, height 0.4s ease-out":"opacity 0.5s ease-in"}),(function(e){return e.theme.toolControlBar.background}),(function(e){return e.theme.toolControlBar.inputLabelForeground})),Cb=e.div(Eb||(Eb=A(["\n  position: relative;\n  padding: ",";\n"],["\n  position: relative;\n  padding: ",";\n"])),(function(e){return e.theme.measurements.advancedUIToolControlBar.padding})),Tb=function(e){function t(t){var n=e.call(this,t)||this;return n.contentRef=null,n.enableOverflow=function(){n.props.show&&n.contentRef.current&&n.setState({overflow:!0})},n.contentRef=p.createRef(),n.state={height:0,mounted:!1,overflow:!1},n}return S(t,e),t.prototype.componentDidMount=function(){var e=this.props.overflowAfterExpand;this.contentRef.current&&(e&&this.contentRef.current.addEventListener("transitionend",this.enableOverflow),this.setState({height:this.contentRef.current.scrollHeight,mounted:!0}))},t.prototype.componentWillUnmount=function(){this.contentRef.current&&this.contentRef.current.removeEventListener("transitionend",this.enableOverflow)},t.prototype.render=function(){var e=this.props,t=e.show,n=e.shouldAnimateOverflow,r=e.shouldAnimateHeight,i=e.children,o=this.state,a=o.height,s=o.mounted,l=o.overflow,c=s&&(t&&n||!n),u=c?a:0,d=c?1:0,f=c?"visible":"hidden";return p.createElement(kb,{"data-test-id":"ToolControlBar",ref:this.contentRef,height:u,opacity:d,visibility:f,overflow:l?"visible":"hidden",shouldAnimateHeight:r,shouldAnimateOverflow:n},p.createElement(Cb,null,i))},t.defaultProps={show:!0,shouldAnimateOverflow:!0,shouldAnimateHeight:!0},t}(p.Component);kb.defaultProps={theme:os};var Ob,Ib=e.div.attrs({"data-simplebar":"init","data-simplebar-auto-hide":"false"})(Ob||(Ob=A(["\n  &&& {\n    flex-grow: 1;\n    position: relative;\n    box-sizing: border-box;\n    padding: ",";\n    width: ","px;\n    overflow: visible;\n    /* for Firefox */\n    min-height: 0;\n    transition: height 0.4s cubic-bezier(0.17, 0.04, 0.03, 0.94);\n    background: ",";\n    color: ",";\n\n    ","\n    .photoeditorsdk-simplebar-placeholder {\n      height: 0px !important;\n    }\n  }\n"],["\n  &&& {\n    flex-grow: 1;\n    position: relative;\n    box-sizing: border-box;\n    padding: ",";\n    width: ","px;\n    overflow: visible;\n    /* for Firefox */\n    min-height: 0;\n    transition: height 0.4s cubic-bezier(0.17, 0.04, 0.03, 0.94);\n    background: ",";\n    color: ",";\n\n    ","\n    .photoeditorsdk-simplebar-placeholder {\n      height: 0px !important;\n    }\n  }\n"])),(function(e){return e.theme.measurements.advancedUIToolControlBar.padding}),(function(e){return e.theme.measurements.advancedUIToolControlBar.width}),(function(e){return e.theme.toolControlBar.background}),(function(e){return e.theme.toolControlBar.inputLabelForeground}),ld.HiddenScrollbar);Ib.defaultProps={theme:os};var Rb,Mb=e.h2(Rb||(Rb=A(["\n  color: ",";\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  font-weight: 500;\n  height: ","px;\n  line-height: ","px;\n"],["\n  color: ",";\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  font-weight: 500;\n  height: ","px;\n  line-height: ","px;\n"])),(function(e){return e.theme.toolControlBar.titleForeground}),(function(e){return e.theme.measurements.fontSystem.headline2.size}),(function(e){return e.theme.measurements.fontSystem.headline2.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.headline2.case}),(function(e){return 2*e.theme.measurements.advancedSpacer}),(function(e){return 2*e.theme.measurements.advancedSpacer}));Mb.defaultProps={theme:os};var Ab,Pb,zb=e.div(Pb||(Pb=A(["\n  &:after {\n    content: '';\n    position: absolute;\n    bottom: 0px;\n    ","\n    border-bottom: 2px solid ",";\n  }\n"],["\n  &:after {\n    content: '';\n    position: absolute;\n    bottom: 0px;\n    ","\n    border-bottom: 2px solid ",";\n  }\n"])),(function(e){return e.full?n(Ab||(Ab=A(["\n            left: -","px;\n            width: calc(100% + ","px);\n          "],["\n            left: -","px;\n            width: calc(100% + ","px);\n          "])),3*e.theme.measurements.advancedSpacer/2,3*e.theme.measurements.advancedSpacer):"\n      left: "+3*e.theme.measurements.advancedSpacer/2+"px;\n      width: calc(100% - "+3*e.theme.measurements.advancedSpacer+"px);\n    "}),(function(e){return e.theme.toolControlBar.separatorColor}));zb.defaultProps={theme:os};var Db,Lb,Fb,jb,Bb,Ub,Nb,Hb,Wb,Vb,Gb,Xb,Yb,Kb,qb,$b,Zb,Jb={Card:zh,CardContainer:Dh,CardLabel:Lh,Toolbar:{Index:$v,Item:function(e){return p.createElement(rb,null,p.createElement(nb,E({isActive:e.isActive,"data-test-id":e.ariaLabel},e)))},Separator:ob,Tooltip:mb},Itemsbar:Ib,BarSeparator:"",ItemsSeparator:zb,Controlsbar:Tb,Sidebar:{Index:xb,Heading:wb,SubHeading:Mb}},Qb=function(e){function t(t){var n=e.call(this,t)||this;return n.ref=null,n.updatePosition=function(){var e=n.props.isReverse,t={x:0,y:0};if(n.ref.current){var r=n.ref.current.getBoundingClientRect(),i=r.top,o=r.height,a=r.left,s=r.right;t.y=i+o/4,t.x=e?window.innerWidth-s:a}n.setState({tooltipPosition:t})},n.mouseOver=function(e){n.updatePosition(),n.setState({hoverTool:e})},n.mouseOut=function(){n.setState({hoverTool:null})},n.state={hoverTool:null,tooltipPosition:{x:0,y:0}},n.ref=p.createRef(),n}return S(t,e),t.prototype.componentDidMount=function(){this.updatePosition()},t.prototype.componentDidUpdate=function(e){this.props.isReverse!==e.isReverse&&this.updatePosition()},t.prototype.render=function(){var e=this,t=this.props,n=t.tool,r=t.isActive,i=t.isReverse,o=t.icon,a=t.label,s=t.onClick,l=t.className,c=this.state,u=c.hoverTool,d=c.tooltipPosition;return p.createElement(e_,{ref:this.ref,onMouseOver:function(){return e.mouseOver(n)},onMouseOut:function(){return e.mouseOut()},className:l},p.createElement(Jb.Toolbar.Item,{ariaLabel:a,isActive:r,onClick:function(){return s(n)}},o),p.createElement(Jb.Toolbar.Tooltip,{position:d,reverse:i,show:u===n},a))},t}(p.Component),e_=e.div(Db||(Db=A(["\n  position: relative;\n"],["\n  position: relative;\n"]))),t_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderIcon=function(e){var t=Yg[e];return p.createElement(t,null)||null},t.update=function(e){t.props.active.selectTool(e)},t}return S(t,e),t.prototype.getToolTitle=function(e){return this.props.config.locale[e].title},t.prototype.render=function(){var e=this,t=this.props.active.tool,n=this.props,r=n.tool,i=n.custom;if(r){var o=i.getAdvancedToolbarItem();return p.createElement(o,{key:r,isActive:r===t,isReverse:this.props.isReverse,icon:this.renderIcon(r),onClick:function(){return e.update(r)},tool:r,label:this.getToolTitle(r)})}return p.createElement(Jb.Toolbar.Separator,null)},t=C([rc("active","config","custom"),wc],t)}(p.Component),n_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderTools=function(e){return t.props.config.tools.map((function(t,n){return p.createElement(t_,{key:t||n,tool:t,isReverse:e})}))},t}return S(t,e),t.prototype.render=function(){return p.createElement(Jb.Toolbar.Index,null,this.renderTools)},t=C([rc("config"),wc],t)}(p.Component),r_=rc("library","active")(wc((function(e){var t=e.library,n=e.active,r=t.locale.controls.placeholderSearch,i=t,o=i.config,a=i.libraryProvider,s=function(e){var t=e.target.files;if(t.length){var r=new FileReader;r.onload=function(e){n.newImage(e.target.result)},r.readAsDataURL(t[0])}},l=function(){n.selectWebcam(!0)},c=function(){var e=document.getElementById("fileUpload");e&&e.click()};return p.createElement(Jb.Controlsbar,{shouldAnimateHeight:!1,shouldAnimateOverflow:!1},p.createElement(Ih.Spacer,null),a?p.createElement(p.Fragment,null,p.createElement(Ih.Input.Search,{onChange:function(e){t.fetchImages(e)},placeholder:r}),p.createElement(Ih.Spacer,{count:2})):null,o.enableUpload?p.createElement(Xu,{ariaLabel:t.locale.controls.buttonUpload,onClick:c,fullWidth:!0},t.locale.controls.buttonUpload,p.createElement(Ih.Input.File,{onChange:s})):null,p.createElement(Ih.Spacer,null),o.enableWebcam?p.createElement(Ku,{ariaLabel:t.locale.controls.buttonWebcamOpen,onClick:l,fullWidth:!0},t.locale.controls.buttonWebcamOpen):null,p.createElement(Jb.ItemsSeparator,null))}))),i_=e.div(Bb||(Bb=A(["\n  transition: max-height 0.8s ease-out, transform 0.8s ease-out;\n  background: ",";\n  visibility: hidden;\n  opacity: 0;\n  display: none;\n  flex-wrap: wrap;\n\n  ","\n"],["\n  transition: max-height 0.8s ease-out, transform 0.8s ease-out;\n  background: ",";\n  visibility: hidden;\n  opacity: 0;\n  display: none;\n  flex-wrap: wrap;\n\n  ","\n"])),(function(e){return e.theme.toolControlBar.background}),(function(e){return e.show&&n(jb||(jb=A(["\n      opacity: 1;\n      visibility: visible;\n      ","\n    "],["\n      opacity: 1;\n      visibility: visible;\n      ","\n    "])),Qe()?n(Lb||(Lb=A(["\n            display: block;\n          "],["\n            display: block;\n          "]))):n(Fb||(Fb=A(["\n            display: flex;\n          "],["\n            display: flex;\n          "]))))})),o_=rc("library","active","custom")(wc((function(e){var t=e.active,n=e.library,r=e.custom,i=n,o=i.query,a=i.selectedCategoryIdentifier,s=i.categories,l=i.images,c=function(e,n){var i=r.getAdvancedItemCard();return p.createElement(i,{tool:j.LIBRARY,type:B.MEDIUM,onClick:function(){return n=e.identifier,void t.newImage(n);var n},key:e.identifier,image:e.coverImage,label:e.defaultName,style:{animationDelay:.08*n+"s"}},p.createElement(Jb.CardLabel,{hidden:!0},e.defaultName))},u=n.locale.controls.noResults;return p.createElement(Jb.Itemsbar,null,p.createElement(Jb.CardContainer,null,o?l.length?l.map(c):p.createElement("p",null,u):s.map((function(e){var t=a===e.identifier,i=r.getAdvancedCategoryCard();return p.createElement("div",{key:e.identifier},p.createElement(i,{isActive:t,tool:j.LIBRARY,type:B.LARGE,onClick:function(){return t=e.identifier,void n.toggleCategorySelection(t);var t},image:e.coverImage,label:e.defaultName,style:{animationDelay:(e.delay||0)+"s"}},p.createElement(Jb.CardLabel,{withBackground:!0,caret:!0,isActive:t},e.defaultName)),p.createElement(i_,{show:t,key:e.identifier+"-items"},e.items.map(c)))}))))}))),a_=rc("library")(wc((function(e){var t=e.library,n=e.displayTitle;return p.createElement(p.Fragment,null,n&&p.createElement(Jb.Sidebar.Heading,null,t.locale.title),p.createElement(r_,null),p.createElement(o_,null))}))),s_=rc("filterTool")(wc((function(e){var t=e.filterTool,n=t.locale.controls,r=t.state,i=function(){t.toolSnapshot()};return p.createElement(Jb.Controlsbar,{show:t.isOptionSelected},p.createElement(Ih.Input.Form,null,p.createElement(Ku,{ariaLabel:n.buttonReset,onClick:function(){t.reset()},fullWidth:!0},n.buttonReset),p.createElement(Ih.Spacer,{count:2}),p.createElement(Ih.Input.Slider,{"aria-hidden":!t.isOptionSelected,label:n.sliderIntensity,value:r.intensity,min:0,max:1,onChange:t.changeIntensity,onMouseUp:i,onTouchEnd:i,snap:r.isDuotone?.5:null}),p.createElement(Ih.Spacer,null)),p.createElement(Jb.ItemsSeparator,null))}))),l_=e.div(Wb||(Wb=A(["\n  background: ",";\n  visibility: hidden;\n  opacity: 0;\n  transform-origin: 0 0;\n  display: none;\n  flex-wrap: wrap;\n\n  ","\n"],["\n  background: ",";\n  visibility: hidden;\n  opacity: 0;\n  transform-origin: 0 0;\n  display: none;\n  flex-wrap: wrap;\n\n  ","\n"])),(function(e){return e.theme.toolControlBar.background}),(function(e){return e.show&&n(Hb||(Hb=A(["\n      opacity: 1;\n      visibility: visible;\n      ","\n    "],["\n      opacity: 1;\n      visibility: visible;\n      ","\n    "])),Qe()?n(Ub||(Ub=A(["\n            display: block;\n          "],["\n            display: block;\n          "]))):n(Nb||(Nb=A(["\n            display: flex;\n          "],["\n            display: flex;\n          "]))))})),c_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onFilterClick=function(e){t.filterTool.selectFilter(e.identifier,e.defaultIntensity)},t.onCatgoryClick=function(e){t.filterTool.toggleCategorySelection(e)},t.renderItemCard=function(e){var n=t.filterTool.locale.items[e.identifier]||e.name,r=t.custom.getAdvancedItemCard();return p.createElement(r,{tool:j.FILTER,type:B.MEDIUM,onClick:function(){return t.onFilterClick(e)},key:e.identifier,image:e.thumbnail||e.thumbnailURI,label:n,style:{animationDelay:(e.delay||0)+"s"},isActive:t.filterTool.identifier===e.identifier},p.createElement(Jb.CardLabel,{withBackground:!0},n))},t.renderCategoryCard=function(e){var n=t.filterTool.selectedCategoryIdentifier===e.identifier,r=t.filterTool.locale.categories[e.identifier]||e.name,i=t.custom.getAdvancedCategoryCard();return p.createElement("div",{key:e.identifier},p.createElement(i,{isActive:n,tool:j.FILTER,type:B.LARGE,onClick:function(){return t.onCatgoryClick(e.identifier)},image:e.thumbnailURI,label:r,style:{animationDelay:(e.delay||0)+"s"}},p.createElement(Jb.CardLabel,{withBackground:!0,caret:!0,isActive:n},r)),p.createElement(l_,{show:n},e.items.map(t.renderItemCard)))},t}return S(t,e),Object.defineProperty(t.prototype,"filterTool",{get:function(){return this.props.filterTool},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"custom",{get:function(){return this.props.custom},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.filterTool,t=e.categories,n=e.flattenCategories,r=e.entities;return p.createElement(Jb.Itemsbar,{key:"filterToolItemsbar"},p.createElement(Jb.CardContainer,null,n?r.map(this.renderItemCard):t.map(this.renderCategoryCard)))},t}(p.Component),u_=rc("filterTool","custom")(wc(c_)),d_=rc("filterTool")(wc((function(e){var t=e.filterTool,n=e.displayTitle;return p.createElement(p.Fragment,null,n&&p.createElement(Jb.Sidebar.Heading,null,t.locale.title),p.createElement(s_,null),p.createElement(u_,null))}))),p_=rc("focusTool")(wc((function(e){var t=e.focusTool,n=t.locale.controls,r=function(){t.toolSnapshot(n.sliderIntensity)};return p.createElement(Jb.Controlsbar,{show:t.isOptionSelected},p.createElement(Ih.Input.Form,null,p.createElement(Ku,{ariaLabel:n.buttonReset,onClick:function(){t.reset()},fullWidth:!0},n.buttonReset),p.createElement(Ih.Spacer,{count:2}),p.createElement(Ih.Input.Slider,{"aria-hidden":!t.isOptionSelected,label:n.sliderIntensity,value:t.intensity,min:Bi.minIntensity,max:t.maxIntensity,divider:1,onChange:t.changeIntensity,onMouseUp:r,onTouchEnd:r})),p.createElement(Ih.Spacer,{count:1}),p.createElement(Jb.ItemsSeparator,null))}))),f_=rc("focusTool","custom")(wc((function(e){var t=e.focusTool,n=e.custom,r=t.entities;return p.createElement(Jb.Itemsbar,null,p.createElement(Jb.CardContainer,null,r.map((function(e){var r=t.locale.items[e.identifier]||e.name,i=n.getAdvancedItemCard();return p.createElement(i,{tool:j.FOCUS,type:B.LARGE,onClick:function(){return t.selectFocus(e.identifier)},key:e.identifier,image:e.thumbnailURI,label:r,style:{animationDelay:(e.delay||0)+"s"},isActive:e.identifier===t.identifier},p.createElement(Jb.CardLabel,{withBackground:!0},r))}))))}))),h_=rc("focusTool")(wc((function(e){var t=e.focusTool,n=e.displayTitle;return p.createElement(p.Fragment,null,n&&p.createElement(Jb.Sidebar.Heading,null,t.locale.title),p.createElement(p_,null),p.createElement(f_,null))}))),m_=rc("adjustmentsTool")(wc((function(e){var t=e.adjustmentsTool,n=t,r=n.categories,i=n.items,o=n.config,a=function(){t.toolSnapshot()},s=function(e){return p.createElement("div",{key:e.identifier},p.createElement(Ih.Input.Slider,{adjust:!0,key:e.identifier,label:t.locale.items[e.identifier]||e.name,value:t[e.identifier],onChange:function(n){return function(e,n){t.editAdjustments({type:e,value:n})}(e.identifier,n)},onMouseUp:a,onTouchEnd:a,snap:0}),p.createElement(Ih.Spacer,{count:2}))},l=function(e){return p.createElement("div",{style:{position:"relative"}},e.map(s))};return p.createElement(Jb.Itemsbar,null,o.flattenCategories?l(i):p.createElement(p.Fragment,null,r.map((function(e,n){return e.items&&p.createElement("div",{style:{position:"relative"},key:e.identifier},0!==n?p.createElement(Ih.Spacer,{count:2}):null,p.createElement(Jb.Sidebar.SubHeading,null,t.locale.categories[e.identifier]||e.name),e.items.map(s),p.createElement(Ih.Spacer,{count:2}),n!==r.length-1?p.createElement(Jb.ItemsSeparator,{full:!0}):null)||null})),l(r.filter((function(e){return!e.items})))))}))),g_=rc("adjustmentsTool")(wc((function(e){var t=e.adjustmentsTool,n=t.locale.controls;return p.createElement(Jb.Controlsbar,{show:t.isDirty},p.createElement(Ku,{ariaLabel:n.buttonReset,onClick:function(){t.reset()},fullWidth:!0},n.buttonReset),p.createElement(Jb.ItemsSeparator,null))}))),y_=rc("adjustmentsTool")(wc((function(e){var t=e.adjustmentsTool,n=e.displayTitle;return p.createElement(p.Fragment,null,n&&p.createElement(Jb.Sidebar.Heading,null,t.locale.title),p.createElement(g_,null),p.createElement(m_,null))}))),v_=rc("overlayTool")(wc((function(e){var t=e.overlayTool,n=t.locale.controls,r=t.allBlendModes,i=t.blendMode,o=function(){t.toolSnapshot()};return p.createElement(Jb.Controlsbar,{show:t.isOptionSelected},p.createElement(Ku,{ariaLabel:n.buttonReset,onClick:function(){t.reset()},fullWidth:!0},n.buttonReset),p.createElement(Ih.Spacer,{count:2}),p.createElement(Ih.Input.CarouselSlider,{label:n.carouselBlendMode,defaultIdentifier:i,onSelect:function(e){t.changeBlendMode(e)},list:r}),p.createElement(Ih.Spacer,{count:2}),p.createElement(Ih.Input.Slider,{"aria-hidden":!t.isOptionSelected,label:n.sliderOpacity,value:t.opacity,min:0,max:1,onChange:t.changeOpacity,onMouseUp:o,onTouchEnd:o}),p.createElement(Ih.Spacer,null),p.createElement(Jb.ItemsSeparator,null))}))),b_=rc("overlayTool","custom")(wc((function(e){var t=e.overlayTool,n=e.custom;return p.createElement(Jb.Itemsbar,null,p.createElement(Jb.CardContainer,null,t.entities.map((function(e){var r=t.locale.items[e.identifier]||e.name,i=n.getAdvancedItemCard();return p.createElement(i,{tool:j.OVERLAY,type:B.MEDIUM,onClick:function(){return t.selectOverlay(e.identifier)},key:e.identifier,image:e.thumbnailURI,label:r,style:{animationDelay:(e.delay||0)+"s"},isActive:e.identifier===t.identifier},p.createElement(Jb.CardLabel,{withBackground:!0},r))}))))}))),__=rc("overlayTool")(wc((function(e){var t=e.overlayTool,n=e.displayTitle;return p.createElement(p.Fragment,null,n&&p.createElement(Jb.Sidebar.Heading,null,t.locale.title),p.createElement(v_,null),p.createElement(b_,null))}))),x_=e.input.attrs({type:"file",id:"fileUpload",accept:"image/*",multiple:!0})(Vb||(Vb=A(["\n  ","\n"],["\n  ","\n"])),ld.VisuallyHidden),w_=rc("stickerTool")(wc((function(e){var t=e.stickerTool,n=t.locale.controls,r=t.localeColor.colorPicker,i=sl.defaultColors,o=function(){t.toolSnapshot()},a=function(){var e=document.getElementById("fileUpload");e&&(e.value=null,e.click())},s=function(e){var n=e.target.files;t.addFiles(n)},l=!t.isStickerSelected||!t.tintable&&t.isStickerSelected;return p.createElement(Jb.Controlsbar,{shouldAnimateHeight:!1,shouldAnimateOverflow:!1,overflowAfterExpand:!0},p.createElement(Ih.Input.Form,null,t.isCustomStickerEnabled?p.createElement(Xu,{ariaLabel:n.buttonUpload,onClick:a,fullWidth:!0},n.buttonUpload,p.createElement(x_,{onChange:s})):null,p.createElement(Ih.Spacer,{count:2}),p.createElement(Ih.Input.Slider,{isDisabled:!t.isStickerSelected,label:n.sliderOpacity,value:t.opacity,min:0,max:1,onChange:t.changeOpacity,onMouseUp:o,onTouchEnd:o}),p.createElement(Ih.Spacer,{count:2}),p.createElement(Ih.Input.Selection,{isDisabled:l,label:n.selectColor},p.createElement(Yv,{activeSprite:t.id,parentId:n.selectColor,activeColor:t.tintColor,colors:i,labelsColor:r,isDisabled:l,onChange:t.changeTintColor,onAddSnapshot:t.tintColorSnapshot}))),p.createElement(Jb.ItemsSeparator,null))}))),S_=e.div(Kb||(Kb=A(["\n  opacity: 0;\n  visibility: hidden;\n  display: none;\n  flex-wrap: wrap;\n\n  ","\n"],["\n  opacity: 0;\n  visibility: hidden;\n  display: none;\n  flex-wrap: wrap;\n\n  ","\n"])),(function(e){return e.show&&n(Yb||(Yb=A(["\n      opacity: 1;\n      visibility: visible;\n      ","\n    "],["\n      opacity: 1;\n      visibility: visible;\n      ","\n    "])),Qe()?n(Gb||(Gb=A(["\n            display: block;\n          "],["\n            display: block;\n          "]))):n(Xb||(Xb=A(["\n            display: flex;\n          "],["\n            display: flex;\n          "]))))})),E_=rc("stickerTool","custom")(wc((function(e){var t=e.stickerTool,n=e.custom,r=t,i=r.categories,o=r.selectedCategoryIdentifier,a=r.flattenCategories,s=r.entities,l=function(e){var r=t.locale.items[e.identifier]||e.name,i=n.getAdvancedItemCard();return p.createElement(i,{key:e.identifier,tool:j.STICKER,type:B.SMALL,onClick:function(){return t.add(e.identifier)},image:e.thumbnailURI,label:r,style:{backgroundSize:"75%",animationDelay:(.3*e.delay||0)+"s"}},p.createElement(Jb.CardLabel,{hidden:!0},r))};return p.createElement(Jb.Itemsbar,null,p.createElement(Jb.CardContainer,null,a?s.map(l):i.map((function(e){var r=o===e.identifier,i=t.locale.categories[e.identifier]||e.name,a=n.getAdvancedCategoryCard();return p.createElement("div",{key:e.identifier},p.createElement(a,{isActive:r,tool:j.STICKER,type:B.LARGE,onClick:function(){return t.toggleCategorySelection(e.identifier)},image:e.thumbnailURI,label:i,style:{animationDelay:(e.delay||0)+"s"}},p.createElement(Jb.CardLabel,{withBackground:!0,caret:!0,isActive:r},i)),p.createElement(S_,{show:r,key:e.identifier+"-items"},e.items.map(l)))}))))}))),k_=rc("stickerTool")(wc((function(e){var t=e.stickerTool,n=e.displayTitle;return p.createElement(p.Fragment,null,n&&p.createElement(Jb.Sidebar.Heading,null,t.locale.title),p.createElement(w_,null),p.createElement(E_,null))}))),C_=e.div(qb||(qb=A(["\n  position: relative;\n"],["\n  position: relative;\n"]))),T_=e.div($b||($b=A(["\n  display: flex;\n  justify-content: space-between;\n\n  "," {\n    min-width: 50%;\n  }\n\n  "," {\n    padding-left: 8px;\n    width: 50%;\n  }\n"],["\n  display: flex;\n  justify-content: space-between;\n\n  "," {\n    min-width: 50%;\n  }\n\n  "," {\n    padding-left: 8px;\n    width: 50%;\n  }\n"])),qp,_f),O_=rc("textTool","custom")(wc((function(e){var t,n=e.textTool,r=e.custom,i=n.locale.controls,o=n.localeColor.colorPicker,a=n,s=a.fontFamilies,l=a.alignment,c=a.isTextSelected,u=a.fontFamily,d=a.fontStyle,f=a.fontWeight,h=Us.defaultColors,m=Us.defaultBackgroundColors,g=["left","center","right"],y=function(){n.toolSnapshot()},v=s.map((function(e){return{label:e.fontFamily+" "+Us.getDisplayFontStyle(e),fontWeight:e.fontWeight||"",fontStyle:e.fontStyle||"",fontFamily:e.fontFamily||"",value:e.identifier}})),b=v.filter((function(e){return e.value===n.identifier}))[0];return p.createElement(Jb.Controlsbar,{show:!0,overflowAfterExpand:!0,shouldAnimateHeight:!1},p.createElement(Ih.Input.Form,null,p.createElement(Xu,{ariaLabel:i.buttonNew,onClick:function(){n.add()},fullWidth:!0},i.buttonNew),p.createElement(Ih.Spacer,{count:2}),p.createElement(Ih.Input.Dropdown,{isDisabled:!c,style:{fontFamily:u,fontStyle:d,fontWeight:f},itemStyle:function(e){return{fontFamily:e.fontFamily,fontStyle:e.fontStyle,fontWeight:e.fontWeight}},label:i.dropdownFontFamily,list:v,onSelect:n.changeFont,selectedItem:b.label}),p.createElement(Ih.Spacer,{count:2}),p.createElement(T_,null,p.createElement(Ih.Input.NummericInput,{value:n.fontSize.toFixed(0),onSubmit:function(e){var t=e?parseFloat(e):0;n.setFontSize(Math.max(10,Math.min(690,t)))},label:i.textFontSize,isDisabled:!c}),p.createElement(Ih.Input.Selection,{isDisabled:!c,inline:!0,label:i.selectAlignment},(t=r.getButton("textAlignment"),g.map((function(e){var r=Kg[e];return p.createElement(t,{isDisabled:!c,ariaLabel:"Align "+e,isActive:e===l,key:e,style:{padding:"1px 3px 2px"},icon:p.createElement(r,null),onClick:function(){return n.changeAlignment(e)}})}))))),p.createElement(Ih.Spacer,{count:2}),p.createElement(C_,null,p.createElement(Jb.ItemsSeparator,{full:!0})),p.createElement(Ih.Spacer,{count:2}),p.createElement(Ih.Input.Selection,{isDisabled:!c,label:i.selectFontColor},p.createElement(Yv,{activeSprite:n.id,parentId:i.selectFontColor,activeColor:n.textColor,colors:h,labelsColor:o,isDisabled:!c,onChange:n.changeColor,onAddSnapshot:n.colorSnapshot})),p.createElement(Ih.Spacer,{count:2}),p.createElement(Ih.Input.Selection,{isDisabled:!c,label:i.selectBackgroundColor},p.createElement(Yv,{activeSprite:n.id,parentId:i.selectBackgroundColor,activeColor:n.backgroundColor,colors:m,labelsColor:o,isDisabled:!c,onChange:n.changeBackgroundColor,onAddSnapshot:n.backgroundColorSnapshot})),p.createElement(Ih.Spacer,{count:2}),p.createElement(C_,null,p.createElement(Jb.ItemsSeparator,{full:!0})),p.createElement(Ih.Spacer,{count:2}),p.createElement(Ih.Input.Slider,{isDisabled:!c,label:i.sliderLineSpacing,value:n.lineHeight,min:.5,max:3,onChange:n.changeLineHeight,onMouseUp:y,onTouchEnd:y,snap:1,divider:1,decimal:1}),p.createElement(Ih.Spacer,{count:1})))}))),I_=rc("textTool")(wc((function(e){var t=e.textTool,n=e.displayTitle;return p.createElement(p.Fragment,null,n&&p.createElement(Jb.Sidebar.Heading,null,t.locale.title),p.createElement(O_,null),p.createElement(Jb.Itemsbar,null))}))),R_=rc("textDesignTool")(wc((function(e){var t=e.textDesignTool,n=t.locale.controls,r=t.localeColor.colorPicker,i=Vs.colors,o=t.isTextDesignSelected;return p.createElement(Jb.Controlsbar,{shouldAnimateOverflow:!1,shouldAnimateHeight:!1},p.createElement(Ih.Input.Form,null,p.createElement(Xu,{ariaLabel:n.buttonNew,onClick:function(){t.add()},fullWidth:!0},n.buttonNew),p.createElement(Ih.Spacer,{count:2}),p.createElement(Ku,{ariaLabel:n.buttonShuffle,isDisabled:!o,onClick:function(){t.changeSeed()},fullWidth:!0},n.buttonShuffle),p.createElement(Ih.Spacer,{count:2}),p.createElement(Ih.Input.Selection,{isDisabled:!o,label:n.selectColor},p.createElement(Yv,{activeSprite:t.id,parentId:n.selectColor,activeColor:t.color,colors:i,labelsColor:r,isDisabled:!o,onChange:t.changeColor,onAddSnapshot:t.colorSnapshot}))),p.createElement(Jb.ItemsSeparator,null))}))),M_=rc("textDesignTool","custom")(wc((function(e){var t=e.textDesignTool,n=e.custom,r=t.entities,i=t.identifier;return p.createElement(Jb.Itemsbar,null,p.createElement(Jb.CardContainer,null,r.map((function(e){var r=n.getAdvancedItemCard();return p.createElement(r,{key:e.identifier,tool:j.TEXT_DESIGN,type:B.MEDIUM,onClick:function(){return function(e){t.changeIdentifier(e)}(e.identifier)},image:e.thumbnailURI,label:e.name||"",style:{animationDelay:(e.delay||0)+"s",backgroundSize:"60%"},isDisabled:!t.isTextDesignSelected,isActive:i===e.identifier},p.createElement(Jb.CardLabel,{hidden:!0},e.name))}))))}))),A_=rc("textDesignTool")(wc((function(e){var t=e.textDesignTool,n=e.displayTitle;return p.createElement(p.Fragment,null,n&&p.createElement(Jb.Sidebar.Heading,null,t.locale.title),p.createElement(R_,null),p.createElement(M_,null))}))),P_=rc("frameTool","custom")(wc((function(e){var t=e.frameTool,n=e.custom,r=t.entities,i=t.state?t.state.identifier:null;return p.createElement(Jb.Itemsbar,null,p.createElement(Jb.CardContainer,null,r.map((function(e){var r=t.locale.items[e.identifier]||e.name,o=n.getAdvancedItemCard();return p.createElement(o,{tool:j.FRAME,type:B.MEDIUM,onClick:function(){return t.selectFrame(e.identifier)},key:e.identifier,image:e.thumbnailURI,label:r,style:{backgroundSize:"75%",animationDelay:(e.delay||0)+"s"},isActive:e.identifier===i},p.createElement(Jb.CardLabel,{hidden:!0},r))}))))}))),z_=rc("frameTool")(wc((function(e){var t=e.frameTool,n=t.locale.controls,r=t.localeColor.colorPicker,i=t.tintable,o=Is.colors,a=function(e){t.toolSnapshot(e)};return p.createElement(Jb.Controlsbar,{show:t.isOptionSelected,overflowAfterExpand:!0},p.createElement(Ku,{ariaLabel:n.buttonReset,onClick:function(){t.reset()},fullWidth:!0},n.buttonReset),p.createElement(Ih.Spacer,{count:2}),p.createElement(Ih.Input.Slider,{"aria-hidden":!t.isOptionSelected,label:n.sliderOpacity,value:t.opacity,min:0,max:1,onChange:t.changeOpacity,onMouseUp:function(){a(n.sliderOpacity)},onTouchEnd:function(){a(n.sliderOpacity)}}),p.createElement(Ih.Spacer,{count:2}),p.createElement(Ih.Input.Slider,{"aria-hidden":!t.isOptionSelected,label:n.sliderSize,value:t.size,min:t.minSize,max:t.maxSize,divider:1,onChange:t.changeWidth,onMouseUp:function(){a(n.sliderSize)},onTouchEnd:function(){a(n.sliderSize)}}),p.createElement(Ih.Spacer,{count:2}),p.createElement(Ih.Input.Selection,{isDisabled:!i,label:n.selectColor},p.createElement(Yv,{parentId:n.selectColor,activeColor:t.color,colors:o,labelsColor:r,isDisabled:!i,onChange:t.changeColor,onAddSnapshot:t.colorSnapshot})),p.createElement(Jb.ItemsSeparator,null))}))),D_=rc("frameTool")(wc((function(e){var t=e.frameTool,n=e.displayTitle;return p.createElement(p.Fragment,null,n&&p.createElement(Jb.Sidebar.Heading,null,t.locale.title),p.createElement(z_,null),p.createElement(P_,null))}))),L_=rc("brushTool")(wc((function(e){var t=e.brushTool,n=t.locale.controls,r=t.localeColor.colorPicker,i=zs.colors;return p.createElement(p.Fragment,null,p.createElement(Jb.Controlsbar,{show:t.isDirty},p.createElement(Ku,{ariaLabel:n.buttonReset,onClick:t.reset,fullWidth:!0},n.buttonReset),p.createElement(Jb.ItemsSeparator,null)),p.createElement(Jb.Controlsbar,{overflowAfterExpand:!0},p.createElement(Ih.Input.Selection,{label:n.selectColor},p.createElement(Yv,{parentId:n.selectColor,activeColor:t.color,colors:i,labelsColor:r,onChange:t.changeColor})),p.createElement(Ih.Spacer,{count:2}),p.createElement(Ih.Input.Slider,{label:n.sliderSize,value:t.size,min:1,max:100,divider:1,onChange:t.changeSize}),p.createElement(Ih.Spacer,{count:3}),p.createElement(Ih.Input.Slider,{label:n.sliderHardness,value:t.hardness,min:0,max:1,onChange:t.changeHardness}),p.createElement(Ih.Spacer,null)))}))),F_=rc("brushTool")(wc((function(e){var t=e.brushTool,n=e.displayTitle;return p.createElement(p.Fragment,null,n&&p.createElement(Jb.Sidebar.Heading,null,t.locale.title),p.createElement(L_,null),p.createElement(Jb.Itemsbar,null))}))),j_=rc("transformTool","custom")(wc((function(e){var t=e.transformTool,n=e.custom,r=t.locale.controls,i=t,o=i.forceDimensions,a=i.lockResolution,s=i.localOutputHeight,l=i.localOutputWidth,c=n.getCheckbox();return p.createElement(Jb.Controlsbar,{shouldAnimateHeight:!1},p.createElement(Ih.Input.Form,null,p.createElement(Ku,{ariaLabel:r.buttonReset,onClick:function(){t.reset()},fullWidth:!0},r.buttonReset),p.createElement(Ih.Spacer,{count:2}),p.createElement(c,{isDisabled:o,value:a,label:r.checkboxKeepResolution,checkMarkPosition:"right",onClick:t.changeLockResolution,style:{paddingTop:"5px",justifyContent:"space-between"}}),p.createElement(Ih.Spacer,{count:2}),p.createElement(Wv,{isDisabled:o,showLabel:!0,valueHeight:s,valueWidth:l,onPixelWidth:t.onPixelWidth,onPixelHeight:t.onPixelHeight,onChangeHeight:t.changeLocalOutputHeight,onChangeWidth:t.changeLocalOutputWidth,label:r.inputCropSize,labelHeight:r.inputHeight,labelWidth:r.inputWidth}),p.createElement(Ih.Spacer,{count:1})),p.createElement(Jb.ItemsSeparator,null))}))),B_=rc("transformTool","custom","editor")(wc((function(e){var t=e.transformTool,n=e.custom,r=e.editor,i=t,o=i.categories,a=i.items,s=i.identifier,l=i.config,c=function(e){var i=e.identifier===s,o=r.configStore,a=o.theme,l=o.measurements;if(e.thumbnailURI&&t.checkIfTransformThumbnailExits(e.thumbnailURI)){var c=t.locale.items[e.identifier]||e.name,u=n.getAdvancedItemCard();return p.createElement(u,{key:e.identifier,tool:j.TRANSFORM,type:B.MEDIUM,onClick:function(){return t.changeIdentifier(e.identifier,!0)},image:e.thumbnailURI,label:c,style:{backgroundSize:"80%",animationDelay:(e.delay||0)+"s"},isActive:i},p.createElement(Jb.CardLabel,null,c))}var d=e.identifier.includes("imgly_transform_common"),f=ey.crops[e.identifier]||ey.crops.imgly_transform_common_custom,h=p.createElement(f,{width:l.advancedCard.medium.width-(d?42:0),height:l.advancedCard.medium.height-(d?42:0),main:a.transform.crops.main,highlight:a.transform.crops.highlight,shadow:a.transform.crops.shadow}),m=t.locale.categories[e.identifier]||e.name,g=n.getAdvancedItemCard();return p.createElement(g,{tool:j.TRANSFORM,type:B.MEDIUM,onClick:function(){return t.changeIdentifier(e.identifier,!0)},key:e.identifier,image:"'data:image/svg+xml,"+encodeURIComponent(x(h))+"'",label:m,style:{animationDelay:(e.delay||0)+"s",backgroundSize:Qe()||Je()?"auto":"unset"},isActive:i},p.createElement(Jb.CardLabel,null,m))},u=function(e){return p.createElement("div",{style:{position:"relative"}},p.createElement(Jb.CardContainer,null,e.map(c)))};return p.createElement(Jb.Itemsbar,null,l.flattenCategories?u(a):p.createElement(p.Fragment,null,o.map((function(e,t){return e.items&&p.createElement("div",{style:{position:"relative"},key:e.identifier},0!==t?p.createElement(Ih.Spacer,{count:2}):null,p.createElement(Jb.Sidebar.SubHeading,null,e.name),p.createElement(Jb.CardContainer,null,e.items.map(c)),p.createElement(Ih.Spacer,{count:2}),t!==o.length-1?p.createElement(Jb.ItemsSeparator,{full:!0}):null)||null})),u(o.filter((function(e){return!e.items})))))}))),U_=rc("transformTool")(wc((function(e){var t=e.transformTool,n=e.displayTitle;return p.createElement(p.Fragment,null,n&&p.createElement(Jb.Sidebar.Heading,null,t.locale.title),p.createElement(j_,null),p.createElement(B_,null))}))),N_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return S(t,e),t.prototype.render=function(){var e=this.props.active.tool,t=this.props.config.config.displayToolControlBarTitle;return p.createElement(Jb.Sidebar.Index,null,p.createElement(Ih.Switch.Index,{type:e},p.createElement(Ih.Switch.Case,{value:j.LIBRARY},p.createElement(a_,{displayTitle:t})),p.createElement(Ih.Switch.Case,{value:j.FILTER},p.createElement(d_,{displayTitle:t})),p.createElement(Ih.Switch.Case,{value:j.FOCUS},p.createElement(h_,{displayTitle:t})),p.createElement(Ih.Switch.Case,{value:j.ADJUSTMENT},p.createElement(y_,{displayTitle:t})),p.createElement(Ih.Switch.Case,{value:j.OVERLAY},p.createElement(__,{displayTitle:t})),p.createElement(Ih.Switch.Case,{value:j.STICKER},p.createElement(k_,{displayTitle:t})),p.createElement(Ih.Switch.Case,{value:j.TEXT},p.createElement(I_,{displayTitle:t})),p.createElement(Ih.Switch.Case,{value:j.TEXT_DESIGN},p.createElement(A_,{displayTitle:t})),p.createElement(Ih.Switch.Case,{value:j.FRAME},p.createElement(D_,{displayTitle:t})),p.createElement(Ih.Switch.Case,{value:j.BRUSH},p.createElement(F_,{displayTitle:t})),p.createElement(Ih.Switch.Case,{value:j.TRANSFORM},p.createElement(U_,{displayTitle:t}))))},t=C([rc("active","config"),wc],t)}(p.Component),H_=e.div(Zb||(Zb=A(["\n  position: absolute;\n  height: 100%;\n  width: ","px;\n  top: 0;\n  background: ",";\n  z-index: ",";\n"],["\n  position: absolute;\n  height: 100%;\n  width: ","px;\n  top: 0;\n  background: ",";\n  z-index: ",";\n"])),(function(e){return e.theme.measurements.advancedUIToolbar.width+e.theme.measurements.advancedUIToolControlBar.width}),(function(e){return e.theme.webcam.backdrop}),(function(e){return e.theme.measurements.zIndex.disable})),W_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hasError:!1},t}return S(t,e),t.getDerivedStateFromError=function(e){return console.error(e),{hasError:!0}},t.prototype.render=function(){var e=this.props,t=e.config,n=e.active;return t.isOrderDefault?p.createElement(Ih.Container,null,n.isWebcam?p.createElement(H_,{style:{left:0}}):null,p.createElement(Vv,null),p.createElement(n_,null),p.createElement(N_,null),p.createElement(Wh,null,p.createElement(Bv,null),p.createElement(kv,null))):p.createElement(Ih.Container,null,n.isWebcam?p.createElement(H_,{style:{right:0}}):null,p.createElement(Vv,null),p.createElement(Wh,null,p.createElement(Bv,null),p.createElement(kv,null)),p.createElement(N_,null),p.createElement(n_,null))},t}(p.Component),V_=rc("config","active")(wc(W_)),G_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return S(t,e),t.prototype.componentDidMount=function(){this.editor=this.props.editor,this.storeProps=this.props.storeProps;var e=new Gv(this.editor.configStore.config.custom.components,{advancedUICategoryCard:Jb.Card,advancedUIItemCard:Jb.Card,advancedUIToolbarItem:Qb}),t={getAdvancedCategoryCard:e.getAdvancedCategoryCard,getAdvancedItemCard:e.getAdvancedItemCard,getAdvancedToolbarItem:e.getAdvancedToolbarItem,getLoader:e.getLoader,getButton:e.getButton,getColorItem:e.getColorItem,getCheckbox:e.getCheckbox};this.storeProps.custom=t,this.forceUpdate()},t.prototype.render=function(){return this.storeProps?p.createElement(Ic,E({},this.storeProps),p.createElement(r,{theme:E({},this.editor.configStore.theme,{measurements:this.editor.configStore.measurements})},p.createElement(V_,null))):null},t}(p.Component),X_=Jb.CardLabel,Y_=Object.freeze({__proto__:null,AdvancedUI:G_,ToolbarItem:Qb,CardLabel:X_});function K_(){}function q_(){q_.init.call(this)}function $_(e){return void 0===e._maxListeners?q_.defaultMaxListeners:e._maxListeners}function Z_(e,t,n){if(t)e.call(n);else for(var r=e.length,i=ox(e,r),o=0;o<r;++o)i[o].call(n)}function J_(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,o=ox(e,i),a=0;a<i;++a)o[a].call(n,r)}function Q_(e,t,n,r,i){if(t)e.call(n,r,i);else for(var o=e.length,a=ox(e,o),s=0;s<o;++s)a[s].call(n,r,i)}function ex(e,t,n,r,i,o){if(t)e.call(n,r,i,o);else for(var a=e.length,s=ox(e,a),l=0;l<a;++l)s[l].call(n,r,i,o)}function tx(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,o=ox(e,i),a=0;a<i;++a)o[a].apply(n,r)}function nx(e,t,n,r){var i,o,a,s;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((o=e._events)?(o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]):(o=e._events=new K_,e._eventsCount=0),a){if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),!a.warned&&(i=$_(e))&&i>0&&a.length>i){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,s=l,"function"==typeof console.warn?console.warn(s):console.log(s)}}else a=o[t]=n,++e._eventsCount;return e}function rx(e,t,n){var r=!1;function i(){e.removeListener(t,i),r||(r=!0,n.apply(e,arguments))}return i.listener=n,i}function ix(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function ox(e,t){for(var n=new Array(t);t--;)n[t]=e[t];return n}function ax(){var e;q_.call(this),this.__emitError=(e=this,function(t){e.emit("error",t)})}function sx(){return new ax}document.onkeydown=function(e){13===e.keyCode&&document.activeElement&&document.activeElement.click()},K_.prototype=Object.create(null),q_.EventEmitter=q_,q_.usingDomains=!1,q_.prototype.domain=void 0,q_.prototype._events=void 0,q_.prototype._maxListeners=void 0,q_.defaultMaxListeners=10,q_.init=function(){this.domain=null,q_.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new K_,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},q_.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},q_.prototype.getMaxListeners=function(){return $_(this)},q_.prototype.emit=function(e){var t,n,r,i,o,a,s,l="error"===e;if(a=this._events)l=l&&null==a.error;else if(!l)return!1;if(s=this.domain,l){if(t=arguments[1],!s){if(t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}return t||(t=new Error('Uncaught, unspecified "error" event')),t.domainEmitter=this,t.domain=s,t.domainThrown=!1,s.emit("error",t),!1}if(!(n=a[e]))return!1;var u="function"==typeof n;switch(r=arguments.length){case 1:Z_(n,u,this);break;case 2:J_(n,u,this,arguments[1]);break;case 3:Q_(n,u,this,arguments[1],arguments[2]);break;case 4:ex(n,u,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),o=1;o<r;o++)i[o-1]=arguments[o];tx(n,u,this,i)}return!0},q_.prototype.addListener=function(e,t){return nx(this,e,t,!1)},q_.prototype.on=q_.prototype.addListener,q_.prototype.prependListener=function(e,t){return nx(this,e,t,!0)},q_.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,rx(this,e,t)),this},q_.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,rx(this,e,t)),this},q_.prototype.removeListener=function(e,t){var n,r,i,o,a;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener&&n.listener===t)0==--this._eventsCount?this._events=new K_:(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length;o-- >0;)if(n[o]===t||n[o].listener&&n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;if(1===n.length){if(n[0]=void 0,0==--this._eventsCount)return this._events=new K_,this;delete r[e]}else!function(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}(n,i);r.removeListener&&this.emit("removeListener",e,a||t)}return this},q_.prototype.removeAllListeners=function(e){var t,n;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=new K_,this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=new K_:delete n[e]),this;if(0===arguments.length){for(var r,i=Object.keys(n),o=0;o<i.length;++o)"removeListener"!==(r=i[o])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=new K_,this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)do{this.removeListener(e,t[t.length-1])}while(t[0]);return this},q_.prototype.listeners=function(e){var t,n=this._events;return n&&(t=n[e])?"function"==typeof t?[t.listener||t]:function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(t):[]},q_.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):ix.call(e,t)},q_.prototype.listenerCount=ix,q_.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]},("function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e})(ax,q_),ax.prototype.add=function(e){e.on("error",this.__emitError)},ax.prototype.remove=function(e){e.removeListener("error",this.__emitError)},ax.prototype.bind=function(e){var t=this.__emitError;return function(){var n=Array.prototype.slice.call(arguments);try{e.apply(null,n)}catch(e){t(e)}}},ax.prototype.intercept=function(e){var t=this.__emitError;return function(n){if(n)t(n);else{var r=Array.prototype.slice.call(arguments,1);try{e.apply(null,r)}catch(n){t(n)}}}},ax.prototype.run=function(e){var t=this.__emitError;try{e()}catch(e){t(e)}return this},ax.prototype.dispose=function(){return this.removeAllListeners(),this},ax.prototype.enter=ax.prototype.exit=function(){return this};var lx,cx={Domain:ax,createDomain:sx,create:sx},ux="function"==typeof setImmediate,dx=px;function px(e){fx.length||(yx(),hx=!0),fx[fx.length]=e}var fx=[],hx=!1,mx=0;function gx(){for(;mx<fx.length;){var e=mx;if(mx+=1,fx[e].call(),mx>1024){for(var t=0,n=fx.length-mx;t<n;t++)fx[t]=fx[t+mx];fx.length-=mx,mx=0}}fx.length=0,mx=0,hx=!1}function yx(){var e=process.domain;e&&(lx||(lx=cx),lx.active=process.domain=null),hx&&ux?setImmediate(gx):process.nextTick(gx),e&&(lx.active=process.domain=e)}function vx(){}px.requestFlush=yx;var bx=null,_x={};var xx=wx;function wx(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("Promise constructor's argument is not a function");this._U=0,this._V=0,this._W=null,this._X=null,e!==vx&&Ox(e,this)}function Sx(e,t){for(;3===e._V;)e=e._W;if(wx._Y&&wx._Y(e),0===e._V)return 0===e._U?(e._U=1,void(e._X=t)):1===e._U?(e._U=2,void(e._X=[e._X,t])):void e._X.push(t);!function(e,t){dx((function(){var n=1===e._V?t.onFulfilled:t.onRejected;if(null!==n){var r=function(e,t){try{return e(t)}catch(e){return bx=e,_x}}(n,e._W);r===_x?kx(t.promise,bx):Ex(t.promise,r)}else 1===e._V?Ex(t.promise,e._W):kx(t.promise,e._W)}))}(e,t)}function Ex(e,t){if(t===e)return kx(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var n=function(e){try{return e.then}catch(e){return bx=e,_x}}(t);if(n===_x)return kx(e,bx);if(n===e.then&&t instanceof wx)return e._V=3,e._W=t,void Cx(e);if("function"==typeof n)return void Ox(n.bind(t),e)}e._V=1,e._W=t,Cx(e)}function kx(e,t){e._V=2,e._W=t,wx._Z&&wx._Z(e,t),Cx(e)}function Cx(e){if(1===e._U&&(Sx(e,e._X),e._X=null),2===e._U){for(var t=0;t<e._X.length;t++)Sx(e,e._X[t]);e._X=null}}function Tx(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function Ox(e,t){var n=!1,r=function(e,t,n){try{e(t,n)}catch(e){return bx=e,_x}}(e,(function(e){n||(n=!0,Ex(t,e))}),(function(e){n||(n=!0,kx(t,e))}));n||r!==_x||(n=!0,kx(t,bx))}wx._Y=null,wx._Z=null,wx._0=vx,wx.prototype.then=function(e,t){if(this.constructor!==wx)return function(e,t,n){return new e.constructor((function(r,i){var o=new wx(vx);o.then(r,i),Sx(e,new Tx(t,n,o))}))}(this,e,t);var n=new wx(vx);return Sx(this,new Tx(e,t,n)),n};var Ix=[ReferenceError,TypeError,RangeError],Rx=!1;function Mx(){Rx=!1,xx._Y=null,xx._Z=null}function Ax(e,t){return t.some((function(t){return e instanceof t}))}var Px={disable:Mx,enable:function(e){e=e||{},Rx&&Mx();Rx=!0;var t=0,n=0,r={};function i(t){(e.allRejections||Ax(r[t].error,e.whitelist||Ix))&&(r[t].displayId=n++,e.onUnhandled?(r[t].logged=!0,e.onUnhandled(r[t].displayId,r[t].error)):(r[t].logged=!0,function(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):"),((t&&(t.stack||t))+"").split("\n").forEach((function(e){console.warn("  "+e)}))}(r[t].displayId,r[t].error)))}xx._Y=function(t){2===t._V&&r[t._1]&&(r[t._1].logged?function(t){r[t].logged&&(e.onHandled?e.onHandled(r[t].displayId,r[t].error):r[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+r[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+r[t].displayId+".")))}(t._1):clearTimeout(r[t._1].timeout),delete r[t._1])},xx._Z=function(e,n){0===e._U&&(e._1=t++,r[e._1]={displayId:null,error:n,timeout:setTimeout(i.bind(null,e._1),Ax(n,Ix)?100:2e3),logged:!1})}}},zx=xx,Dx=Nx(!0),Lx=Nx(!1),Fx=Nx(null),jx=Nx(void 0),Bx=Nx(0),Ux=Nx("");function Nx(e){var t=new xx(xx._0);return t._V=1,t._W=e,t}xx.resolve=function(e){if(e instanceof xx)return e;if(null===e)return Fx;if(void 0===e)return jx;if(!0===e)return Dx;if(!1===e)return Lx;if(0===e)return Bx;if(""===e)return Ux;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new xx(t.bind(e))}catch(e){return new xx((function(t,n){n(e)}))}return Nx(e)};var Hx=function(e){return"function"==typeof Array.from?(Hx=Array.from,Array.from(e)):(Hx=function(e){return Array.prototype.slice.call(e)},Array.prototype.slice.call(e))};xx.all=function(e){var t=Hx(e);return new xx((function(e,n){if(0===t.length)return e([]);var r=t.length;function i(o,a){if(a&&("object"==typeof a||"function"==typeof a)){if(a instanceof xx&&a.then===xx.prototype.then){for(;3===a._V;)a=a._W;return 1===a._V?i(o,a._W):(2===a._V&&n(a._W),void a.then((function(e){i(o,e)}),n))}var s=a.then;if("function"==typeof s)return void new xx(s.bind(a)).then((function(e){i(o,e)}),n)}t[o]=a,0==--r&&e(t)}for(var o=0;o<t.length;o++)i(o,t[o])}))},xx.reject=function(e){return new xx((function(t,n){n(e)}))},xx.race=function(e){return new xx((function(t,n){Hx(e).forEach((function(e){xx.resolve(e).then(t,n)}))}))},xx.prototype.catch=function(e){return this.then(null,e)};var Wx="URLSearchParams"in self,Vx="Symbol"in self&&"iterator"in Symbol,Gx="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),Xx="FormData"in self,Yx="ArrayBuffer"in self;if(Yx)var Kx=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],qx=ArrayBuffer.isView||function(e){return e&&Kx.indexOf(Object.prototype.toString.call(e))>-1};function $x(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function Zx(e){return"string"!=typeof e&&(e=String(e)),e}function Jx(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return Vx&&(t[Symbol.iterator]=function(){return t}),t}function Qx(e){this.map={},e instanceof Qx?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function ew(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function tw(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function nw(e){var t=new FileReader,n=tw(t);return t.readAsArrayBuffer(e),n}function rw(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function iw(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:Gx&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:Xx&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:Wx&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():Yx&&Gx&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=rw(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Yx&&(ArrayBuffer.prototype.isPrototypeOf(e)||qx(e))?this._bodyArrayBuffer=rw(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Wx&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Gx&&(this.blob=function(){var e=ew(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?ew(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(nw)}),this.text=function(){var e=ew(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=tw(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Xx&&(this.formData=function(){return this.text().then(sw)}),this.json=function(){return this.text().then(JSON.parse)},this}Qx.prototype.append=function(e,t){e=$x(e),t=Zx(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},Qx.prototype.delete=function(e){delete this.map[$x(e)]},Qx.prototype.get=function(e){return e=$x(e),this.has(e)?this.map[e]:null},Qx.prototype.has=function(e){return this.map.hasOwnProperty($x(e))},Qx.prototype.set=function(e,t){this.map[$x(e)]=Zx(t)},Qx.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},Qx.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),Jx(e)},Qx.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),Jx(e)},Qx.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),Jx(e)},Vx&&(Qx.prototype[Symbol.iterator]=Qx.prototype.entries);var ow=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function aw(e,t){var n,r,i=(t=t||{}).body;if(e instanceof aw){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new Qx(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new Qx(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),ow.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function sw(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function lw(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new Qx(t.headers),this.url=t.url||"",this._initBody(e)}aw.prototype.clone=function(){return new aw(this,{body:this._bodyInit})},iw.call(aw.prototype),iw.call(lw.prototype),lw.prototype.clone=function(){return new lw(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Qx(this.headers),url:this.url})},lw.error=function(){var e=new lw(null,{status:0,statusText:""});return e.type="error",e};var cw=[301,302,303,307,308];lw.redirect=function(e,t){if(-1===cw.indexOf(t))throw new RangeError("Invalid status code");return new lw(null,{status:t,headers:{location:e}})};var uw=self.DOMException;try{new uw}catch(e){(uw=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),uw.prototype.constructor=uw}function dw(e,t){return new Promise((function(n,r){var i=new aw(e,t);if(i.signal&&i.signal.aborted)return r(new uw("Aborted","AbortError"));var o=new XMLHttpRequest;function a(){o.abort()}o.onload=function(){var e,t,r={status:o.status,statusText:o.statusText,headers:(e=o.getAllResponseHeaders()||"",t=new Qx,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};r.url="responseURL"in o?o.responseURL:r.headers.get("X-Request-URL");var i="response"in o?o.response:o.responseText;n(new lw(i,r))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.onabort=function(){r(new uw("Aborted","AbortError"))},o.open(i.method,i.url,!0),"include"===i.credentials?o.withCredentials=!0:"omit"===i.credentials&&(o.withCredentials=!1),"responseType"in o&&Gx&&(o.responseType="blob"),i.headers.forEach((function(e,t){o.setRequestHeader(t,e)})),i.signal&&(i.signal.addEventListener("abort",a),o.onreadystatechange=function(){4===o.readyState&&i.signal.removeEventListener("abort",a)}),o.send(void 0===i._bodyInit?null:i._bodyInit)}))}dw.polyfill=!0,self.fetch||(self.fetch=dw,self.Headers=Qx,self.Request=aw,self.Response=lw)
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/;var pw=Object.getOwnPropertySymbols,fw=Object.prototype.hasOwnProperty,hw=Object.prototype.propertyIsEnumerable;function mw(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var gw=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,r,i=mw(e),o=1;o<arguments.length;o++){for(var a in n=Object(arguments[o]))fw.call(n,a)&&(i[a]=n[a]);if(pw){r=pw(n);for(var s=0;s<r.length;s++)hw.call(n,r[s])&&(i[r[s]]=n[r[s]])}}return i},yw=function(e){return e&&e.Math==Math&&e},vw=yw("object"==typeof globalThis&&globalThis)||yw("object"==typeof window&&window)||yw("object"==typeof self&&self)||yw("object"==typeof Xi&&Xi)||Function("return this")(),bw=function(e){try{return!!e()}catch(e){return!0}},_w=!bw((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),xw={}.propertyIsEnumerable,ww=Object.getOwnPropertyDescriptor,Sw={f:ww&&!xw.call({1:2},1)?function(e){var t=ww(this,e);return!!t&&t.enumerable}:xw},Ew=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},kw={}.toString,Cw=function(e){return kw.call(e).slice(8,-1)},Tw="".split,Ow=bw((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==Cw(e)?Tw.call(e,""):Object(e)}:Object,Iw=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},Rw=function(e){return Ow(Iw(e))},Mw=function(e){return"object"==typeof e?null!==e:"function"==typeof e},Aw=function(e,t){if(!Mw(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!Mw(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!Mw(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!Mw(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},Pw={}.hasOwnProperty,zw=function(e,t){return Pw.call(e,t)},Dw=vw.document,Lw=Mw(Dw)&&Mw(Dw.createElement),Fw=function(e){return Lw?Dw.createElement(e):{}},jw=!_w&&!bw((function(){return 7!=Object.defineProperty(Fw("div"),"a",{get:function(){return 7}}).a})),Bw=Object.getOwnPropertyDescriptor,Uw={f:_w?Bw:function(e,t){if(e=Rw(e),t=Aw(t,!0),jw)try{return Bw(e,t)}catch(e){}if(zw(e,t))return Ew(!Sw.f.call(e,t),e[t])}},Nw=function(e){if(!Mw(e))throw TypeError(String(e)+" is not an object");return e},Hw=Object.defineProperty,Ww={f:_w?Hw:function(e,t,n){if(Nw(e),t=Aw(t,!0),Nw(n),jw)try{return Hw(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},Vw=_w?function(e,t,n){return Ww.f(e,t,Ew(1,n))}:function(e,t,n){return e[t]=n,e},Gw=function(e,t){try{Vw(vw,e,t)}catch(n){vw[e]=t}return t},Xw=vw["__core-js_shared__"]||Gw("__core-js_shared__",{}),Yw=Function.toString;"function"!=typeof Xw.inspectSource&&(Xw.inspectSource=function(e){return Yw.call(e)});var Kw,qw,$w,Zw=Xw.inspectSource,Jw=vw.WeakMap,Qw="function"==typeof Jw&&/native code/.test(Zw(Jw)),eS=Yi((function(e){(e.exports=function(e,t){return Xw[e]||(Xw[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})})),tS=0,nS=Math.random(),rS=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++tS+nS).toString(36)},iS=eS("keys"),oS=function(e){return iS[e]||(iS[e]=rS(e))},aS={},sS=vw.WeakMap;if(Qw){var lS=new sS,cS=lS.get,uS=lS.has,dS=lS.set;Kw=function(e,t){return dS.call(lS,e,t),t},qw=function(e){return cS.call(lS,e)||{}},$w=function(e){return uS.call(lS,e)}}else{var pS=oS("state");aS[pS]=!0,Kw=function(e,t){return Vw(e,pS,t),t},qw=function(e){return zw(e,pS)?e[pS]:{}},$w=function(e){return zw(e,pS)}}var fS,hS,mS={set:Kw,get:qw,has:$w,enforce:function(e){return $w(e)?qw(e):Kw(e,{})},getterFor:function(e){return function(t){var n;if(!Mw(t)||(n=qw(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},gS=Yi((function(e){var t=mS.get,n=mS.enforce,r=String(String).split("String");(e.exports=function(e,t,i,o){var a=!!o&&!!o.unsafe,s=!!o&&!!o.enumerable,l=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof t||zw(i,"name")||Vw(i,"name",t),n(i).source=r.join("string"==typeof t?t:"")),e!==vw?(a?!l&&e[t]&&(s=!0):delete e[t],s?e[t]=i:Vw(e,t,i)):s?e[t]=i:Gw(t,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||Zw(this)}))})),yS=vw,vS=function(e){return"function"==typeof e?e:void 0},bS=function(e,t){return arguments.length<2?vS(yS[e])||vS(vw[e]):yS[e]&&yS[e][t]||vw[e]&&vw[e][t]},_S=Math.ceil,xS=Math.floor,wS=function(e){return isNaN(e=+e)?0:(e>0?xS:_S)(e)},SS=Math.min,ES=function(e){return e>0?SS(wS(e),9007199254740991):0},kS=Math.max,CS=Math.min,TS=function(e,t){var n=wS(e);return n<0?kS(n+t,0):CS(n,t)},OS=function(e){return function(t,n,r){var i,o=Rw(t),a=ES(o.length),s=TS(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},IS={includes:OS(!0),indexOf:OS(!1)},RS=IS.indexOf,MS=function(e,t){var n,r=Rw(e),i=0,o=[];for(n in r)!zw(aS,n)&&zw(r,n)&&o.push(n);for(;t.length>i;)zw(r,n=t[i++])&&(~RS(o,n)||o.push(n));return o},AS=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],PS=AS.concat("length","prototype"),zS={f:Object.getOwnPropertyNames||function(e){return MS(e,PS)}},DS={f:Object.getOwnPropertySymbols},LS=bS("Reflect","ownKeys")||function(e){var t=zS.f(Nw(e)),n=DS.f;return n?t.concat(n(e)):t},FS=function(e,t){for(var n=LS(t),r=Ww.f,i=Uw.f,o=0;o<n.length;o++){var a=n[o];zw(e,a)||r(e,a,i(t,a))}},jS=/#|\.prototype\./,BS=function(e,t){var n=NS[US(e)];return n==WS||n!=HS&&("function"==typeof t?bw(t):!!t)},US=BS.normalize=function(e){return String(e).replace(jS,".").toLowerCase()},NS=BS.data={},HS=BS.NATIVE="N",WS=BS.POLYFILL="P",VS=BS,GS=Uw.f,XS=function(e,t){var n,r,i,o,a,s=e.target,l=e.global,c=e.stat;if(n=l?vw:c?vw[s]||Gw(s,{}):(vw[s]||{}).prototype)for(r in t){if(o=t[r],i=e.noTargetGet?(a=GS(n,r))&&a.value:n[r],!VS(l?r:s+(c?".":"#")+r,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;FS(o,i)}(e.sham||i&&i.sham)&&Vw(o,"sham",!0),gS(n,r,o,e)}},YS=Array.isArray||function(e){return"Array"==Cw(e)},KS=function(e){return Object(Iw(e))},qS=function(e,t,n){var r=Aw(t);r in e?Ww.f(e,r,Ew(0,n)):e[r]=n},$S=!!Object.getOwnPropertySymbols&&!bw((function(){return!String(Symbol())})),ZS=$S&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,JS=eS("wks"),QS=vw.Symbol,eE=ZS?QS:QS&&QS.withoutSetter||rS,tE=function(e){return zw(JS,e)||($S&&zw(QS,e)?JS[e]=QS[e]:JS[e]=eE("Symbol."+e)),JS[e]},nE=tE("species"),rE=function(e,t){var n;return YS(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!YS(n.prototype)?Mw(n)&&null===(n=n[nE])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},iE=bS("navigator","userAgent")||"",oE=vw.process,aE=oE&&oE.versions,sE=aE&&aE.v8;sE?hS=(fS=sE.split("."))[0]+fS[1]:iE&&(!(fS=iE.match(/Edge\/(\d+)/))||fS[1]>=74)&&(fS=iE.match(/Chrome\/(\d+)/))&&(hS=fS[1]);var lE=hS&&+hS,cE=tE("species"),uE=function(e){return lE>=51||!bw((function(){var t=[];return(t.constructor={})[cE]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},dE=tE("isConcatSpreadable"),pE=lE>=51||!bw((function(){var e=[];return e[dE]=!1,e.concat()[0]!==e})),fE=uE("concat"),hE=function(e){if(!Mw(e))return!1;var t=e[dE];return void 0!==t?!!t:YS(e)};XS({target:"Array",proto:!0,forced:!pE||!fE},{concat:function(e){var t,n,r,i,o,a=KS(this),s=rE(a,0),l=0;for(t=-1,r=arguments.length;t<r;t++)if(o=-1===t?a:arguments[t],hE(o)){if(l+(i=ES(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,l++)n in o&&qS(s,l,o[n])}else{if(l>=9007199254740991)throw TypeError("Maximum allowed index exceeded");qS(s,l++,o)}return s.length=l,s}});var mE={};mE[tE("toStringTag")]="z";var gE="[object z]"===String(mE),yE=tE("toStringTag"),vE="Arguments"==Cw(function(){return arguments}()),bE=gE?Cw:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),yE))?n:vE?Cw(t):"Object"==(r=Cw(t))&&"function"==typeof t.callee?"Arguments":r},_E=gE?{}.toString:function(){return"[object "+bE(this)+"]"};gE||gS(Object.prototype,"toString",_E,{unsafe:!0});var xE,wE=Object.keys||function(e){return MS(e,AS)},SE=_w?Object.defineProperties:function(e,t){Nw(e);for(var n,r=wE(t),i=r.length,o=0;i>o;)Ww.f(e,n=r[o++],t[n]);return e},EE=bS("document","documentElement"),kE=oS("IE_PROTO"),CE=function(){},TE=function(e){return"<script>"+e+"<\/script>"},OE=function(){try{xE=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;OE=xE?function(e){e.write(TE("")),e.close();var t=e.parentWindow.Object;return e=null,t}(xE):((t=Fw("iframe")).style.display="none",EE.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(TE("document.F=Object")),e.close(),e.F);for(var n=AS.length;n--;)delete OE.prototype[AS[n]];return OE()};aS[kE]=!0;var IE=Object.create||function(e,t){var n;return null!==e?(CE.prototype=Nw(e),n=new CE,CE.prototype=null,n[kE]=e):n=OE(),void 0===t?n:SE(n,t)},RE=zS.f,ME={}.toString,AE="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],PE={f:function(e){return AE&&"[object Window]"==ME.call(e)?function(e){try{return RE(e)}catch(e){return AE.slice()}}(e):RE(Rw(e))}},zE={f:tE},DE=Ww.f,LE=function(e){var t=yS.Symbol||(yS.Symbol={});zw(t,e)||DE(t,e,{value:zE.f(e)})},FE=Ww.f,jE=tE("toStringTag"),BE=function(e,t,n){e&&!zw(e=n?e:e.prototype,jE)&&FE(e,jE,{configurable:!0,value:t})},UE=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},NE=function(e,t,n){if(UE(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},HE=[].push,WE=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=5==e||o;return function(s,l,c,u){for(var d,p,f=KS(s),h=Ow(f),m=NE(l,c,3),g=ES(h.length),y=0,v=u||rE,b=t?v(s,g):n?v(s,0):void 0;g>y;y++)if((a||y in h)&&(p=m(d=h[y],y,f),e))if(t)b[y]=p;else if(p)switch(e){case 3:return!0;case 5:return d;case 6:return y;case 2:HE.call(b,d)}else if(i)return!1;return o?-1:r||i?i:b}},VE={forEach:WE(0),map:WE(1),filter:WE(2),some:WE(3),every:WE(4),find:WE(5),findIndex:WE(6)},GE=VE.forEach,XE=oS("hidden"),YE=tE("toPrimitive"),KE=mS.set,qE=mS.getterFor("Symbol"),$E=Object.prototype,ZE=vw.Symbol,JE=bS("JSON","stringify"),QE=Uw.f,ek=Ww.f,tk=PE.f,nk=Sw.f,rk=eS("symbols"),ik=eS("op-symbols"),ok=eS("string-to-symbol-registry"),ak=eS("symbol-to-string-registry"),sk=eS("wks"),lk=vw.QObject,ck=!lk||!lk.prototype||!lk.prototype.findChild,uk=_w&&bw((function(){return 7!=IE(ek({},"a",{get:function(){return ek(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=QE($E,t);r&&delete $E[t],ek(e,t,n),r&&e!==$E&&ek($E,t,r)}:ek,dk=function(e,t){var n=rk[e]=IE(ZE.prototype);return KE(n,{type:"Symbol",tag:e,description:t}),_w||(n.description=t),n},pk=ZS?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof ZE},fk=function(e,t,n){e===$E&&fk(ik,t,n),Nw(e);var r=Aw(t,!0);return Nw(n),zw(rk,r)?(n.enumerable?(zw(e,XE)&&e[XE][r]&&(e[XE][r]=!1),n=IE(n,{enumerable:Ew(0,!1)})):(zw(e,XE)||ek(e,XE,Ew(1,{})),e[XE][r]=!0),uk(e,r,n)):ek(e,r,n)},hk=function(e,t){Nw(e);var n=Rw(t),r=wE(n).concat(vk(n));return GE(r,(function(t){_w&&!mk.call(n,t)||fk(e,t,n[t])})),e},mk=function(e){var t=Aw(e,!0),n=nk.call(this,t);return!(this===$E&&zw(rk,t)&&!zw(ik,t))&&(!(n||!zw(this,t)||!zw(rk,t)||zw(this,XE)&&this[XE][t])||n)},gk=function(e,t){var n=Rw(e),r=Aw(t,!0);if(n!==$E||!zw(rk,r)||zw(ik,r)){var i=QE(n,r);return!i||!zw(rk,r)||zw(n,XE)&&n[XE][r]||(i.enumerable=!0),i}},yk=function(e){var t=tk(Rw(e)),n=[];return GE(t,(function(e){zw(rk,e)||zw(aS,e)||n.push(e)})),n},vk=function(e){var t=e===$E,n=tk(t?ik:Rw(e)),r=[];return GE(n,(function(e){!zw(rk,e)||t&&!zw($E,e)||r.push(rk[e])})),r};if($S||(gS((ZE=function(){if(this instanceof ZE)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=rS(e),n=function(e){this===$E&&n.call(ik,e),zw(this,XE)&&zw(this[XE],t)&&(this[XE][t]=!1),uk(this,t,Ew(1,e))};return _w&&ck&&uk($E,t,{configurable:!0,set:n}),dk(t,e)}).prototype,"toString",(function(){return qE(this).tag})),gS(ZE,"withoutSetter",(function(e){return dk(rS(e),e)})),Sw.f=mk,Ww.f=fk,Uw.f=gk,zS.f=PE.f=yk,DS.f=vk,zE.f=function(e){return dk(tE(e),e)},_w&&(ek(ZE.prototype,"description",{configurable:!0,get:function(){return qE(this).description}}),gS($E,"propertyIsEnumerable",mk,{unsafe:!0}))),XS({global:!0,wrap:!0,forced:!$S,sham:!$S},{Symbol:ZE}),GE(wE(sk),(function(e){LE(e)})),XS({target:"Symbol",stat:!0,forced:!$S},{for:function(e){var t=String(e);if(zw(ok,t))return ok[t];var n=ZE(t);return ok[t]=n,ak[n]=t,n},keyFor:function(e){if(!pk(e))throw TypeError(e+" is not a symbol");if(zw(ak,e))return ak[e]},useSetter:function(){ck=!0},useSimple:function(){ck=!1}}),XS({target:"Object",stat:!0,forced:!$S,sham:!_w},{create:function(e,t){return void 0===t?IE(e):hk(IE(e),t)},defineProperty:fk,defineProperties:hk,getOwnPropertyDescriptor:gk}),XS({target:"Object",stat:!0,forced:!$S},{getOwnPropertyNames:yk,getOwnPropertySymbols:vk}),XS({target:"Object",stat:!0,forced:bw((function(){DS.f(1)}))},{getOwnPropertySymbols:function(e){return DS.f(KS(e))}}),JE){var bk=!$S||bw((function(){var e=ZE();return"[null]"!=JE([e])||"{}"!=JE({a:e})||"{}"!=JE(Object(e))}));XS({target:"JSON",stat:!0,forced:bk},{stringify:function(e,t,n){for(var r,i=[e],o=1;arguments.length>o;)i.push(arguments[o++]);if(r=t,(Mw(t)||void 0!==e)&&!pk(e))return YS(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!pk(t))return t}),i[1]=t,JE.apply(null,i)}})}ZE.prototype[YE]||Vw(ZE.prototype,YE,ZE.prototype.valueOf),BE(ZE,"Symbol"),aS[XE]=!0,LE("asyncIterator");var _k=Ww.f,xk=vw.Symbol;if(_w&&"function"==typeof xk&&(!("description"in xk.prototype)||void 0!==xk().description)){var wk={},Sk=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof Sk?new xk(e):void 0===e?xk():xk(e);return""===e&&(wk[t]=!0),t};FS(Sk,xk);var Ek=Sk.prototype=xk.prototype;Ek.constructor=Sk;var kk=Ek.toString,Ck="Symbol(test)"==String(xk("test")),Tk=/^Symbol\((.*)\)[^)]+$/;_k(Ek,"description",{configurable:!0,get:function(){var e=Mw(this)?this.valueOf():this,t=kk.call(e);if(zw(wk,e))return"";var n=Ck?t.slice(7,-1):t.replace(Tk,"$1");return""===n?void 0:n}}),XS({global:!0,forced:!0},{Symbol:Sk})}LE("hasInstance"),LE("isConcatSpreadable"),LE("iterator"),LE("match"),LE("matchAll"),LE("replace"),LE("search"),LE("species"),LE("split"),LE("toPrimitive"),LE("toStringTag"),LE("unscopables"),BE(Math,"Math",!0),BE(vw.JSON,"JSON",!0);yS.Symbol;LE("asyncDispose"),LE("dispose"),LE("observable"),LE("patternMatch"),LE("replaceAll");var Ok,Ik,Rk,Mk=function(e){return function(t,n){var r,i,o=String(Iw(t)),a=wS(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?e?o.charAt(a):r:e?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}},Ak={codeAt:Mk(!1),charAt:Mk(!0)},Pk=!bw((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),zk=oS("IE_PROTO"),Dk=Object.prototype,Lk=Pk?Object.getPrototypeOf:function(e){return e=KS(e),zw(e,zk)?e[zk]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Dk:null},Fk=tE("iterator"),jk=!1;[].keys&&("next"in(Rk=[].keys())?(Ik=Lk(Lk(Rk)))!==Object.prototype&&(Ok=Ik):jk=!0),null==Ok&&(Ok={}),zw(Ok,Fk)||Vw(Ok,Fk,(function(){return this}));var Bk={IteratorPrototype:Ok,BUGGY_SAFARI_ITERATORS:jk},Uk={},Nk=Bk.IteratorPrototype,Hk=function(){return this},Wk=function(e,t,n){var r=t+" Iterator";return e.prototype=IE(Nk,{next:Ew(1,n)}),BE(e,r,!1),Uk[r]=Hk,e},Vk=function(e){if(!Mw(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e},Gk=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return Nw(n),Vk(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),Xk=Bk.IteratorPrototype,Yk=Bk.BUGGY_SAFARI_ITERATORS,Kk=tE("iterator"),qk=function(){return this},$k=function(e,t,n,r,i,o,a){Wk(n,t,r);var s,l,c,u=function(e){if(e===i&&m)return m;if(!Yk&&e in f)return f[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",p=!1,f=e.prototype,h=f[Kk]||f["@@iterator"]||i&&f[i],m=!Yk&&h||u(i),g="Array"==t&&f.entries||h;if(g&&(s=Lk(g.call(new e)),Xk!==Object.prototype&&s.next&&(Lk(s)!==Xk&&(Gk?Gk(s,Xk):"function"!=typeof s[Kk]&&Vw(s,Kk,qk)),BE(s,d,!0))),"values"==i&&h&&"values"!==h.name&&(p=!0,m=function(){return h.call(this)}),f[Kk]!==m&&Vw(f,Kk,m),Uk[t]=m,i)if(l={values:u("values"),keys:o?m:u("keys"),entries:u("entries")},a)for(c in l)!Yk&&!p&&c in f||gS(f,c,l[c]);else XS({target:t,proto:!0,forced:Yk||p},l);return l},Zk=Ak.charAt,Jk=mS.set,Qk=mS.getterFor("String Iterator");$k(String,"String",(function(e){Jk(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=Qk(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=Zk(n,r),t.index+=e.length,{value:e,done:!1})}));var eC=function(e,t,n,r){try{return r?t(Nw(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&Nw(i.call(e)),t}},tC=tE("iterator"),nC=Array.prototype,rC=function(e){return void 0!==e&&(Uk.Array===e||nC[tC]===e)},iC=tE("iterator"),oC=function(e){if(null!=e)return e[iC]||e["@@iterator"]||Uk[bE(e)]},aC=function(e){var t,n,r,i,o,a,s=KS(e),l="function"==typeof this?this:Array,c=arguments.length,u=c>1?arguments[1]:void 0,d=void 0!==u,p=oC(s),f=0;if(d&&(u=NE(u,c>2?arguments[2]:void 0,2)),null==p||l==Array&&rC(p))for(n=new l(t=ES(s.length));t>f;f++)a=d?u(s[f],f):s[f],qS(n,f,a);else for(o=(i=p.call(s)).next,n=new l;!(r=o.call(i)).done;f++)a=d?eC(i,u,[r.value,f],!0):r.value,qS(n,f,a);return n.length=f,n},sC=tE("iterator"),lC=!1;try{var cC=0,uC={next:function(){return{done:!!cC++}},return:function(){lC=!0}};uC[sC]=function(){return this},Array.from(uC,(function(){throw 2}))}catch(e){}var dC=function(e,t){if(!t&&!lC)return!1;var n=!1;try{var r={};r[sC]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n},pC=!dC((function(e){Array.from(e)}));XS({target:"Array",stat:!0,forced:pC},{from:aC});yS.Array.from;"undefined"==typeof Promise&&(Px.enable(),self.Promise=zx),Object.assign=gw;var fC=Object.assign,hC=Object.defineProperty,mC=!fC||bw((function(){if(_w&&1!==fC({b:1},fC(hC({},"a",{enumerable:!0,get:function(){hC(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=fC({},e)[n]||"abcdefghijklmnopqrst"!=wE(fC({},t)).join("")}))?function(e,t){for(var n=KS(e),r=arguments.length,i=1,o=DS.f,a=Sw.f;r>i;)for(var s,l=Ow(arguments[i++]),c=o?wE(l).concat(o(l)):wE(l),u=c.length,d=0;u>d;)s=c[d++],_w&&!a.call(l,s)||(n[s]=l[s]);return n}:fC;XS({target:"Object",stat:!0,forced:Object.assign!==mC},{assign:mC}),XS({target:"Object",stat:!0,sham:!_w},{create:IE}),XS({target:"Object",stat:!0,forced:!_w,sham:!_w},{defineProperty:Ww.f}),XS({target:"Object",stat:!0,forced:!_w,sham:!_w},{defineProperties:SE});var gC=Sw.f,yC=function(e){return function(t){for(var n,r=Rw(t),i=wE(r),o=i.length,a=0,s=[];o>a;)n=i[a++],_w&&!gC.call(r,n)||s.push(e?[n,r[n]]:r[n]);return s}},vC={entries:yC(!0),values:yC(!1)},bC=vC.entries;XS({target:"Object",stat:!0},{entries:function(e){return bC(e)}});var _C=!bw((function(){return Object.isExtensible(Object.preventExtensions({}))})),xC=Yi((function(e){var t=Ww.f,n=rS("meta"),r=0,i=Object.isExtensible||function(){return!0},o=function(e){t(e,n,{value:{objectID:"O"+ ++r,weakData:{}}})},a=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!Mw(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!zw(e,n)){if(!i(e))return"F";if(!t)return"E";o(e)}return e[n].objectID},getWeakData:function(e,t){if(!zw(e,n)){if(!i(e))return!0;if(!t)return!1;o(e)}return e[n].weakData},onFreeze:function(e){return _C&&a.REQUIRED&&i(e)&&!zw(e,n)&&o(e),e}};aS[n]=!0})),wC=(xC.REQUIRED,xC.fastKey,xC.getWeakData,xC.onFreeze,xC.onFreeze),SC=Object.freeze,EC=bw((function(){SC(1)}));XS({target:"Object",stat:!0,forced:EC,sham:!_C},{freeze:function(e){return SC&&Mw(e)?SC(wC(e)):e}});var kC=Yi((function(e){var t=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,n,r,i,o){var a,s,l,c,u,d,p,f=NE(n,r,i?2:1);if(o)a=e;else{if("function"!=typeof(s=oC(e)))throw TypeError("Target is not iterable");if(rC(s)){for(l=0,c=ES(e.length);c>l;l++)if((u=i?f(Nw(p=e[l])[0],p[1]):f(e[l]))&&u instanceof t)return u;return new t(!1)}a=s.call(e)}for(d=a.next;!(p=d.call(a)).done;)if("object"==typeof(u=eC(a,f,p.value,i))&&u&&u instanceof t)return u;return new t(!1)}).stop=function(e){return new t(!0,e)}}));XS({target:"Object",stat:!0},{fromEntries:function(e){var t={};return kC(e,(function(e,n){qS(t,e,n)}),void 0,!0),t}});var CC=Uw.f,TC=bw((function(){CC(1)}));XS({target:"Object",stat:!0,forced:!_w||TC,sham:!_w},{getOwnPropertyDescriptor:function(e,t){return CC(Rw(e),t)}}),XS({target:"Object",stat:!0,sham:!_w},{getOwnPropertyDescriptors:function(e){for(var t,n,r=Rw(e),i=Uw.f,o=LS(r),a={},s=0;o.length>s;)void 0!==(n=i(r,t=o[s++]))&&qS(a,t,n);return a}});var OC=PE.f,IC=bw((function(){return!Object.getOwnPropertyNames(1)}));XS({target:"Object",stat:!0,forced:IC},{getOwnPropertyNames:OC});var RC=bw((function(){Lk(1)}));XS({target:"Object",stat:!0,forced:RC,sham:!Pk},{getPrototypeOf:function(e){return Lk(KS(e))}});var MC=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};XS({target:"Object",stat:!0},{is:MC});var AC=Object.isExtensible,PC=bw((function(){AC(1)}));XS({target:"Object",stat:!0,forced:PC},{isExtensible:function(e){return!!Mw(e)&&(!AC||AC(e))}});var zC=Object.isFrozen,DC=bw((function(){zC(1)}));XS({target:"Object",stat:!0,forced:DC},{isFrozen:function(e){return!Mw(e)||!!zC&&zC(e)}});var LC=Object.isSealed,FC=bw((function(){LC(1)}));XS({target:"Object",stat:!0,forced:FC},{isSealed:function(e){return!Mw(e)||!!LC&&LC(e)}});var jC=bw((function(){wE(1)}));XS({target:"Object",stat:!0,forced:jC},{keys:function(e){return wE(KS(e))}});var BC=xC.onFreeze,UC=Object.preventExtensions,NC=bw((function(){UC(1)}));XS({target:"Object",stat:!0,forced:NC,sham:!_C},{preventExtensions:function(e){return UC&&Mw(e)?UC(BC(e)):e}});var HC=xC.onFreeze,WC=Object.seal,VC=bw((function(){WC(1)}));XS({target:"Object",stat:!0,forced:VC,sham:!_C},{seal:function(e){return WC&&Mw(e)?WC(HC(e)):e}}),XS({target:"Object",stat:!0},{setPrototypeOf:Gk});var GC=vC.values;XS({target:"Object",stat:!0},{values:function(e){return GC(e)}});var XC=!bw((function(){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete vw[e]}));_w&&XS({target:"Object",proto:!0,forced:XC},{__defineGetter__:function(e,t){Ww.f(KS(this),e,{get:UE(t),enumerable:!0,configurable:!0})}}),_w&&XS({target:"Object",proto:!0,forced:XC},{__defineSetter__:function(e,t){Ww.f(KS(this),e,{set:UE(t),enumerable:!0,configurable:!0})}});var YC=Uw.f;_w&&XS({target:"Object",proto:!0,forced:XC},{__lookupGetter__:function(e){var t,n=KS(this),r=Aw(e,!0);do{if(t=YC(n,r))return t.get}while(n=Lk(n))}});var KC=Uw.f;_w&&XS({target:"Object",proto:!0,forced:XC},{__lookupSetter__:function(e){var t,n=KS(this),r=Aw(e,!0);do{if(t=KC(n,r))return t.set}while(n=Lk(n))}});var qC=[].slice,$C={},ZC=function(e,t,n){if(!(t in $C)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";$C[t]=Function("C,a","return new C("+r.join(",")+")")}return $C[t](e,n)},JC=Function.bind||function(e){var t=UE(this),n=qC.call(arguments,1),r=function(){var i=n.concat(qC.call(arguments));return this instanceof r?ZC(t,i.length,i):t.apply(e,i)};return Mw(t.prototype)&&(r.prototype=t.prototype),r};XS({target:"Function",proto:!0},{bind:JC});var QC=Ww.f,eT=Function.prototype,tT=eT.toString,nT=/^\s*function ([^ (]*)/;!_w||"name"in eT||QC(eT,"name",{configurable:!0,get:function(){try{return tT.call(this).match(nT)[1]}catch(e){return""}}});var rT=tE("hasInstance"),iT=Function.prototype;rT in iT||Ww.f(iT,rT,{value:function(e){if("function"!=typeof this||!Mw(e))return!1;if(!Mw(this.prototype))return e instanceof this;for(;e=Lk(e);)if(this.prototype===e)return!0;return!1}}),XS({global:!0},{globalThis:vw}),XS({target:"Array",stat:!0},{isArray:YS});var oT=bw((function(){function e(){}return!(Array.of.call(e)instanceof e)}));XS({target:"Array",stat:!0,forced:oT},{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)qS(n,e,arguments[e++]);return n.length=t,n}});var aT=Math.min,sT=[].copyWithin||function(e,t){var n=KS(this),r=ES(n.length),i=TS(e,r),o=TS(t,r),a=arguments.length>2?arguments[2]:void 0,s=aT((void 0===a?r:TS(a,r))-o,r-i),l=1;for(o<i&&i<o+s&&(l=-1,o+=s-1,i+=s-1);s-- >0;)o in n?n[i]=n[o]:delete n[i],i+=l,o+=l;return n},lT=tE("unscopables"),cT=Array.prototype;null==cT[lT]&&Ww.f(cT,lT,{configurable:!0,value:IE(null)});var uT=function(e){cT[lT][e]=!0};XS({target:"Array",proto:!0},{copyWithin:sT}),uT("copyWithin");var dT=function(e,t){var n=[][e];return!!n&&bw((function(){n.call(null,t||function(){throw 1},1)}))},pT=Object.defineProperty,fT={},hT=function(e){throw e},mT=function(e,t){if(zw(fT,e))return fT[e];t||(t={});var n=[][e],r=!!zw(t,"ACCESSORS")&&t.ACCESSORS,i=zw(t,0)?t[0]:hT,o=zw(t,1)?t[1]:void 0;return fT[e]=!!n&&!bw((function(){if(r&&!_w)return!0;var e={length:-1};r?pT(e,1,{enumerable:!0,get:hT}):e[1]=1,n.call(e,i,o)}))},gT=VE.every,yT=dT("every"),vT=mT("every");XS({target:"Array",proto:!0,forced:!yT||!vT},{every:function(e){return gT(this,e,arguments.length>1?arguments[1]:void 0)}});var bT=function(e){for(var t=KS(this),n=ES(t.length),r=arguments.length,i=TS(r>1?arguments[1]:void 0,n),o=r>2?arguments[2]:void 0,a=void 0===o?n:TS(o,n);a>i;)t[i++]=e;return t};XS({target:"Array",proto:!0},{fill:bT}),uT("fill");var _T=VE.filter,xT=uE("filter"),wT=mT("filter");XS({target:"Array",proto:!0,forced:!xT||!wT},{filter:function(e){return _T(this,e,arguments.length>1?arguments[1]:void 0)}});var ST=VE.find,ET=!0,kT=mT("find");"find"in[]&&Array(1).find((function(){ET=!1})),XS({target:"Array",proto:!0,forced:ET||!kT},{find:function(e){return ST(this,e,arguments.length>1?arguments[1]:void 0)}}),uT("find");var CT=VE.findIndex,TT=!0,OT=mT("findIndex");"findIndex"in[]&&Array(1).findIndex((function(){TT=!1})),XS({target:"Array",proto:!0,forced:TT||!OT},{findIndex:function(e){return CT(this,e,arguments.length>1?arguments[1]:void 0)}}),uT("findIndex");var IT=function(e,t,n,r,i,o,a,s){for(var l,c=i,u=0,d=!!a&&NE(a,s,3);u<r;){if(u in n){if(l=d?d(n[u],u,t):n[u],o>0&&YS(l))c=IT(e,t,l,ES(l.length),c,o-1)-1;else{if(c>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[c]=l}c++}u++}return c},RT=IT;XS({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=KS(this),n=ES(t.length),r=rE(t,0);return r.length=RT(r,t,t,n,0,void 0===e?1:wS(e)),r}}),XS({target:"Array",proto:!0},{flatMap:function(e){var t,n=KS(this),r=ES(n.length);return UE(e),(t=rE(n,0)).length=RT(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}});var MT=VE.forEach,AT=dT("forEach"),PT=mT("forEach"),zT=AT&&PT?[].forEach:function(e){return MT(this,e,arguments.length>1?arguments[1]:void 0)};XS({target:"Array",proto:!0,forced:[].forEach!=zT},{forEach:zT});var DT=IS.includes,LT=mT("indexOf",{ACCESSORS:!0,1:0});XS({target:"Array",proto:!0,forced:!LT},{includes:function(e){return DT(this,e,arguments.length>1?arguments[1]:void 0)}}),uT("includes");var FT=IS.indexOf,jT=[].indexOf,BT=!!jT&&1/[1].indexOf(1,-0)<0,UT=dT("indexOf"),NT=mT("indexOf",{ACCESSORS:!0,1:0});XS({target:"Array",proto:!0,forced:BT||!UT||!NT},{indexOf:function(e){return BT?jT.apply(this,arguments)||0:FT(this,e,arguments.length>1?arguments[1]:void 0)}});var HT=[].join,WT=Ow!=Object,VT=dT("join",",");XS({target:"Array",proto:!0,forced:WT||!VT},{join:function(e){return HT.call(Rw(this),void 0===e?",":e)}});var GT=Math.min,XT=[].lastIndexOf,YT=!!XT&&1/[1].lastIndexOf(1,-0)<0,KT=dT("lastIndexOf"),qT=mT("indexOf",{ACCESSORS:!0,1:0}),$T=YT||!KT||!qT?function(e){if(YT)return XT.apply(this,arguments)||0;var t=Rw(this),n=ES(t.length),r=n-1;for(arguments.length>1&&(r=GT(r,wS(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}:XT;XS({target:"Array",proto:!0,forced:$T!==[].lastIndexOf},{lastIndexOf:$T});var ZT=VE.map,JT=uE("map"),QT=mT("map");XS({target:"Array",proto:!0,forced:!JT||!QT},{map:function(e){return ZT(this,e,arguments.length>1?arguments[1]:void 0)}});var eO=function(e){return function(t,n,r,i){UE(n);var o=KS(t),a=Ow(o),s=ES(o.length),l=e?s-1:0,c=e?-1:1;if(r<2)for(;;){if(l in a){i=a[l],l+=c;break}if(l+=c,e?l<0:s<=l)throw TypeError("Reduce of empty array with no initial value")}for(;e?l>=0:s>l;l+=c)l in a&&(i=n(i,a[l],l,o));return i}},tO={left:eO(!1),right:eO(!0)},nO=tO.left,rO=dT("reduce"),iO=mT("reduce",{1:0});XS({target:"Array",proto:!0,forced:!rO||!iO},{reduce:function(e){return nO(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}});var oO=tO.right,aO=dT("reduceRight"),sO=mT("reduce",{1:0});XS({target:"Array",proto:!0,forced:!aO||!sO},{reduceRight:function(e){return oO(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}});var lO=[].reverse,cO=[1,2];XS({target:"Array",proto:!0,forced:String(cO)===String(cO.reverse())},{reverse:function(){return YS(this)&&(this.length=this.length),lO.call(this)}});var uO=uE("slice"),dO=mT("slice",{ACCESSORS:!0,0:0,1:2}),pO=tE("species"),fO=[].slice,hO=Math.max;XS({target:"Array",proto:!0,forced:!uO||!dO},{slice:function(e,t){var n,r,i,o=Rw(this),a=ES(o.length),s=TS(e,a),l=TS(void 0===t?a:t,a);if(YS(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!YS(n.prototype)?Mw(n)&&null===(n=n[pO])&&(n=void 0):n=void 0,n===Array||void 0===n))return fO.call(o,s,l);for(r=new(void 0===n?Array:n)(hO(l-s,0)),i=0;s<l;s++,i++)s in o&&qS(r,i,o[s]);return r.length=i,r}});var mO=VE.some,gO=dT("some"),yO=mT("some");XS({target:"Array",proto:!0,forced:!gO||!yO},{some:function(e){return mO(this,e,arguments.length>1?arguments[1]:void 0)}});var vO=[],bO=vO.sort,_O=bw((function(){vO.sort(void 0)})),xO=bw((function(){vO.sort(null)})),wO=dT("sort");XS({target:"Array",proto:!0,forced:_O||!xO||!wO},{sort:function(e){return void 0===e?bO.call(KS(this)):bO.call(KS(this),UE(e))}});var SO=uE("splice"),EO=mT("splice",{ACCESSORS:!0,0:0,1:2}),kO=Math.max,CO=Math.min;XS({target:"Array",proto:!0,forced:!SO||!EO},{splice:function(e,t){var n,r,i,o,a,s,l=KS(this),c=ES(l.length),u=TS(e,c),d=arguments.length;if(0===d?n=r=0:1===d?(n=0,r=c-u):(n=d-2,r=CO(kO(wS(t),0),c-u)),c+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(i=rE(l,r),o=0;o<r;o++)(a=u+o)in l&&qS(i,o,l[a]);if(i.length=r,n<r){for(o=u;o<c-r;o++)s=o+n,(a=o+r)in l?l[s]=l[a]:delete l[s];for(o=c;o>c-r+n;o--)delete l[o-1]}else if(n>r)for(o=c-r;o>u;o--)s=o+n-1,(a=o+r-1)in l?l[s]=l[a]:delete l[s];for(o=0;o<n;o++)l[o+u]=arguments[o+2];return l.length=c-r+n,i}});var TO=tE("species"),OO=function(e){var t=bS(e),n=Ww.f;_w&&t&&!t[TO]&&n(t,TO,{configurable:!0,get:function(){return this}})};OO("Array"),uT("flat"),uT("flatMap");var IO=mS.set,RO=mS.getterFor("Array Iterator"),MO=$k(Array,"Array",(function(e,t){IO(this,{type:"Array Iterator",target:Rw(e),index:0,kind:t})}),(function(){var e=RO(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");Uk.Arguments=Uk.Array,uT("keys"),uT("values"),uT("entries");var AO=String.fromCharCode,PO=String.fromCodePoint,zO=!!PO&&1!=PO.length;XS({target:"String",stat:!0,forced:zO},{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,i=0;r>i;){if(t=+arguments[i++],TS(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?AO(t):AO(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}}),XS({target:"String",stat:!0},{raw:function(e){for(var t=Rw(e.raw),n=ES(t.length),r=arguments.length,i=[],o=0;n>o;)i.push(String(t[o++])),o<r&&i.push(String(arguments[o]));return i.join("")}});var DO=Ak.codeAt;XS({target:"String",proto:!0},{codePointAt:function(e){return DO(this,e)}});var LO,FO=tE("match"),jO=function(e){var t;return Mw(e)&&(void 0!==(t=e[FO])?!!t:"RegExp"==Cw(e))},BO=function(e){if(jO(e))throw TypeError("The method doesn't accept regular expressions");return e},UO=tE("match"),NO=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[UO]=!1,"/./"[e](t)}catch(e){}}return!1},HO=Uw.f,WO="".endsWith,VO=Math.min,GO=NO("endsWith"),XO=!(GO||(LO=HO(String.prototype,"endsWith"),!LO||LO.writable));XS({target:"String",proto:!0,forced:!XO&&!GO},{endsWith:function(e){var t=String(Iw(this));BO(e);var n=arguments.length>1?arguments[1]:void 0,r=ES(t.length),i=void 0===n?r:VO(ES(n),r),o=String(e);return WO?WO.call(t,o,i):t.slice(i-o.length,i)===o}}),XS({target:"String",proto:!0,forced:!NO("includes")},{includes:function(e){return!!~String(Iw(this)).indexOf(BO(e),arguments.length>1?arguments[1]:void 0)}});var YO=function(){var e=Nw(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t};function KO(e,t){return RegExp(e,t)}var qO={UNSUPPORTED_Y:bw((function(){var e=KO("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),BROKEN_CARET:bw((function(){var e=KO("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},$O=RegExp.prototype.exec,ZO=String.prototype.replace,JO=$O,QO=function(){var e=/a/,t=/b*/g;return $O.call(e,"a"),$O.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),eI=qO.UNSUPPORTED_Y||qO.BROKEN_CARET,tI=void 0!==/()??/.exec("")[1];(QO||tI||eI)&&(JO=function(e){var t,n,r,i,o=this,a=eI&&o.sticky,s=YO.call(o),l=o.source,c=0,u=e;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),u=String(e).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==e[o.lastIndex-1])&&(l="(?: "+l+")",u=" "+u,c++),n=new RegExp("^(?:"+l+")",s)),tI&&(n=new RegExp("^"+l+"$(?!\\s)",s)),QO&&(t=o.lastIndex),r=$O.call(a?n:o,u),a?r?(r.input=r.input.slice(c),r[0]=r[0].slice(c),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:QO&&r&&(o.lastIndex=o.global?r.index+r[0].length:t),tI&&r&&r.length>1&&ZO.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r});var nI=JO;XS({target:"RegExp",proto:!0,forced:/./.exec!==nI},{exec:nI});var rI=tE("species"),iI=!bw((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),oI="$0"==="a".replace(/./,"$0"),aI=tE("replace"),sI=!!/./[aI]&&""===/./[aI]("a","$0"),lI=!bw((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),cI=function(e,t,n,r){var i=tE(e),o=!bw((function(){var t={};return t[i]=function(){return 7},7!=""[e](t)})),a=o&&!bw((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[rI]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return t=!0,null},n[i](""),!t}));if(!o||!a||"replace"===e&&(!iI||!oI||sI)||"split"===e&&!lI){var s=/./[i],l=n(i,""[e],(function(e,t,n,r,i){return t.exec===nI?o&&!i?{done:!0,value:s.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:oI,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:sI}),c=l[0],u=l[1];gS(String.prototype,e,c),gS(RegExp.prototype,i,2==t?function(e,t){return u.call(e,this,t)}:function(e){return u.call(e,this)})}r&&Vw(RegExp.prototype[i],"sham",!0)},uI=Ak.charAt,dI=function(e,t,n){return t+(n?uI(e,t).length:1)},pI=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==Cw(e))throw TypeError("RegExp#exec called on incompatible receiver");return nI.call(e,t)};cI("match",1,(function(e,t,n){return[function(t){var n=Iw(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var i=Nw(e),o=String(this);if(!i.global)return pI(i,o);var a=i.unicode;i.lastIndex=0;for(var s,l=[],c=0;null!==(s=pI(i,o));){var u=String(s[0]);l[c]=u,""===u&&(i.lastIndex=dI(o,ES(i.lastIndex),a)),c++}return 0===c?null:l}]}));var fI=tE("species"),hI=function(e,t){var n,r=Nw(e).constructor;return void 0===r||null==(n=Nw(r)[fI])?t:UE(n)},mI=tE("matchAll"),gI=mS.set,yI=mS.getterFor("RegExp String Iterator"),vI=RegExp.prototype,bI=vI.exec,_I="".matchAll,xI=!!_I&&!bw((function(){"a".matchAll(/./)})),wI=Wk((function(e,t,n,r){gI(this,{type:"RegExp String Iterator",regexp:e,string:t,global:n,unicode:r,done:!1})}),"RegExp String",(function(){var e=yI(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,n=e.string,r=function(e,t){var n,r=e.exec;if("function"==typeof r){if("object"!=typeof(n=r.call(e,t)))throw TypeError("Incorrect exec result");return n}return bI.call(e,t)}(t,n);return null===r?{value:void 0,done:e.done=!0}:e.global?(""==String(r[0])&&(t.lastIndex=dI(n,ES(t.lastIndex),e.unicode)),{value:r,done:!1}):(e.done=!0,{value:r,done:!1})})),SI=function(e){var t,n,r,i,o,a,s=Nw(this),l=String(e);return t=hI(s,RegExp),void 0===(n=s.flags)&&s instanceof RegExp&&!("flags"in vI)&&(n=YO.call(s)),r=void 0===n?"":String(n),i=new t(t===RegExp?s.source:s,r),o=!!~r.indexOf("g"),a=!!~r.indexOf("u"),i.lastIndex=ES(s.lastIndex),new wI(i,l,o,a)};XS({target:"String",proto:!0,forced:xI},{matchAll:function(e){var t,n,r=Iw(this);if(null!=e){if(jO(e)&&!~String(Iw("flags"in vI?e.flags:YO.call(e))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if(xI)return _I.apply(r,arguments);if(null!=(n=e[mI]))return UE(n).call(e,r)}else if(xI)return _I.apply(r,arguments);return t=String(r),new RegExp(e,"g")[mI](t)}}),mI in vI||Vw(vI,mI,SI);var EI="".repeat||function(e){var t=String(Iw(this)),n="",r=wS(e);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n},kI=Math.ceil,CI=function(e){return function(t,n,r){var i,o,a=String(Iw(t)),s=a.length,l=void 0===r?" ":String(r),c=ES(n);return c<=s||""==l?a:(i=c-s,(o=EI.call(l,kI(i/l.length))).length>i&&(o=o.slice(0,i)),e?a+o:o+a)}},TI={start:CI(!1),end:CI(!0)},OI=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(iE),II=TI.end;XS({target:"String",proto:!0,forced:OI},{padEnd:function(e){return II(this,e,arguments.length>1?arguments[1]:void 0)}});var RI=TI.start;XS({target:"String",proto:!0,forced:OI},{padStart:function(e){return RI(this,e,arguments.length>1?arguments[1]:void 0)}}),XS({target:"String",proto:!0},{repeat:EI});var MI=Math.max,AI=Math.min,PI=Math.floor,zI=/\$([$&'`]|\d\d?|<[^>]*>)/g,DI=/\$([$&'`]|\d\d?)/g;cI("replace",2,(function(e,t,n,r){var i=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,o=r.REPLACE_KEEPS_$0,a=i?"$":"$0";return[function(n,r){var i=Iw(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i,r):t.call(String(i),n,r)},function(e,r){if(!i&&o||"string"==typeof r&&-1===r.indexOf(a)){var l=n(t,e,this,r);if(l.done)return l.value}var c=Nw(e),u=String(this),d="function"==typeof r;d||(r=String(r));var p=c.global;if(p){var f=c.unicode;c.lastIndex=0}for(var h=[];;){var m=pI(c,u);if(null===m)break;if(h.push(m),!p)break;""===String(m[0])&&(c.lastIndex=dI(u,ES(c.lastIndex),f))}for(var g,y="",v=0,b=0;b<h.length;b++){m=h[b];for(var _=String(m[0]),x=MI(AI(wS(m.index),u.length),0),w=[],S=1;S<m.length;S++)w.push(void 0===(g=m[S])?g:String(g));var E=m.groups;if(d){var k=[_].concat(w,x,u);void 0!==E&&k.push(E);var C=String(r.apply(void 0,k))}else C=s(_,u,x,w,E,r);x>=v&&(y+=u.slice(v,x)+C,v=x+_.length)}return y+u.slice(v)}];function s(e,n,r,i,o,a){var s=r+e.length,l=i.length,c=DI;return void 0!==o&&(o=KS(o),c=zI),t.call(a,c,(function(t,a){var c;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(s);case"<":c=o[a.slice(1,-1)];break;default:var u=+a;if(0===u)return t;if(u>l){var d=PI(u/10);return 0===d?t:d<=l?void 0===i[d-1]?a.charAt(1):i[d-1]+a.charAt(1):t}c=i[u-1]}return void 0===c?"":c}))}})),cI("search",1,(function(e,t,n){return[function(t){var n=Iw(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var i=Nw(e),o=String(this),a=i.lastIndex;MC(a,0)||(i.lastIndex=0);var s=pI(i,o);return MC(i.lastIndex,a)||(i.lastIndex=a),null===s?-1:s.index}]}));var LI=[].push,FI=Math.min,jI=!bw((function(){return!RegExp(4294967295,"y")}));cI("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(Iw(this)),i=void 0===n?4294967295:n>>>0;if(0===i)return[];if(void 0===e)return[r];if(!jO(e))return t.call(r,e,i);for(var o,a,s,l=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),u=0,d=new RegExp(e.source,c+"g");(o=nI.call(d,r))&&!((a=d.lastIndex)>u&&(l.push(r.slice(u,o.index)),o.length>1&&o.index<r.length&&LI.apply(l,o.slice(1)),s=o[0].length,u=a,l.length>=i));)d.lastIndex===o.index&&d.lastIndex++;return u===r.length?!s&&d.test("")||l.push(""):l.push(r.slice(u)),l.length>i?l.slice(0,i):l}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=Iw(this),o=null==t?void 0:t[e];return void 0!==o?o.call(t,i,n):r.call(String(i),t,n)},function(e,i){var o=n(r,e,this,i,r!==t);if(o.done)return o.value;var a=Nw(e),s=String(this),l=hI(a,RegExp),c=a.unicode,u=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(jI?"y":"g"),d=new l(jI?a:"^(?:"+a.source+")",u),p=void 0===i?4294967295:i>>>0;if(0===p)return[];if(0===s.length)return null===pI(d,s)?[s]:[];for(var f=0,h=0,m=[];h<s.length;){d.lastIndex=jI?h:0;var g,y=pI(d,jI?s:s.slice(h));if(null===y||(g=FI(ES(d.lastIndex+(jI?0:h)),s.length))===f)h=dI(s,h,c);else{if(m.push(s.slice(f,h)),m.length===p)return m;for(var v=1;v<=y.length-1;v++)if(m.push(y[v]),m.length===p)return m;h=f=g}}return m.push(s.slice(f)),m}]}),!jI);var BI=Uw.f,UI="".startsWith,NI=Math.min,HI=NO("startsWith"),WI=!HI&&!!function(){var e=BI(String.prototype,"startsWith");return e&&!e.writable}();XS({target:"String",proto:!0,forced:!WI&&!HI},{startsWith:function(e){var t=String(Iw(this));BO(e);var n=ES(NI(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return UI?UI.call(t,r,n):t.slice(n,n+r.length)===r}});var VI="\t\n\v\f\r                　\u2028\u2029\ufeff",GI="["+VI+"]",XI=RegExp("^"+GI+GI+"*"),YI=RegExp(GI+GI+"*$"),KI=function(e){return function(t){var n=String(Iw(t));return 1&e&&(n=n.replace(XI,"")),2&e&&(n=n.replace(YI,"")),n}},qI={start:KI(1),end:KI(2),trim:KI(3)},$I=function(e){return bw((function(){return!!VI[e]()||"​᠎"!="​᠎"[e]()||VI[e].name!==e}))},ZI=qI.trim;XS({target:"String",proto:!0,forced:$I("trim")},{trim:function(){return ZI(this)}});var JI=qI.start,QI=$I("trimStart"),eR=QI?function(){return JI(this)}:"".trimStart;XS({target:"String",proto:!0,forced:QI},{trimStart:eR,trimLeft:eR});var tR=qI.end,nR=$I("trimEnd"),rR=nR?function(){return tR(this)}:"".trimEnd;XS({target:"String",proto:!0,forced:nR},{trimEnd:rR,trimRight:rR});var iR=/"/g,oR=function(e,t,n,r){var i=String(Iw(e)),o="<"+t;return""!==n&&(o+=" "+n+'="'+String(r).replace(iR,"&quot;")+'"'),o+">"+i+"</"+t+">"},aR=function(e){return bw((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))};XS({target:"String",proto:!0,forced:aR("anchor")},{anchor:function(e){return oR(this,"a","name",e)}}),XS({target:"String",proto:!0,forced:aR("big")},{big:function(){return oR(this,"big","","")}}),XS({target:"String",proto:!0,forced:aR("blink")},{blink:function(){return oR(this,"blink","","")}}),XS({target:"String",proto:!0,forced:aR("bold")},{bold:function(){return oR(this,"b","","")}}),XS({target:"String",proto:!0,forced:aR("fixed")},{fixed:function(){return oR(this,"tt","","")}}),XS({target:"String",proto:!0,forced:aR("fontcolor")},{fontcolor:function(e){return oR(this,"font","color",e)}}),XS({target:"String",proto:!0,forced:aR("fontsize")},{fontsize:function(e){return oR(this,"font","size",e)}}),XS({target:"String",proto:!0,forced:aR("italics")},{italics:function(){return oR(this,"i","","")}}),XS({target:"String",proto:!0,forced:aR("link")},{link:function(e){return oR(this,"a","href",e)}}),XS({target:"String",proto:!0,forced:aR("small")},{small:function(){return oR(this,"small","","")}}),XS({target:"String",proto:!0,forced:aR("strike")},{strike:function(){return oR(this,"strike","","")}}),XS({target:"String",proto:!0,forced:aR("sub")},{sub:function(){return oR(this,"sub","","")}}),XS({target:"String",proto:!0,forced:aR("sup")},{sup:function(){return oR(this,"sup","","")}});var sR=function(e,t,n){var r,i;return Gk&&"function"==typeof(r=t.constructor)&&r!==n&&Mw(i=r.prototype)&&i!==n.prototype&&Gk(e,i),e},lR=Ww.f,cR=zS.f,uR=mS.set,dR=tE("match"),pR=vw.RegExp,fR=pR.prototype,hR=/a/g,mR=/a/g,gR=new pR(hR)!==hR,yR=qO.UNSUPPORTED_Y;if(_w&&VS("RegExp",!gR||yR||bw((function(){return mR[dR]=!1,pR(hR)!=hR||pR(mR)==mR||"/a/i"!=pR(hR,"i")})))){for(var vR=function(e,t){var n,r=this instanceof vR,i=jO(e),o=void 0===t;if(!r&&i&&e.constructor===vR&&o)return e;gR?i&&!o&&(e=e.source):e instanceof vR&&(o&&(t=YO.call(e)),e=e.source),yR&&(n=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,""));var a=sR(gR?new pR(e,t):pR(e,t),r?this:fR,vR);return yR&&n&&uR(a,{sticky:n}),a},bR=function(e){e in vR||lR(vR,e,{configurable:!0,get:function(){return pR[e]},set:function(t){pR[e]=t}})},_R=cR(pR),xR=0;_R.length>xR;)bR(_R[xR++]);fR.constructor=vR,vR.prototype=fR,gS(vw,"RegExp",vR)}OO("RegExp"),_w&&("g"!=/./g.flags||qO.UNSUPPORTED_Y)&&Ww.f(RegExp.prototype,"flags",{configurable:!0,get:YO});var wR=qO.UNSUPPORTED_Y,SR=Ww.f,ER=mS.get,kR=RegExp.prototype;_w&&wR&&SR(RegExp.prototype,"sticky",{configurable:!0,get:function(){if(this!==kR){if(this instanceof RegExp)return!!ER(this).sticky;throw TypeError("Incompatible receiver, RegExp required")}}});var CR=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),TR=/./.test;XS({target:"RegExp",proto:!0,forced:!CR},{test:function(e){if("function"!=typeof this.exec)return TR.call(this,e);var t=this.exec(e);if(null!==t&&!Mw(t))throw new Error("RegExp exec method returned something other than an Object or null");return!!t}});var OR=RegExp.prototype,IR=OR.toString,RR=bw((function(){return"/a/b"!=IR.call({source:"a",flags:"b"})})),MR="toString"!=IR.name;(RR||MR)&&gS(RegExp.prototype,"toString",(function(){var e=Nw(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in OR)?YO.call(e):n)}),{unsafe:!0});var AR=qI.trim,PR=vw.parseInt,zR=/^[+-]?0[Xx]/,DR=8!==PR(VI+"08")||22!==PR(VI+"0x16")?function(e,t){var n=AR(String(e));return PR(n,t>>>0||(zR.test(n)?16:10))}:PR;XS({global:!0,forced:parseInt!=DR},{parseInt:DR});var LR=qI.trim,FR=vw.parseFloat,jR=1/FR(VI+"-0")!=-1/0?function(e){var t=LR(String(e)),n=FR(t);return 0===n&&"-"==t.charAt(0)?-0:n}:FR;XS({global:!0,forced:parseFloat!=jR},{parseFloat:jR});var BR=zS.f,UR=Uw.f,NR=Ww.f,HR=qI.trim,WR=vw.Number,VR=WR.prototype,GR="Number"==Cw(IE(VR)),XR=function(e){var t,n,r,i,o,a,s,l,c=Aw(e,!1);if("string"==typeof c&&c.length>2)if(43===(t=(c=HR(c)).charCodeAt(0))||45===t){if(88===(n=c.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(a=(o=c.slice(2)).length,s=0;s<a;s++)if((l=o.charCodeAt(s))<48||l>i)return NaN;return parseInt(o,r)}return+c};if(VS("Number",!WR(" 0o1")||!WR("0b1")||WR("+0x1"))){for(var YR,KR=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof KR&&(GR?bw((function(){VR.valueOf.call(n)})):"Number"!=Cw(n))?sR(new WR(XR(t)),n,KR):XR(t)},qR=_w?BR(WR):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),$R=0;qR.length>$R;$R++)zw(WR,YR=qR[$R])&&!zw(KR,YR)&&NR(KR,YR,UR(WR,YR));KR.prototype=VR,VR.constructor=KR,gS(vw,"Number",KR)}XS({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)});var ZR=vw.isFinite,JR=Number.isFinite||function(e){return"number"==typeof e&&ZR(e)};XS({target:"Number",stat:!0},{isFinite:JR});var QR=Math.floor,eM=function(e){return!Mw(e)&&isFinite(e)&&QR(e)===e};XS({target:"Number",stat:!0},{isInteger:eM}),XS({target:"Number",stat:!0},{isNaN:function(e){return e!=e}});var tM=Math.abs;XS({target:"Number",stat:!0},{isSafeInteger:function(e){return eM(e)&&tM(e)<=9007199254740991}}),XS({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991}),XS({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991}),XS({target:"Number",stat:!0,forced:Number.parseFloat!=jR},{parseFloat:jR}),XS({target:"Number",stat:!0,forced:Number.parseInt!=DR},{parseInt:DR});var nM=function(e){if("number"!=typeof e&&"Number"!=Cw(e))throw TypeError("Incorrect invocation");return+e},rM=1..toFixed,iM=Math.floor,oM=function(e,t,n){return 0===t?n:t%2==1?oM(e,t-1,n*e):oM(e*e,t/2,n)},aM=rM&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!bw((function(){rM.call({})}));XS({target:"Number",proto:!0,forced:aM},{toFixed:function(e){var t,n,r,i,o=nM(this),a=wS(e),s=[0,0,0,0,0,0],l="",c="0",u=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*s[n],s[n]=r%1e7,r=iM(r/1e7)},d=function(e){for(var t=6,n=0;--t>=0;)n+=s[t],s[t]=iM(n/e),n=n%e*1e7},p=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==s[e]){var n=String(s[e]);t=""===t?n:t+EI.call("0",7-n.length)+n}return t};if(a<0||a>20)throw RangeError("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return String(o);if(o<0&&(l="-",o=-o),o>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(o*oM(2,69,1))-69)<0?o*oM(2,-t,1):o/oM(2,t,1),n*=4503599627370496,(t=52-t)>0){for(u(0,n),r=a;r>=7;)u(1e7,0),r-=7;for(u(oM(10,r,1),0),r=t-1;r>=23;)d(1<<23),r-=23;d(1<<r),u(1,1),d(2),c=p()}else u(0,n),u(1<<-t,0),c=p()+EI.call("0",a);return c=a>0?l+((i=c.length)<=a?"0."+EI.call("0",a-i)+c:c.slice(0,i-a)+"."+c.slice(i-a)):l+c}});var sM=1..toPrecision,lM=bw((function(){return"1"!==sM.call(1,void 0)}))||!bw((function(){sM.call({})}));XS({target:"Number",proto:!0,forced:lM},{toPrecision:function(e){return void 0===e?sM.call(nM(this)):sM.call(nM(this),e)}});var cM=Math.log,uM=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:cM(1+e)},dM=Math.acosh,pM=Math.log,fM=Math.sqrt,hM=Math.LN2,mM=!dM||710!=Math.floor(dM(Number.MAX_VALUE))||dM(1/0)!=1/0;XS({target:"Math",stat:!0,forced:mM},{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?pM(e)+hM:uM(e-1+fM(e-1)*fM(e+1))}});var gM=Math.asinh,yM=Math.log,vM=Math.sqrt;XS({target:"Math",stat:!0,forced:!(gM&&1/gM(0)>0)},{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):yM(t+vM(t*t+1)):t}});var bM=Math.atanh,_M=Math.log;XS({target:"Math",stat:!0,forced:!(bM&&1/bM(-0)<0)},{atanh:function(e){return 0==(e=+e)?e:_M((1+e)/(1-e))/2}});var xM=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1},wM=Math.abs,SM=Math.pow;XS({target:"Math",stat:!0},{cbrt:function(e){return xM(e=+e)*SM(wM(e),1/3)}});var EM=Math.floor,kM=Math.log,CM=Math.LOG2E;XS({target:"Math",stat:!0},{clz32:function(e){return(e>>>=0)?31-EM(kM(e+.5)*CM):32}});var TM=Math.expm1,OM=Math.exp,IM=!TM||TM(10)>22025.465794806718||TM(10)<22025.465794806718||-2e-17!=TM(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:OM(e)-1}:TM,RM=Math.cosh,MM=Math.abs,AM=Math.E;XS({target:"Math",stat:!0,forced:!RM||RM(710)===1/0},{cosh:function(e){var t=IM(MM(e)-1)+1;return(t+1/(t*AM*AM))*(AM/2)}}),XS({target:"Math",stat:!0,forced:IM!=Math.expm1},{expm1:IM});var PM=Math.abs,zM=Math.pow,DM=zM(2,-52),LM=zM(2,-23),FM=zM(2,127)*(2-LM),jM=zM(2,-126),BM=Math.fround||function(e){var t,n,r=PM(e),i=xM(e);return r<jM?i*(r/jM/LM+1/DM-1/DM)*jM*LM:(n=(t=(1+LM/DM)*r)-(t-r))>FM||n!=n?i*(1/0):i*n};XS({target:"Math",stat:!0},{fround:BM});var UM=Math.hypot,NM=Math.abs,HM=Math.sqrt,WM=!!UM&&UM(1/0,NaN)!==1/0;XS({target:"Math",stat:!0,forced:WM},{hypot:function(e,t){for(var n,r,i=0,o=0,a=arguments.length,s=0;o<a;)s<(n=NM(arguments[o++]))?(i=i*(r=s/n)*r+1,s=n):i+=n>0?(r=n/s)*r:n;return s===1/0?1/0:s*HM(i)}});var VM=Math.imul,GM=bw((function(){return-5!=VM(4294967295,5)||2!=VM.length}));XS({target:"Math",stat:!0,forced:GM},{imul:function(e,t){var n=+e,r=+t,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}});var XM=Math.log,YM=Math.LOG10E;XS({target:"Math",stat:!0},{log10:function(e){return XM(e)*YM}}),XS({target:"Math",stat:!0},{log1p:uM});var KM=Math.log,qM=Math.LN2;XS({target:"Math",stat:!0},{log2:function(e){return KM(e)/qM}}),XS({target:"Math",stat:!0},{sign:xM});var $M=Math.abs,ZM=Math.exp,JM=Math.E,QM=bw((function(){return-2e-17!=Math.sinh(-2e-17)}));XS({target:"Math",stat:!0,forced:QM},{sinh:function(e){return $M(e=+e)<1?(IM(e)-IM(-e))/2:(ZM(e-1)-ZM(-e-1))*(JM/2)}});var eA=Math.exp;XS({target:"Math",stat:!0},{tanh:function(e){var t=IM(e=+e),n=IM(-e);return t==1/0?1:n==1/0?-1:(t-n)/(eA(e)+eA(-e))}});var tA=Math.ceil,nA=Math.floor;XS({target:"Math",stat:!0},{trunc:function(e){return(e>0?nA:tA)(e)}}),XS({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}});var rA=bw((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}));XS({target:"Date",proto:!0,forced:rA},{toJSON:function(e){var t=KS(this),n=Aw(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}});var iA=TI.start,oA=Math.abs,aA=Date.prototype,sA=aA.getTime,lA=aA.toISOString,cA=bw((function(){return"0385-07-25T07:06:39.999Z"!=lA.call(new Date(-5e13-1))}))||!bw((function(){lA.call(new Date(NaN))}))?function(){if(!isFinite(sA.call(this)))throw RangeError("Invalid time value");var e=this.getUTCFullYear(),t=this.getUTCMilliseconds(),n=e<0?"-":e>9999?"+":"";return n+iA(oA(e),n?6:4,0)+"-"+iA(this.getUTCMonth()+1,2,0)+"-"+iA(this.getUTCDate(),2,0)+"T"+iA(this.getUTCHours(),2,0)+":"+iA(this.getUTCMinutes(),2,0)+":"+iA(this.getUTCSeconds(),2,0)+"."+iA(t,3,0)+"Z"}:lA;XS({target:"Date",proto:!0,forced:Date.prototype.toISOString!==cA},{toISOString:cA});var uA=Date.prototype,dA=uA.toString,pA=uA.getTime;new Date(NaN)+""!="Invalid Date"&&gS(uA,"toString",(function(){var e=pA.call(this);return e==e?dA.call(this):"Invalid Date"}));var fA=tE("toPrimitive"),hA=Date.prototype;fA in hA||Vw(hA,fA,(function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return Aw(Nw(this),"number"!==e)}));var mA=bS("JSON","stringify"),gA=/[\uD800-\uDFFF]/g,yA=/^[\uD800-\uDBFF]$/,vA=/^[\uDC00-\uDFFF]$/,bA=function(e,t,n){var r=n.charAt(t-1),i=n.charAt(t+1);return yA.test(e)&&!vA.test(i)||vA.test(e)&&!yA.test(r)?"\\u"+e.charCodeAt(0).toString(16):e},_A=bw((function(){return'"\\udf06\\ud834"'!==mA("\udf06\ud834")||'"\\udead"'!==mA("\udead")}));mA&&XS({target:"JSON",stat:!0,forced:_A},{stringify:function(e,t,n){var r=mA.apply(null,arguments);return"string"==typeof r?r.replace(gA,bA):r}});var xA,wA,SA,EA=vw.Promise,kA=function(e,t,n){for(var r in t)gS(e,r,t[r],n);return e},CA=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},TA=/(iphone|ipod|ipad).*applewebkit/i.test(iE),OA=vw.location,IA=vw.setImmediate,RA=vw.clearImmediate,MA=vw.process,AA=vw.MessageChannel,PA=vw.Dispatch,zA=0,DA={},LA=function(e){if(DA.hasOwnProperty(e)){var t=DA[e];delete DA[e],t()}},FA=function(e){return function(){LA(e)}},jA=function(e){LA(e.data)},BA=function(e){vw.postMessage(e+"",OA.protocol+"//"+OA.host)};IA&&RA||(IA=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return DA[++zA]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},xA(zA),zA},RA=function(e){delete DA[e]},"process"==Cw(MA)?xA=function(e){MA.nextTick(FA(e))}:PA&&PA.now?xA=function(e){PA.now(FA(e))}:AA&&!TA?(SA=(wA=new AA).port2,wA.port1.onmessage=jA,xA=NE(SA.postMessage,SA,1)):!vw.addEventListener||"function"!=typeof postMessage||vw.importScripts||bw(BA)||"file:"===OA.protocol?xA="onreadystatechange"in Fw("script")?function(e){EE.appendChild(Fw("script")).onreadystatechange=function(){EE.removeChild(this),LA(e)}}:function(e){setTimeout(FA(e),0)}:(xA=BA,vw.addEventListener("message",jA,!1)));var UA,NA,HA,WA,VA,GA,XA,YA,KA={set:IA,clear:RA},qA=Uw.f,$A=KA.set,ZA=vw.MutationObserver||vw.WebKitMutationObserver,JA=vw.process,QA=vw.Promise,eP="process"==Cw(JA),tP=qA(vw,"queueMicrotask"),nP=tP&&tP.value;nP||(UA=function(){var e,t;for(eP&&(e=JA.domain)&&e.exit();NA;){t=NA.fn,NA=NA.next;try{t()}catch(e){throw NA?WA():HA=void 0,e}}HA=void 0,e&&e.enter()},eP?WA=function(){JA.nextTick(UA)}:ZA&&!TA?(VA=!0,GA=document.createTextNode(""),new ZA(UA).observe(GA,{characterData:!0}),WA=function(){GA.data=VA=!VA}):QA&&QA.resolve?(XA=QA.resolve(void 0),YA=XA.then,WA=function(){YA.call(XA,UA)}):WA=function(){$A.call(vw,UA)});var rP,iP,oP,aP,sP=nP||function(e){var t={fn:e,next:void 0};HA&&(HA.next=t),NA||(NA=t,WA()),HA=t},lP=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=UE(t),this.reject=UE(n)},cP={f:function(e){return new lP(e)}},uP=function(e,t){if(Nw(e),Mw(t)&&t.constructor===e)return t;var n=cP.f(e);return(0,n.resolve)(t),n.promise},dP=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},pP=KA.set,fP=tE("species"),hP="Promise",mP=mS.get,gP=mS.set,yP=mS.getterFor(hP),vP=EA,bP=vw.TypeError,_P=vw.document,xP=vw.process,wP=bS("fetch"),SP=cP.f,EP=SP,kP="process"==Cw(xP),CP=!!(_P&&_P.createEvent&&vw.dispatchEvent),TP=VS(hP,(function(){if(!(Zw(vP)!==String(vP))){if(66===lE)return!0;if(!kP&&"function"!=typeof PromiseRejectionEvent)return!0}if(lE>=51&&/native code/.test(vP))return!1;var e=vP.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[fP]=t,!(e.then((function(){}))instanceof t)})),OP=TP||!dC((function(e){vP.all(e).catch((function(){}))})),IP=function(e){var t;return!(!Mw(e)||"function"!=typeof(t=e.then))&&t},RP=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;sP((function(){for(var i=t.value,o=1==t.state,a=0;r.length>a;){var s,l,c,u=r[a++],d=o?u.ok:u.fail,p=u.resolve,f=u.reject,h=u.domain;try{d?(o||(2===t.rejection&&zP(e,t),t.rejection=1),!0===d?s=i:(h&&h.enter(),s=d(i),h&&(h.exit(),c=!0)),s===u.promise?f(bP("Promise-chain cycle")):(l=IP(s))?l.call(s,p,f):p(s)):f(i)}catch(e){h&&!c&&h.exit(),f(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&AP(e,t)}))}},MP=function(e,t,n){var r,i;CP?((r=_P.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),vw.dispatchEvent(r)):r={promise:t,reason:n},(i=vw["on"+e])?i(r):"unhandledrejection"===e&&function(e,t){var n=vw.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},AP=function(e,t){pP.call(vw,(function(){var n,r=t.value;if(PP(t)&&(n=dP((function(){kP?xP.emit("unhandledRejection",r,e):MP("unhandledrejection",e,r)})),t.rejection=kP||PP(t)?2:1,n.error))throw n.value}))},PP=function(e){return 1!==e.rejection&&!e.parent},zP=function(e,t){pP.call(vw,(function(){kP?xP.emit("rejectionHandled",e):MP("rejectionhandled",e,t.value)}))},DP=function(e,t,n,r){return function(i){e(t,n,i,r)}},LP=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,RP(e,t,!0))},FP=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw bP("Promise can't be resolved itself");var i=IP(n);i?sP((function(){var r={done:!1};try{i.call(n,DP(FP,e,r,t),DP(LP,e,r,t))}catch(n){LP(e,r,n,t)}})):(t.value=n,t.state=1,RP(e,t,!1))}catch(n){LP(e,{done:!1},n,t)}}};TP&&(vP=function(e){CA(this,vP,hP),UE(e),rP.call(this);var t=mP(this);try{e(DP(FP,this,t),DP(LP,this,t))}catch(e){LP(this,t,e)}},(rP=function(e){gP(this,{type:hP,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=kA(vP.prototype,{then:function(e,t){var n=yP(this),r=SP(hI(this,vP));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=kP?xP.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&RP(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),iP=function(){var e=new rP,t=mP(e);this.promise=e,this.resolve=DP(FP,e,t),this.reject=DP(LP,e,t)},cP.f=SP=function(e){return e===vP||e===oP?new iP(e):EP(e)},"function"==typeof EA&&(aP=EA.prototype.then,gS(EA.prototype,"then",(function(e,t){var n=this;return new vP((function(e,t){aP.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof wP&&XS({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return uP(vP,wP.apply(vw,arguments))}}))),XS({global:!0,wrap:!0,forced:TP},{Promise:vP}),BE(vP,hP,!1),OO(hP),oP=bS(hP),XS({target:hP,stat:!0,forced:TP},{reject:function(e){var t=SP(this);return t.reject.call(void 0,e),t.promise}}),XS({target:hP,stat:!0,forced:TP},{resolve:function(e){return uP(this,e)}}),XS({target:hP,stat:!0,forced:OP},{all:function(e){var t=this,n=SP(t),r=n.resolve,i=n.reject,o=dP((function(){var n=UE(t.resolve),o=[],a=0,s=1;kC(e,(function(e){var l=a++,c=!1;o.push(void 0),s++,n.call(t,e).then((function(e){c||(c=!0,o[l]=e,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=SP(t),r=n.reject,i=dP((function(){var i=UE(t.resolve);kC(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}}),XS({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=cP.f(t),r=n.resolve,i=n.reject,o=dP((function(){var n=UE(t.resolve),i=[],o=0,a=1;kC(e,(function(e){var s=o++,l=!1;i.push(void 0),a++,n.call(t,e).then((function(e){l||(l=!0,i[s]={status:"fulfilled",value:e},--a||r(i))}),(function(e){l||(l=!0,i[s]={status:"rejected",reason:e},--a||r(i))}))})),--a||r(i)}));return o.error&&i(o.value),n.promise}});var jP=!!EA&&bw((function(){EA.prototype.finally.call({then:function(){}},(function(){}))}));XS({target:"Promise",proto:!0,real:!0,forced:jP},{finally:function(e){var t=hI(this,bS("Promise")),n="function"==typeof e;return this.then(n?function(n){return uP(t,e()).then((function(){return n}))}:e,n?function(n){return uP(t,e()).then((function(){throw n}))}:e)}}),"function"!=typeof EA||EA.prototype.finally||gS(EA.prototype,"finally",bS("Promise").prototype.finally);var BP=function(e,t,n){var r=-1!==e.indexOf("Map"),i=-1!==e.indexOf("Weak"),o=r?"set":"add",a=vw[e],s=a&&a.prototype,l=a,c={},u=function(e){var t=s[e];gS(s,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(i&&!Mw(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return i&&!Mw(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(i&&!Mw(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(VS(e,"function"!=typeof a||!(i||s.forEach&&!bw((function(){(new a).entries().next()})))))l=n.getConstructor(t,e,r,o),xC.REQUIRED=!0;else if(VS(e,!0)){var d=new l,p=d[o](i?{}:-0,1)!=d,f=bw((function(){d.has(1)})),h=dC((function(e){new a(e)})),m=!i&&bw((function(){for(var e=new a,t=5;t--;)e[o](t,t);return!e.has(-0)}));h||((l=t((function(t,n){CA(t,l,e);var i=sR(new a,t,l);return null!=n&&kC(n,i[o],i,r),i}))).prototype=s,s.constructor=l),(f||m)&&(u("delete"),u("has"),r&&u("get")),(m||p)&&u(o),i&&s.clear&&delete s.clear}return c[e]=l,XS({global:!0,forced:l!=a},c),BE(l,e),i||n.setStrong(l,e,r),l},UP=Ww.f,NP=xC.fastKey,HP=mS.set,WP=mS.getterFor,VP={getConstructor:function(e,t,n,r){var i=e((function(e,o){CA(e,i,t),HP(e,{type:t,index:IE(null),first:void 0,last:void 0,size:0}),_w||(e.size=0),null!=o&&kC(o,e[r],e,n)})),o=WP(t),a=function(e,t,n){var r,i,a=o(e),l=s(e,t);return l?l.value=n:(a.last=l={index:i=NP(t,!0),key:t,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=l),r&&(r.next=l),_w?a.size++:e.size++,"F"!==i&&(a.index[i]=l)),e},s=function(e,t){var n,r=o(e),i=NP(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return kA(i.prototype,{clear:function(){for(var e=o(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,_w?e.size=0:this.size=0},delete:function(e){var t=o(this),n=s(this,e);if(n){var r=n.next,i=n.previous;delete t.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),t.first==n&&(t.first=r),t.last==n&&(t.last=i),_w?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=o(this),r=NE(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!s(this,e)}}),kA(i.prototype,n?{get:function(e){var t=s(this,e);return t&&t.value},set:function(e,t){return a(this,0===e?0:e,t)}}:{add:function(e){return a(this,e=0===e?0:e,e)}}),_w&&UP(i.prototype,"size",{get:function(){return o(this).size}}),i},setStrong:function(e,t,n){var r=t+" Iterator",i=WP(t),o=WP(r);$k(e,t,(function(e,t){HP(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),OO(t)}},GP=(BP("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),VP),BP("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),VP),xC.getWeakData),XP=mS.set,YP=mS.getterFor,KP=VE.find,qP=VE.findIndex,$P=0,ZP=function(e){return e.frozen||(e.frozen=new JP)},JP=function(){this.entries=[]},QP=function(e,t){return KP(e.entries,(function(e){return e[0]===t}))};JP.prototype={get:function(e){var t=QP(this,e);if(t)return t[1]},has:function(e){return!!QP(this,e)},set:function(e,t){var n=QP(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=qP(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}};var ez={getConstructor:function(e,t,n,r){var i=e((function(e,o){CA(e,i,t),XP(e,{type:t,id:$P++,frozen:void 0}),null!=o&&kC(o,e[r],e,n)})),o=YP(t),a=function(e,t,n){var r=o(e),i=GP(Nw(t),!0);return!0===i?ZP(r).set(t,n):i[r.id]=n,e};return kA(i.prototype,{delete:function(e){var t=o(this);if(!Mw(e))return!1;var n=GP(e);return!0===n?ZP(t).delete(e):n&&zw(n,t.id)&&delete n[t.id]},has:function(e){var t=o(this);if(!Mw(e))return!1;var n=GP(e);return!0===n?ZP(t).has(e):n&&zw(n,t.id)}}),kA(i.prototype,n?{get:function(e){var t=o(this);if(Mw(e)){var n=GP(e);return!0===n?ZP(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return a(this,e,t)}}:{add:function(e){return a(this,e,!0)}}),i}};Yi((function(e){var t,n=mS.enforce,r=!vw.ActiveXObject&&"ActiveXObject"in vw,i=Object.isExtensible,o=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},a=e.exports=BP("WeakMap",o,ez);if(Qw&&r){t=ez.getConstructor(o,"WeakMap",!0),xC.REQUIRED=!0;var s=a.prototype,l=s.delete,c=s.has,u=s.get,d=s.set;kA(s,{delete:function(e){if(Mw(e)&&!i(e)){var r=n(this);return r.frozen||(r.frozen=new t),l.call(this,e)||r.frozen.delete(e)}return l.call(this,e)},has:function(e){if(Mw(e)&&!i(e)){var r=n(this);return r.frozen||(r.frozen=new t),c.call(this,e)||r.frozen.has(e)}return c.call(this,e)},get:function(e){if(Mw(e)&&!i(e)){var r=n(this);return r.frozen||(r.frozen=new t),c.call(this,e)?u.call(this,e):r.frozen.get(e)}return u.call(this,e)},set:function(e,r){if(Mw(e)&&!i(e)){var o=n(this);o.frozen||(o.frozen=new t),c.call(this,e)?d.call(this,e,r):o.frozen.set(e,r)}else d.call(this,e,r);return this}})}}));BP("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),ez);var tz="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,nz=function(e){if(void 0===e)return 0;var t=wS(e),n=ES(t);if(t!==n)throw RangeError("Wrong length or index");return n},rz=Math.abs,iz=Math.pow,oz=Math.floor,az=Math.log,sz=Math.LN2,lz=function(e,t,n){var r,i,o,a=new Array(n),s=8*n-t-1,l=(1<<s)-1,c=l>>1,u=23===t?iz(2,-24)-iz(2,-77):0,d=e<0||0===e&&1/e<0?1:0,p=0;for((e=rz(e))!=e||e===1/0?(i=e!=e?1:0,r=l):(r=oz(az(e)/sz),e*(o=iz(2,-r))<1&&(r--,o*=2),(e+=r+c>=1?u/o:u*iz(2,1-c))*o>=2&&(r++,o/=2),r+c>=l?(i=0,r=l):r+c>=1?(i=(e*o-1)*iz(2,t),r+=c):(i=e*iz(2,c-1)*iz(2,t),r=0));t>=8;a[p++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;s>0;a[p++]=255&r,r/=256,s-=8);return a[--p]|=128*d,a},cz=function(e,t){var n,r=e.length,i=8*r-t-1,o=(1<<i)-1,a=o>>1,s=i-7,l=r-1,c=e[l--],u=127&c;for(c>>=7;s>0;u=256*u+e[l],l--,s-=8);for(n=u&(1<<-s)-1,u>>=-s,s+=t;s>0;n=256*n+e[l],l--,s-=8);if(0===u)u=1-a;else{if(u===o)return n?NaN:c?-1/0:1/0;n+=iz(2,t),u-=a}return(c?-1:1)*n*iz(2,u-t)},uz=zS.f,dz=Ww.f,pz=mS.get,fz=mS.set,hz=vw.ArrayBuffer,mz=hz,gz=vw.DataView,yz=gz&&gz.prototype,vz=Object.prototype,bz=vw.RangeError,_z=lz,xz=cz,wz=function(e){return[255&e]},Sz=function(e){return[255&e,e>>8&255]},Ez=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},kz=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Cz=function(e){return _z(e,23,4)},Tz=function(e){return _z(e,52,8)},Oz=function(e,t){dz(e.prototype,t,{get:function(){return pz(this)[t]}})},Iz=function(e,t,n,r){var i=nz(n),o=pz(e);if(i+t>o.byteLength)throw bz("Wrong index");var a=pz(o.buffer).bytes,s=i+o.byteOffset,l=a.slice(s,s+t);return r?l:l.reverse()},Rz=function(e,t,n,r,i,o){var a=nz(n),s=pz(e);if(a+t>s.byteLength)throw bz("Wrong index");for(var l=pz(s.buffer).bytes,c=a+s.byteOffset,u=r(+i),d=0;d<t;d++)l[c+d]=u[o?d:t-d-1]};if(tz){if(!bw((function(){hz(1)}))||!bw((function(){new hz(-1)}))||bw((function(){return new hz,new hz(1.5),new hz(NaN),"ArrayBuffer"!=hz.name}))){for(var Mz,Az=(mz=function(e){return CA(this,mz),new hz(nz(e))}).prototype=hz.prototype,Pz=uz(hz),zz=0;Pz.length>zz;)(Mz=Pz[zz++])in mz||Vw(mz,Mz,hz[Mz]);Az.constructor=mz}Gk&&Lk(yz)!==vz&&Gk(yz,vz);var Dz=new gz(new mz(2)),Lz=yz.setInt8;Dz.setInt8(0,2147483648),Dz.setInt8(1,2147483649),!Dz.getInt8(0)&&Dz.getInt8(1)||kA(yz,{setInt8:function(e,t){Lz.call(this,e,t<<24>>24)},setUint8:function(e,t){Lz.call(this,e,t<<24>>24)}},{unsafe:!0})}else mz=function(e){CA(this,mz,"ArrayBuffer");var t=nz(e);fz(this,{bytes:bT.call(new Array(t),0),byteLength:t}),_w||(this.byteLength=t)},gz=function(e,t,n){CA(this,gz,"DataView"),CA(e,mz,"DataView");var r=pz(e).byteLength,i=wS(t);if(i<0||i>r)throw bz("Wrong offset");if(i+(n=void 0===n?r-i:ES(n))>r)throw bz("Wrong length");fz(this,{buffer:e,byteLength:n,byteOffset:i}),_w||(this.buffer=e,this.byteLength=n,this.byteOffset=i)},_w&&(Oz(mz,"byteLength"),Oz(gz,"buffer"),Oz(gz,"byteLength"),Oz(gz,"byteOffset")),kA(gz.prototype,{getInt8:function(e){return Iz(this,1,e)[0]<<24>>24},getUint8:function(e){return Iz(this,1,e)[0]},getInt16:function(e){var t=Iz(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Iz(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return kz(Iz(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return kz(Iz(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return xz(Iz(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return xz(Iz(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){Rz(this,1,e,wz,t)},setUint8:function(e,t){Rz(this,1,e,wz,t)},setInt16:function(e,t){Rz(this,2,e,Sz,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){Rz(this,2,e,Sz,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){Rz(this,4,e,Ez,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){Rz(this,4,e,Ez,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){Rz(this,4,e,Cz,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){Rz(this,8,e,Tz,t,arguments.length>2?arguments[2]:void 0)}});BE(mz,"ArrayBuffer"),BE(gz,"DataView");var Fz={ArrayBuffer:mz,DataView:gz},jz=Fz.ArrayBuffer,Bz=vw.ArrayBuffer;XS({global:!0,forced:Bz!==jz},{ArrayBuffer:jz}),OO("ArrayBuffer");var Uz,Nz=Ww.f,Hz=vw.Int8Array,Wz=Hz&&Hz.prototype,Vz=vw.Uint8ClampedArray,Gz=Vz&&Vz.prototype,Xz=Hz&&Lk(Hz),Yz=Wz&&Lk(Wz),Kz=Object.prototype,qz=Kz.isPrototypeOf,$z=tE("toStringTag"),Zz=rS("TYPED_ARRAY_TAG"),Jz=tz&&!!Gk&&"Opera"!==bE(vw.opera),Qz=!1,eD={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},tD=function(e){return Mw(e)&&zw(eD,bE(e))};for(Uz in eD)vw[Uz]||(Jz=!1);if((!Jz||"function"!=typeof Xz||Xz===Function.prototype)&&(Xz=function(){throw TypeError("Incorrect invocation")},Jz))for(Uz in eD)vw[Uz]&&Gk(vw[Uz],Xz);if((!Jz||!Yz||Yz===Kz)&&(Yz=Xz.prototype,Jz))for(Uz in eD)vw[Uz]&&Gk(vw[Uz].prototype,Yz);if(Jz&&Lk(Gz)!==Yz&&Gk(Gz,Yz),_w&&!zw(Yz,$z))for(Uz in Qz=!0,Nz(Yz,$z,{get:function(){return Mw(this)?this[Zz]:void 0}}),eD)vw[Uz]&&Vw(vw[Uz],Zz,Uz);var nD={NATIVE_ARRAY_BUFFER_VIEWS:Jz,TYPED_ARRAY_TAG:Qz&&Zz,aTypedArray:function(e){if(tD(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(Gk){if(qz.call(Xz,e))return e}else for(var t in eD)if(zw(eD,Uz)){var n=vw[t];if(n&&(e===n||qz.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n){if(_w){if(n)for(var r in eD){var i=vw[r];i&&zw(i.prototype,e)&&delete i.prototype[e]}Yz[e]&&!n||gS(Yz,e,n?t:Jz&&Wz[e]||t)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(_w){if(Gk){if(n)for(r in eD)(i=vw[r])&&zw(i,e)&&delete i[e];if(Xz[e]&&!n)return;try{return gS(Xz,e,n?t:Jz&&Hz[e]||t)}catch(e){}}for(r in eD)!(i=vw[r])||i[e]&&!n||gS(i,e,t)}},isView:function(e){var t=bE(e);return"DataView"===t||zw(eD,t)},isTypedArray:tD,TypedArray:Xz,TypedArrayPrototype:Yz};XS({target:"ArrayBuffer",stat:!0,forced:!nD.NATIVE_ARRAY_BUFFER_VIEWS},{isView:nD.isView});var rD=Fz.ArrayBuffer,iD=Fz.DataView,oD=rD.prototype.slice,aD=bw((function(){return!new rD(2).slice(1,void 0).byteLength}));XS({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:aD},{slice:function(e,t){if(void 0!==oD&&void 0===t)return oD.call(Nw(this),e);for(var n=Nw(this).byteLength,r=TS(e,n),i=TS(void 0===t?n:t,n),o=new(hI(this,rD))(ES(i-r)),a=new iD(this),s=new iD(o),l=0;r<i;)s.setUint8(l++,a.getUint8(r++));return o}}),XS({global:!0,forced:!tz},{DataView:Fz.DataView});var sD=nD.NATIVE_ARRAY_BUFFER_VIEWS,lD=vw.ArrayBuffer,cD=vw.Int8Array,uD=!sD||!bw((function(){cD(1)}))||!bw((function(){new cD(-1)}))||!dC((function(e){new cD,new cD(null),new cD(1.5),new cD(e)}),!0)||bw((function(){return 1!==new cD(new lD(2),1,void 0).length})),dD=function(e,t){var n=function(e){var t=wS(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}(e);if(n%t)throw RangeError("Wrong offset");return n},pD=nD.aTypedArrayConstructor,fD=function(e){var t,n,r,i,o,a,s=KS(e),l=arguments.length,c=l>1?arguments[1]:void 0,u=void 0!==c,d=oC(s);if(null!=d&&!rC(d))for(a=(o=d.call(s)).next,s=[];!(i=a.call(o)).done;)s.push(i.value);for(u&&l>2&&(c=NE(c,arguments[2],2)),n=ES(s.length),r=new(pD(this))(n),t=0;n>t;t++)r[t]=u?c(s[t],t):s[t];return r},hD=Yi((function(e){var t=zS.f,n=VE.forEach,r=mS.get,i=mS.set,o=Ww.f,a=Uw.f,s=Math.round,l=vw.RangeError,c=Fz.ArrayBuffer,u=Fz.DataView,d=nD.NATIVE_ARRAY_BUFFER_VIEWS,p=nD.TYPED_ARRAY_TAG,f=nD.TypedArray,h=nD.TypedArrayPrototype,m=nD.aTypedArrayConstructor,g=nD.isTypedArray,y=function(e,t){for(var n=0,r=t.length,i=new(m(e))(r);r>n;)i[n]=t[n++];return i},v=function(e,t){o(e,t,{get:function(){return r(this)[t]}})},b=function(e){var t;return e instanceof c||"ArrayBuffer"==(t=bE(e))||"SharedArrayBuffer"==t},_=function(e,t){return g(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},x=function(e,t){return _(e,t=Aw(t,!0))?Ew(2,e[t]):a(e,t)},w=function(e,t,n){return!(_(e,t=Aw(t,!0))&&Mw(n)&&zw(n,"value"))||zw(n,"get")||zw(n,"set")||n.configurable||zw(n,"writable")&&!n.writable||zw(n,"enumerable")&&!n.enumerable?o(e,t,n):(e[t]=n.value,e)};_w?(d||(Uw.f=x,Ww.f=w,v(h,"buffer"),v(h,"byteOffset"),v(h,"byteLength"),v(h,"length")),XS({target:"Object",stat:!0,forced:!d},{getOwnPropertyDescriptor:x,defineProperty:w}),e.exports=function(e,a,m){var v=e.match(/\d+$/)[0]/8,_=e+(m?"Clamped":"")+"Array",x="get"+e,w="set"+e,S=vw[_],E=S,k=E&&E.prototype,C={},T=function(e,t){o(e,t,{get:function(){return function(e,t){var n=r(e);return n.view[x](t*v+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var i=r(e);m&&(n=(n=s(n))<0?0:n>255?255:255&n),i.view[w](t*v+i.byteOffset,n,!0)}(this,t,e)},enumerable:!0})};d?uD&&(E=a((function(e,t,n,r){return CA(e,E,_),sR(Mw(t)?b(t)?void 0!==r?new S(t,dD(n,v),r):void 0!==n?new S(t,dD(n,v)):new S(t):g(t)?y(E,t):fD.call(E,t):new S(nz(t)),e,E)})),Gk&&Gk(E,f),n(t(S),(function(e){e in E||Vw(E,e,S[e])})),E.prototype=k):(E=a((function(e,t,n,r){CA(e,E,_);var o,a,s,d=0,p=0;if(Mw(t)){if(!b(t))return g(t)?y(E,t):fD.call(E,t);o=t,p=dD(n,v);var f=t.byteLength;if(void 0===r){if(f%v)throw l("Wrong length");if((a=f-p)<0)throw l("Wrong length")}else if((a=ES(r)*v)+p>f)throw l("Wrong length");s=a/v}else s=nz(t),o=new c(a=s*v);for(i(e,{buffer:o,byteOffset:p,byteLength:a,length:s,view:new u(o)});d<s;)T(e,d++)})),Gk&&Gk(E,f),k=E.prototype=IE(h)),k.constructor!==E&&Vw(k,"constructor",E),p&&Vw(k,p,_),C[_]=E,XS({global:!0,forced:E!=S,sham:!d},C),"BYTES_PER_ELEMENT"in E||Vw(E,"BYTES_PER_ELEMENT",v),"BYTES_PER_ELEMENT"in k||Vw(k,"BYTES_PER_ELEMENT",v),OO(_)}):e.exports=function(){}}));hD("Int8",(function(e){return function(t,n,r){return e(this,t,n,r)}})),hD("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}})),hD("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0),hD("Int16",(function(e){return function(t,n,r){return e(this,t,n,r)}})),hD("Uint16",(function(e){return function(t,n,r){return e(this,t,n,r)}})),hD("Int32",(function(e){return function(t,n,r){return e(this,t,n,r)}})),hD("Uint32",(function(e){return function(t,n,r){return e(this,t,n,r)}})),hD("Float32",(function(e){return function(t,n,r){return e(this,t,n,r)}})),hD("Float64",(function(e){return function(t,n,r){return e(this,t,n,r)}})),(0,nD.exportTypedArrayStaticMethod)("from",fD,uD);var mD=nD.aTypedArrayConstructor;(0,nD.exportTypedArrayStaticMethod)("of",(function(){for(var e=0,t=arguments.length,n=new(mD(this))(t);t>e;)n[e]=arguments[e++];return n}),uD);var gD=nD.aTypedArray;(0,nD.exportTypedArrayMethod)("copyWithin",(function(e,t){return sT.call(gD(this),e,t,arguments.length>2?arguments[2]:void 0)}));var yD=VE.every,vD=nD.aTypedArray;(0,nD.exportTypedArrayMethod)("every",(function(e){return yD(vD(this),e,arguments.length>1?arguments[1]:void 0)}));var bD=nD.aTypedArray;(0,nD.exportTypedArrayMethod)("fill",(function(e){return bT.apply(bD(this),arguments)}));var _D=VE.filter,xD=nD.aTypedArray,wD=nD.aTypedArrayConstructor;(0,nD.exportTypedArrayMethod)("filter",(function(e){for(var t=_D(xD(this),e,arguments.length>1?arguments[1]:void 0),n=hI(this,this.constructor),r=0,i=t.length,o=new(wD(n))(i);i>r;)o[r]=t[r++];return o}));var SD=VE.find,ED=nD.aTypedArray;(0,nD.exportTypedArrayMethod)("find",(function(e){return SD(ED(this),e,arguments.length>1?arguments[1]:void 0)}));var kD=VE.findIndex,CD=nD.aTypedArray;(0,nD.exportTypedArrayMethod)("findIndex",(function(e){return kD(CD(this),e,arguments.length>1?arguments[1]:void 0)}));var TD=VE.forEach,OD=nD.aTypedArray;(0,nD.exportTypedArrayMethod)("forEach",(function(e){TD(OD(this),e,arguments.length>1?arguments[1]:void 0)}));var ID=IS.includes,RD=nD.aTypedArray;(0,nD.exportTypedArrayMethod)("includes",(function(e){return ID(RD(this),e,arguments.length>1?arguments[1]:void 0)}));var MD=IS.indexOf,AD=nD.aTypedArray;(0,nD.exportTypedArrayMethod)("indexOf",(function(e){return MD(AD(this),e,arguments.length>1?arguments[1]:void 0)}));var PD=tE("iterator"),zD=vw.Uint8Array,DD=MO.values,LD=MO.keys,FD=MO.entries,jD=nD.aTypedArray,BD=nD.exportTypedArrayMethod,UD=zD&&zD.prototype[PD],ND=!!UD&&("values"==UD.name||null==UD.name),HD=function(){return DD.call(jD(this))};BD("entries",(function(){return FD.call(jD(this))})),BD("keys",(function(){return LD.call(jD(this))})),BD("values",HD,!ND),BD(PD,HD,!ND);var WD=nD.aTypedArray,VD=[].join;(0,nD.exportTypedArrayMethod)("join",(function(e){return VD.apply(WD(this),arguments)}));var GD=nD.aTypedArray;(0,nD.exportTypedArrayMethod)("lastIndexOf",(function(e){return $T.apply(GD(this),arguments)}));var XD=VE.map,YD=nD.aTypedArray,KD=nD.aTypedArrayConstructor;(0,nD.exportTypedArrayMethod)("map",(function(e){return XD(YD(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(KD(hI(e,e.constructor)))(t)}))}));var qD=tO.left,$D=nD.aTypedArray;(0,nD.exportTypedArrayMethod)("reduce",(function(e){return qD($D(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}));var ZD=tO.right,JD=nD.aTypedArray;(0,nD.exportTypedArrayMethod)("reduceRight",(function(e){return ZD(JD(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}));var QD=nD.aTypedArray,eL=nD.exportTypedArrayMethod,tL=Math.floor;eL("reverse",(function(){for(var e,t=QD(this).length,n=tL(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this}));var nL=nD.aTypedArray;(0,nD.exportTypedArrayMethod)("set",(function(e){nL(this);var t=dD(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=KS(e),i=ES(r.length),o=0;if(i+t>n)throw RangeError("Wrong length");for(;o<i;)this[t+o]=r[o++]}),bw((function(){new Int8Array(1).set({})})));var rL=nD.aTypedArray,iL=nD.aTypedArrayConstructor,oL=[].slice;(0,nD.exportTypedArrayMethod)("slice",(function(e,t){for(var n=oL.call(rL(this),e,t),r=hI(this,this.constructor),i=0,o=n.length,a=new(iL(r))(o);o>i;)a[i]=n[i++];return a}),bw((function(){new Int8Array(1).slice()})));var aL=VE.some,sL=nD.aTypedArray;(0,nD.exportTypedArrayMethod)("some",(function(e){return aL(sL(this),e,arguments.length>1?arguments[1]:void 0)}));var lL=nD.aTypedArray,cL=[].sort;(0,nD.exportTypedArrayMethod)("sort",(function(e){return cL.call(lL(this),e)}));var uL=nD.aTypedArray;(0,nD.exportTypedArrayMethod)("subarray",(function(e,t){var n=uL(this),r=n.length,i=TS(e,r);return new(hI(n,n.constructor))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,ES((void 0===t?r:TS(t,r))-i))}));var dL=vw.Int8Array,pL=nD.aTypedArray,fL=nD.exportTypedArrayMethod,hL=[].toLocaleString,mL=[].slice,gL=!!dL&&bw((function(){hL.call(new dL(1))}));fL("toLocaleString",(function(){return hL.apply(gL?mL.call(pL(this)):pL(this),arguments)}),bw((function(){return[1,2].toLocaleString()!=new dL([1,2]).toLocaleString()}))||!bw((function(){dL.prototype.toLocaleString.call([1,2])})));var yL=nD.exportTypedArrayMethod,vL=vw.Uint8Array,bL=vL&&vL.prototype||{},_L=[].toString,xL=[].join;bw((function(){_L.call({})}))&&(_L=function(){return xL.call(this)});var wL=bL.toString!=_L;yL("toString",_L,wL);var SL=bS("Reflect","apply"),EL=Function.apply,kL=!bw((function(){SL((function(){}))}));XS({target:"Reflect",stat:!0,forced:kL},{apply:function(e,t,n){return UE(e),Nw(n),SL?SL(e,t,n):EL.call(e,t,n)}});var CL=bS("Reflect","construct"),TL=bw((function(){function e(){}return!(CL((function(){}),[],e)instanceof e)})),OL=!bw((function(){CL((function(){}))})),IL=TL||OL;XS({target:"Reflect",stat:!0,forced:IL,sham:IL},{construct:function(e,t){UE(e),Nw(t);var n=arguments.length<3?e:UE(arguments[2]);if(OL&&!TL)return CL(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(JC.apply(e,r))}var i=n.prototype,o=IE(Mw(i)?i:Object.prototype),a=Function.apply.call(e,o,t);return Mw(a)?a:o}});var RL=bw((function(){Reflect.defineProperty(Ww.f({},1,{value:1}),1,{value:2})}));XS({target:"Reflect",stat:!0,forced:RL,sham:!_w},{defineProperty:function(e,t,n){Nw(e);var r=Aw(t,!0);Nw(n);try{return Ww.f(e,r,n),!0}catch(e){return!1}}});var ML=Uw.f;XS({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var n=ML(Nw(e),t);return!(n&&!n.configurable)&&delete e[t]}}),XS({target:"Reflect",stat:!0},{get:function e(t,n){var r,i,o=arguments.length<3?t:arguments[2];return Nw(t)===o?t[n]:(r=Uw.f(t,n))?zw(r,"value")?r.value:void 0===r.get?void 0:r.get.call(o):Mw(i=Lk(t))?e(i,n,o):void 0}}),XS({target:"Reflect",stat:!0,sham:!_w},{getOwnPropertyDescriptor:function(e,t){return Uw.f(Nw(e),t)}}),XS({target:"Reflect",stat:!0,sham:!Pk},{getPrototypeOf:function(e){return Lk(Nw(e))}}),XS({target:"Reflect",stat:!0},{has:function(e,t){return t in e}});var AL=Object.isExtensible;XS({target:"Reflect",stat:!0},{isExtensible:function(e){return Nw(e),!AL||AL(e)}}),XS({target:"Reflect",stat:!0},{ownKeys:LS}),XS({target:"Reflect",stat:!0,sham:!_C},{preventExtensions:function(e){Nw(e);try{var t=bS("Object","preventExtensions");return t&&t(e),!0}catch(e){return!1}}});var PL=bw((function(){var e=Ww.f({},"a",{configurable:!0});return!1!==Reflect.set(Lk(e),"a",1,e)}));XS({target:"Reflect",stat:!0,forced:PL},{set:function e(t,n,r){var i,o,a=arguments.length<4?t:arguments[3],s=Uw.f(Nw(t),n);if(!s){if(Mw(o=Lk(t)))return e(o,n,r,a);s=Ew(0)}if(zw(s,"value")){if(!1===s.writable||!Mw(a))return!1;if(i=Uw.f(a,n)){if(i.get||i.set||!1===i.writable)return!1;i.value=r,Ww.f(a,n,i)}else Ww.f(a,n,Ew(0,r));return!0}return void 0!==s.set&&(s.set.call(a,r),!0)}}),Gk&&XS({target:"Reflect",stat:!0},{setPrototypeOf:function(e,t){Nw(e),Vk(t);try{return Gk(e,t),!0}catch(e){return!1}}});var zL={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};for(var DL in zL){var LL=vw[DL],FL=LL&&LL.prototype;if(FL&&FL.forEach!==zT)try{Vw(FL,"forEach",zT)}catch(e){FL.forEach=zT}}var jL=tE("iterator"),BL=tE("toStringTag"),UL=MO.values;for(var NL in zL){var HL=vw[NL],WL=HL&&HL.prototype;if(WL){if(WL[jL]!==UL)try{Vw(WL,jL,UL)}catch(e){WL[jL]=UL}if(WL[BL]||Vw(WL,BL,NL),zL[NL])for(var VL in MO)if(WL[VL]!==MO[VL])try{Vw(WL,VL,MO[VL])}catch(e){WL[VL]=MO[VL]}}}var GL=!vw.setImmediate||!vw.clearImmediate;XS({global:!0,bind:!0,enumerable:!0,forced:GL},{setImmediate:KA.set,clearImmediate:KA.clear});var XL=vw.process,YL="process"==Cw(XL);XS({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(e){var t=YL&&XL.domain;sP(t?t.bind(e):e)}});var KL=[].slice,qL=/MSIE .\./.test(iE),$L=function(e){return function(t,n){var r=arguments.length>2,i=r?KL.call(arguments,2):void 0;return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};XS({global:!0,bind:!0,forced:qL},{setTimeout:$L(vw.setTimeout),setInterval:$L(vw.setInterval)});var ZL=tE("iterator"),JL=!bw((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[ZL]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})),QL=/[^\0-\u007E]/,eF=/[.\u3002\uFF0E\uFF61]/g,tF="Overflow: input needs wider integers to process",nF=Math.floor,rF=String.fromCharCode,iF=function(e){return e+22+75*(e<26)},oF=function(e,t,n){var r=0;for(e=n?nF(e/700):e>>1,e+=nF(e/t);e>455;r+=36)e=nF(e/35);return nF(r+36*e/(e+38))},aF=function(e){var t,n,r=[],i=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t}(e)).length,o=128,a=0,s=72;for(t=0;t<e.length;t++)(n=e[t])<128&&r.push(rF(n));var l=r.length,c=l;for(l&&r.push("-");c<i;){var u=2147483647;for(t=0;t<e.length;t++)(n=e[t])>=o&&n<u&&(u=n);var d=c+1;if(u-o>nF((2147483647-a)/d))throw RangeError(tF);for(a+=(u-o)*d,o=u,t=0;t<e.length;t++){if((n=e[t])<o&&++a>2147483647)throw RangeError(tF);if(n==o){for(var p=a,f=36;;f+=36){var h=f<=s?1:f>=s+26?26:f-s;if(p<h)break;var m=p-h,g=36-h;r.push(rF(iF(h+m%g))),p=nF(m/g)}r.push(rF(iF(p))),s=oF(a,d,c==l),a=0,++c}}++a,++o}return r.join("")},sF=function(e){var t=oC(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return Nw(t.call(e))},lF=bS("fetch"),cF=bS("Headers"),uF=tE("iterator"),dF=mS.set,pF=mS.getterFor("URLSearchParams"),fF=mS.getterFor("URLSearchParamsIterator"),hF=/\+/g,mF=Array(4),gF=function(e){return mF[e-1]||(mF[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},yF=function(e){try{return decodeURIComponent(e)}catch(t){return e}},vF=function(e){var t=e.replace(hF," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(gF(n--),yF);return t}},bF=/[!'()~]|%20/g,_F={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},xF=function(e){return _F[e]},wF=function(e){return encodeURIComponent(e).replace(bF,xF)},SF=function(e,t){if(t)for(var n,r,i=t.split("&"),o=0;o<i.length;)(n=i[o++]).length&&(r=n.split("="),e.push({key:vF(r.shift()),value:vF(r.join("="))}))},EF=function(e){this.entries.length=0,SF(this.entries,e)},kF=function(e,t){if(e<t)throw TypeError("Not enough arguments")},CF=Wk((function(e,t){dF(this,{type:"URLSearchParamsIterator",iterator:sF(pF(e).entries),kind:t})}),"Iterator",(function(){var e=fF(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),TF=function(){CA(this,TF,"URLSearchParams");var e,t,n,r,i,o,a,s,l,c=arguments.length>0?arguments[0]:void 0,u=this,d=[];if(dF(u,{type:"URLSearchParams",entries:d,updateURL:function(){},updateSearchParams:EF}),void 0!==c)if(Mw(c))if("function"==typeof(e=oC(c)))for(n=(t=e.call(c)).next;!(r=n.call(t)).done;){if((a=(o=(i=sF(Nw(r.value))).next).call(i)).done||(s=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");d.push({key:a.value+"",value:s.value+""})}else for(l in c)zw(c,l)&&d.push({key:l,value:c[l]+""});else SF(d,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},OF=TF.prototype;kA(OF,{append:function(e,t){kF(arguments.length,2);var n=pF(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){kF(arguments.length,1);for(var t=pF(this),n=t.entries,r=e+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function(e){kF(arguments.length,1);for(var t=pF(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){kF(arguments.length,1);for(var t=pF(this).entries,n=e+"",r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function(e){kF(arguments.length,1);for(var t=pF(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){kF(arguments.length,1);for(var n,r=pF(this),i=r.entries,o=!1,a=e+"",s=t+"",l=0;l<i.length;l++)(n=i[l]).key===a&&(o?i.splice(l--,1):(o=!0,n.value=s));o||i.push({key:a,value:s}),r.updateURL()},sort:function(){var e,t,n,r=pF(this),i=r.entries,o=i.slice();for(i.length=0,n=0;n<o.length;n++){for(e=o[n],t=0;t<n;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===n&&i.push(e)}r.updateURL()},forEach:function(e){for(var t,n=pF(this).entries,r=NE(e,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new CF(this,"keys")},values:function(){return new CF(this,"values")},entries:function(){return new CF(this,"entries")}},{enumerable:!0}),gS(OF,uF,OF.entries),gS(OF,"toString",(function(){for(var e,t=pF(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(wF(e.key)+"="+wF(e.value));return n.join("&")}),{enumerable:!0}),BE(TF,"URLSearchParams"),XS({global:!0,forced:!JL},{URLSearchParams:TF}),JL||"function"!=typeof lF||"function"!=typeof cF||XS({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,i=[e];return arguments.length>1&&(t=arguments[1],Mw(t)&&(n=t.body,"URLSearchParams"===bE(n)&&((r=t.headers?new cF(t.headers):new cF).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=IE(t,{body:Ew(0,String(n)),headers:Ew(0,r)}))),i.push(t)),lF.apply(this,i)}});var IF,RF={URLSearchParams:TF,getState:pF},MF=Ak.codeAt,AF=vw.URL,PF=RF.URLSearchParams,zF=RF.getState,DF=mS.set,LF=mS.getterFor("URL"),FF=Math.floor,jF=Math.pow,BF=/[A-Za-z]/,UF=/[\d+-.A-Za-z]/,NF=/\d/,HF=/^(0x|0X)/,WF=/^[0-7]+$/,VF=/^\d+$/,GF=/^[\dA-Fa-f]+$/,XF=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,YF=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,KF=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,qF=/[\u0009\u000A\u000D]/g,$F=function(e,t){var n,r,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(n=JF(t.slice(1,-1))))return"Invalid host";e.host=n}else if(aj(e)){if(t=function(e){var t,n,r=[],i=e.toLowerCase().replace(eF,".").split(".");for(t=0;t<i.length;t++)n=i[t],r.push(QL.test(n)?"xn--"+aF(n):n);return r.join(".")}(t),XF.test(t))return"Invalid host";if(null===(n=ZF(t)))return"Invalid host";e.host=n}else{if(YF.test(t))return"Invalid host";for(n="",r=aC(t),i=0;i<r.length;i++)n+=ij(r[i],ej);e.host=n}},ZF=function(e){var t,n,r,i,o,a,s,l=e.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),(t=l.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=l[r]))return e;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=HF.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?VF:8==o?WF:GF).test(i))return e;a=parseInt(i,o)}n.push(a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=jF(256,5-t))return null}else if(a>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*jF(256,3-r);return s},JF=function(e){var t,n,r,i,o,a,s,l=[0,0,0,0,0,0,0,0],c=0,u=null,d=0,p=function(){return e.charAt(d)};if(":"==p()){if(":"!=e.charAt(1))return;d+=2,u=++c}for(;p();){if(8==c)return;if(":"!=p()){for(t=n=0;n<4&&GF.test(p());)t=16*t+parseInt(p(),16),d++,n++;if("."==p()){if(0==n)return;if(d-=n,c>6)return;for(r=0;p();){if(i=null,r>0){if(!("."==p()&&r<4))return;d++}if(!NF.test(p()))return;for(;NF.test(p());){if(o=parseInt(p(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;d++}l[c]=256*l[c]+i,2!=++r&&4!=r||c++}if(4!=r)return;break}if(":"==p()){if(d++,!p())return}else if(p())return;l[c++]=t}else{if(null!==u)return;d++,u=++c}}if(null!==u)for(a=c-u,c=7;0!=c&&a>0;)s=l[c],l[c--]=l[u+a-1],l[u+--a]=s;else if(8!=c)return;return l},QF=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=FF(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},ej={},tj=mC({},ej,{" ":1,'"':1,"<":1,">":1,"`":1}),nj=mC({},tj,{"#":1,"?":1,"{":1,"}":1}),rj=mC({},nj,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ij=function(e,t){var n=MF(e,0);return n>32&&n<127&&!zw(t,e)?e:encodeURIComponent(e)},oj={ftp:21,file:null,http:80,https:443,ws:80,wss:443},aj=function(e){return zw(oj,e.scheme)},sj=function(e){return""!=e.username||""!=e.password},lj=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},cj=function(e,t){var n;return 2==e.length&&BF.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},uj=function(e){var t;return e.length>1&&cj(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},dj=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&cj(t[0],!0)||t.pop()},pj=function(e){return"."===e||"%2e"===e.toLowerCase()},fj={},hj={},mj={},gj={},yj={},vj={},bj={},_j={},xj={},wj={},Sj={},Ej={},kj={},Cj={},Tj={},Oj={},Ij={},Rj={},Mj={},Aj={},Pj={},zj=function(e,t,n,r){var i,o,a,s,l,c=n||fj,u=0,d="",p=!1,f=!1,h=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(KF,"")),t=t.replace(qF,""),i=aC(t);u<=i.length;){switch(o=i[u],c){case fj:if(!o||!BF.test(o)){if(n)return"Invalid scheme";c=mj;continue}d+=o.toLowerCase(),c=hj;break;case hj:if(o&&(UF.test(o)||"+"==o||"-"==o||"."==o))d+=o.toLowerCase();else{if(":"!=o){if(n)return"Invalid scheme";d="",c=mj,u=0;continue}if(n&&(aj(e)!=zw(oj,d)||"file"==d&&(sj(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=d,n)return void(aj(e)&&oj[e.scheme]==e.port&&(e.port=null));d="","file"==e.scheme?c=Cj:aj(e)&&r&&r.scheme==e.scheme?c=gj:aj(e)?c=_j:"/"==i[u+1]?(c=yj,u++):(e.cannotBeABaseURL=!0,e.path.push(""),c=Mj)}break;case mj:if(!r||r.cannotBeABaseURL&&"#"!=o)return"Invalid scheme";if(r.cannotBeABaseURL&&"#"==o){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,c=Pj;break}c="file"==r.scheme?Cj:vj;continue;case gj:if("/"!=o||"/"!=i[u+1]){c=vj;continue}c=xj,u++;break;case yj:if("/"==o){c=wj;break}c=Rj;continue;case vj:if(e.scheme=r.scheme,o==IF)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if("/"==o||"\\"==o&&aj(e))c=bj;else if("?"==o)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",c=Aj;else{if("#"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),c=Rj;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",c=Pj}break;case bj:if(!aj(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,c=Rj;continue}c=wj}else c=xj;break;case _j:if(c=xj,"/"!=o||"/"!=d.charAt(u+1))continue;u++;break;case xj:if("/"!=o&&"\\"!=o){c=wj;continue}break;case wj:if("@"==o){p&&(d="%40"+d),p=!0,a=aC(d);for(var m=0;m<a.length;m++){var g=a[m];if(":"!=g||h){var y=ij(g,rj);h?e.password+=y:e.username+=y}else h=!0}d=""}else if(o==IF||"/"==o||"?"==o||"#"==o||"\\"==o&&aj(e)){if(p&&""==d)return"Invalid authority";u-=aC(d).length+1,d="",c=Sj}else d+=o;break;case Sj:case Ej:if(n&&"file"==e.scheme){c=Oj;continue}if(":"!=o||f){if(o==IF||"/"==o||"?"==o||"#"==o||"\\"==o&&aj(e)){if(aj(e)&&""==d)return"Invalid host";if(n&&""==d&&(sj(e)||null!==e.port))return;if(s=$F(e,d))return s;if(d="",c=Ij,n)return;continue}"["==o?f=!0:"]"==o&&(f=!1),d+=o}else{if(""==d)return"Invalid host";if(s=$F(e,d))return s;if(d="",c=kj,n==Ej)return}break;case kj:if(!NF.test(o)){if(o==IF||"/"==o||"?"==o||"#"==o||"\\"==o&&aj(e)||n){if(""!=d){var v=parseInt(d,10);if(v>65535)return"Invalid port";e.port=aj(e)&&v===oj[e.scheme]?null:v,d=""}if(n)return;c=Ij;continue}return"Invalid port"}d+=o;break;case Cj:if(e.scheme="file","/"==o||"\\"==o)c=Tj;else{if(!r||"file"!=r.scheme){c=Rj;continue}if(o==IF)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if("?"==o)e.host=r.host,e.path=r.path.slice(),e.query="",c=Aj;else{if("#"!=o){uj(i.slice(u).join(""))||(e.host=r.host,e.path=r.path.slice(),dj(e)),c=Rj;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",c=Pj}}break;case Tj:if("/"==o||"\\"==o){c=Oj;break}r&&"file"==r.scheme&&!uj(i.slice(u).join(""))&&(cj(r.path[0],!0)?e.path.push(r.path[0]):e.host=r.host),c=Rj;continue;case Oj:if(o==IF||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&cj(d))c=Rj;else if(""==d){if(e.host="",n)return;c=Ij}else{if(s=$F(e,d))return s;if("localhost"==e.host&&(e.host=""),n)return;d="",c=Ij}continue}d+=o;break;case Ij:if(aj(e)){if(c=Rj,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=IF&&(c=Rj,"/"!=o))continue}else e.fragment="",c=Pj;else e.query="",c=Aj;break;case Rj:if(o==IF||"/"==o||"\\"==o&&aj(e)||!n&&("?"==o||"#"==o)){if(".."===(l=(l=d).toLowerCase())||"%2e."===l||".%2e"===l||"%2e%2e"===l?(dj(e),"/"==o||"\\"==o&&aj(e)||e.path.push("")):pj(d)?"/"==o||"\\"==o&&aj(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&cj(d)&&(e.host&&(e.host=""),d=d.charAt(0)+":"),e.path.push(d)),d="","file"==e.scheme&&(o==IF||"?"==o||"#"==o))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==o?(e.query="",c=Aj):"#"==o&&(e.fragment="",c=Pj)}else d+=ij(o,nj);break;case Mj:"?"==o?(e.query="",c=Aj):"#"==o?(e.fragment="",c=Pj):o!=IF&&(e.path[0]+=ij(o,ej));break;case Aj:n||"#"!=o?o!=IF&&("'"==o&&aj(e)?e.query+="%27":e.query+="#"==o?"%23":ij(o,ej)):(e.fragment="",c=Pj);break;case Pj:o!=IF&&(e.fragment+=ij(o,tj))}u++}},Dj=function(e){var t,n,r=CA(this,Dj,"URL"),i=arguments.length>1?arguments[1]:void 0,o=String(e),a=DF(r,{type:"URL"});if(void 0!==i)if(i instanceof Dj)t=LF(i);else if(n=zj(t={},String(i)))throw TypeError(n);if(n=zj(a,o,null,t))throw TypeError(n);var s=a.searchParams=new PF,l=zF(s);l.updateSearchParams(a.query),l.updateURL=function(){a.query=String(s)||null},_w||(r.href=Fj.call(r),r.origin=jj.call(r),r.protocol=Bj.call(r),r.username=Uj.call(r),r.password=Nj.call(r),r.host=Hj.call(r),r.hostname=Wj.call(r),r.port=Vj.call(r),r.pathname=Gj.call(r),r.search=Xj.call(r),r.searchParams=Yj.call(r),r.hash=Kj.call(r))},Lj=Dj.prototype,Fj=function(){var e=LF(this),t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,a=e.path,s=e.query,l=e.fragment,c=t+":";return null!==i?(c+="//",sj(e)&&(c+=n+(r?":"+r:"")+"@"),c+=QF(i),null!==o&&(c+=":"+o)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(c+="?"+s),null!==l&&(c+="#"+l),c},jj=function(){var e=LF(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&aj(e)?t+"://"+QF(e.host)+(null!==n?":"+n:""):"null"},Bj=function(){return LF(this).scheme+":"},Uj=function(){return LF(this).username},Nj=function(){return LF(this).password},Hj=function(){var e=LF(this),t=e.host,n=e.port;return null===t?"":null===n?QF(t):QF(t)+":"+n},Wj=function(){var e=LF(this).host;return null===e?"":QF(e)},Vj=function(){var e=LF(this).port;return null===e?"":String(e)},Gj=function(){var e=LF(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Xj=function(){var e=LF(this).query;return e?"?"+e:""},Yj=function(){return LF(this).searchParams},Kj=function(){var e=LF(this).fragment;return e?"#"+e:""},qj=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(_w&&SE(Lj,{href:qj(Fj,(function(e){var t=LF(this),n=String(e),r=zj(t,n);if(r)throw TypeError(r);zF(t.searchParams).updateSearchParams(t.query)})),origin:qj(jj),protocol:qj(Bj,(function(e){var t=LF(this);zj(t,String(e)+":",fj)})),username:qj(Uj,(function(e){var t=LF(this),n=aC(String(e));if(!lj(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=ij(n[r],rj)}})),password:qj(Nj,(function(e){var t=LF(this),n=aC(String(e));if(!lj(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=ij(n[r],rj)}})),host:qj(Hj,(function(e){var t=LF(this);t.cannotBeABaseURL||zj(t,String(e),Sj)})),hostname:qj(Wj,(function(e){var t=LF(this);t.cannotBeABaseURL||zj(t,String(e),Ej)})),port:qj(Vj,(function(e){var t=LF(this);lj(t)||(""==(e=String(e))?t.port=null:zj(t,e,kj))})),pathname:qj(Gj,(function(e){var t=LF(this);t.cannotBeABaseURL||(t.path=[],zj(t,e+"",Ij))})),search:qj(Xj,(function(e){var t=LF(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",zj(t,e,Aj)),zF(t.searchParams).updateSearchParams(t.query)})),searchParams:qj(Yj),hash:qj(Kj,(function(e){var t=LF(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",zj(t,e,Pj)):t.fragment=null}))}),gS(Lj,"toJSON",(function(){return Fj.call(this)}),{enumerable:!0}),gS(Lj,"toString",(function(){return Fj.call(this)}),{enumerable:!0}),AF){var $j=AF.createObjectURL,Zj=AF.revokeObjectURL;$j&&gS(Dj,"createObjectURL",(function(e){return $j.apply(AF,arguments)})),Zj&&gS(Dj,"revokeObjectURL",(function(e){return Zj.apply(AF,arguments)}))}BE(Dj,"URL"),XS({global:!0,forced:!JL,sham:!_w},{URL:Dj}),XS({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}});Yi((function(e){var t=function(e){var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n,r){var i=t&&t.prototype instanceof u?t:u,o=Object.create(i.prototype),a=new w(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return E()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===c)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var c={};function u(){}function d(){}function p(){}var f={};f[i]=function(){return this};var h=Object.getPrototypeOf,m=h&&h(h(S([])));m&&m!==t&&n.call(m,i)&&(f=m);var g=p.prototype=u.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function v(e,t){var r;this._invoke=function(i,o){function a(){return new t((function(r,a){!function r(i,o,a,s){var c=l(e[i],e,o);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return d.prototype=g.constructor=p,p.constructor=d,p[a]=d.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(v.prototype),v.prototype[o]=function(){return this},e.AsyncIterator=v,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new v(s(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(g),g[a]="Generator",g[i]=function(){return this},g.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}));var Jj=Function.call,Qj=function(e,t,n){return NE(Jj,vw[e].prototype[t],n)},eB=(Qj("Array","find"),Qj("Array","map"),function(e){function t(t,n){var r=e.call(this)||this;return r.dispose=function(){r.container&&(v.unmountComponentAtNode(r.container),r.removeAllListeners(we.EXPORT),r.removeAllListeners(we.HISTORY_CHANGE),r.removeAllListeners(we.EDITOR_READY))},r.serialize=function(e){return r.editor.serialize(e)},r.deserialize=function(e){return r.editor.deserialize(e)},r.export=function(e){return r.editor.export(e)},r.close=function(){return r.editor.close()},r.setImage=function(e){return r.editor.setImage(e)},r.container=n,r.editor=new al(E({},t)),r.editor.configStore.events.on(we.EXPORT,(function(e){r.emit(we.EXPORT,e)})),r.editor.configStore.events.on(we.CLOSE,(function(){r.dispose(),r.emit(we.CLOSE)})),r.editor.configStore.events.on(we.HISTORY_CHANGE,(function(){r.emit(we.HISTORY_CHANGE)})),r}return S(t,e),t.prototype.hasChanges=function(){return this.editor.hasChanges()},t}(Te)),tB=function(){function e(){this.container=null}return e.prototype.init=function(e){var t=this;return new Promise((function(n,r){t.container="string"==typeof e.container?document.querySelector(e.container):e.container,t.container?(t.editorApi=new eB(e,t.container),v.render(p.createElement(nB,{editor:t.editorApi.editor}),t.container),t.editorApi.editor.configStore.events.on(we.EDITOR_READY,(function(){setTimeout((function(){t.editorApi.emit(we.EDITOR_READY)}),0),n(t.editorApi)}))):r(new Error("Provide a container"))}))},e}(),nB=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.UIComponent=null,t}return S(t,e),t.prototype.componentDidMount=function(){var e=this;this.editor=this.props.editor,this.storeProps={filterTool:this.editor.filterToolStore,focusTool:this.editor.focusToolStore,adjustmentsTool:this.editor.adjustmentsToolStore,overlayTool:this.editor.overlayToolStore,frameTool:this.editor.frameToolStore,brushTool:this.editor.brushToolStore,transformTool:this.editor.transformToolStore,scale:this.editor.scale,sprite:this.editor.spriteStore,stickerTool:this.editor.spriteStore.stickerToolStore,textTool:this.editor.spriteStore.textToolStore,textDesignTool:this.editor.spriteStore.textDesignToolStore,library:this.editor.libraryStore,modal:this.editor.modalStore,snapping:this.editor.snappingStore,config:this.editor.configStore,active:this.editor.activeStore,canvas:this.editor.canvasStore,history:this.editor.historyStore,editor:this.editor},"basic"===this.editor.configStore.config.layout?import("./index-578e453a.js").then((function(t){var n=t.BasicUI;e.UIComponent=n,e.forceUpdate()})):Promise.resolve().then((function(){return Y_})).then((function(t){var n=t.AdvancedUI;e.UIComponent=n,e.forceUpdate()}))},t.prototype.componentWillUnmount=function(){this.editor.engine.dispose(),this.editor.configStore.events.removeAllListeners(we.EXPORT),this.editor.configStore.events.removeAllListeners(we.CLOSE),this.editor.configStore.events.removeAllListeners(we.HISTORY_CHANGE),this.editor.configStore.events.removeAllListeners(we.EDITOR_READY)},t.prototype.render=function(){if(this.editor){var e=this.UIComponent;return this.storeProps&&e?p.createElement(e,{editor:this.editor,storeProps:this.storeProps}):null}return null},t}(p.Component),rB={init:function(e){return(new tB).init(e)}},iB=function(e){function t(t){var n=e.call(this,t)||this;return n.ui=new Te,n.serialize=function(e){return n.editor.serialize(e)},n.deserialize=function(e){return n.editor.deserialize(e)},n.export=function(e){return n.editor.export(e)},n.close=function(){return n.editor.close()},n.setImage=function(e){return n.editor.setImage(e)},n.editor=new al(E({},t)),n.editor.configStore.events.on(we.EXPORT,(function(e){n.ui.emit(we.EXPORT,e)})),n.editor.configStore.events.on(we.CLOSE,(function(){n.componentWillUnmount(),n.ui.emit(we.CLOSE)})),n.editor.configStore.events.on(we.HISTORY_CHANGE,(function(){n.ui.emit(we.HISTORY_CHANGE)})),n.editor.configStore.events.on(we.EDITOR_READY,(function(){n.ui.emit(we.EDITOR_READY)})),n.storeProps={filterTool:n.editor.filterToolStore,focusTool:n.editor.focusToolStore,adjustmentsTool:n.editor.adjustmentsToolStore,overlayTool:n.editor.overlayToolStore,frameTool:n.editor.frameToolStore,brushTool:n.editor.brushToolStore,transformTool:n.editor.transformToolStore,scale:n.editor.scale,sprite:n.editor.spriteStore,stickerTool:n.editor.spriteStore.stickerToolStore,textTool:n.editor.spriteStore.textToolStore,textDesignTool:n.editor.spriteStore.textDesignToolStore,library:n.editor.libraryStore,modal:n.editor.modalStore,snapping:n.editor.snappingStore,config:n.editor.configStore,active:n.editor.activeStore,canvas:n.editor.canvasStore,history:n.editor.historyStore,editor:n.editor},"basic"===n.editor.configStore.config.layout?import("./index-578e453a.js").then((function(e){var t=e.BasicUI;n.UIComponent=t,n.forceUpdate()})):Promise.resolve().then((function(){return Y_})).then((function(e){var t=e.AdvancedUI;n.UIComponent=t,n.forceUpdate()})),n}return S(t,e),t.prototype.componentWillUnmount=function(){this.ui.removeAllListeners(we.EXPORT),this.ui.removeAllListeners(we.HISTORY_CHANGE),this.ui.removeAllListeners(we.EDITOR_READY)},t.prototype.hasChanges=function(){return this.editor.hasChanges()},t.prototype.render=function(){if(this.editor){var e=this.UIComponent;return this.storeProps&&e?p.createElement(e,{editor:this.editor,storeProps:this.storeProps}):null}return null},t}(p.Component),oB=Ih.Loader,aB=Ih.Input,sB=Ih.ColorItem,lB=Ih.ColorItemBase,cB=Ih.ColorItemBackground,uB=Ih.ColorItemTiledBackground,dB=Ih.ColorItemActiveOverlay,pB=aB.Label,fB=aB.Checkbox,hB=aB.CheckboxBase,mB=aB.CheckboxInput,gB=aB.CheckboxCheckMark,yB=zh,vB=zh;export{ye as $,yB as A,Nh as B,X_ as C,Q as D,J as E,te as F,ne as G,re as H,Zu as I,ie as J,ae as K,oB as L,oe as M,le as N,Ku as O,rB as P,ce as Q,ue as R,q as S,Qb as T,de as U,V,fe as W,he as X,se as Y,me as Z,ge as _,vB as a,ve as a0,be as a1,_e as a2,Se as a3,Ee as a4,ke as a5,xe as a6,we as a7,Te as a8,E as a9,C as aA,qg as aB,Bi as aC,Xu as aD,Yv as aE,sl as aF,Kg as aG,Vs as aH,Is as aI,zs as aJ,Wv as aK,fy as aL,Vv as aM,Wh as aN,Bv as aO,kv as aP,Gv as aQ,Ic as aR,R as aa,L as ab,M as ac,z as ad,I as ae,A as af,os as ag,S as ah,ko as ai,Ih as aj,rc as ak,wc as al,td as am,ld as an,k as ao,sd as ap,Nu as aq,cd as ar,Yu as as,Hh as at,Yg as au,ja as av,ty as aw,Us as ax,Xg as ay,ey as az,Fh as b,Ju as c,pB as d,fB as e,hB as f,mB as g,gB as h,sB as i,lB as j,cB as k,uB as l,dB as m,iB as n,ct as o,Xa as p,H as q,W as r,F as s,j as t,B as u,G as v,X as w,$ as x,Z as y,ee as z};
